<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<meta name="author" content="Miguel Angel Lozano">
<title>Componentes Web</title>
<style>/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 97%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: #6f6f6f; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #1164be; text-decoration: none; line-height: inherit; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.4; margin-bottom: 1em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: bold; font-style: normal; color: #1c355e; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #6f6f6f; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: bold; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.4; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 2.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }

blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

/*@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }*/
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; border-bottom: 1px solid #dddddd }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 3px 2px 1px 2px; background-color: #eeeeee; border: 1px solid #dddddd; -webkit-border-radius: 0; border-radius: 0; line-height: inherit; font-weight: normal; }

pre, pre > code { line-height: 1.4; color: black; font-family: monospace, serif; font-weight: normal; }

.keyseq { color: #555555; }

kbd { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: #090909; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: black; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #dddddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #dddddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #dddddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #555555; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #6f6f6f; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #6f6f6f; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: black; border-bottom: 1px solid #dddddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#floating {
  position: fixed;
  z-index: 1000;
  padding: 0.5em;
  right: 0;
  top: 0;
  background: white;
  box-shadow: 0 0 1em #777777;
  -webkit-box-shadow: 0 0 1em #777777;
  -moz-box-shadow: 0 0 1em #777777;
  -webkit-border-bottom-left-radius: 5px;
  -moz-border-radius-bottomleft: 5px;
  max-height: 80%;
  overflow: auto;
}

#floating #full { display: none; } /* Hide the full TOC by default */

#floating:hover #full{
  display: block; /* Show it on hover */
}


#toc { border-bottom: 1px solid #dddddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; list-style-type: none; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #6f6f6f; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f2f2f2; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }

#footer-text { color: #dddddd; line-height: 1.44; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { .sect1 { padding-bottom: 1.25em; } }
.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #222222; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #151515; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: black; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #555555; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #6f6f6f; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eeeeee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px solid #cccccc; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; padding: 0.8em 0.8em 0.65em 0.8em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #eeeeee; background-color: black; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 0.8em 0.8em 0.65em 0.8em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #6f6f6f; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #6f6f6f; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #555555; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #6f6f6f; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.05em; color: #555555; }

.quoteblock.abstract { margin: 0 0 1.25em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.spread { width: 100%; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dddddd; }

table.grid-all th.tableblock, table.grid-all td.tableblock { border-width: 0 1px 1px 0; }

table.grid-all tfoot > tr > th.tableblock, table.grid-all tfoot > tr > td.tableblock { border-width: 1px 1px 0 0; }

table.grid-cols th.tableblock, table.grid-cols td.tableblock { border-width: 0 1px 0 0; }

table.grid-all * > tr > .tableblock:last-child, table.grid-cols * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-rows th.tableblock, table.grid-rows td.tableblock { border-width: 0 0 1px 0; }

table.grid-all tbody > tr:last-child > th.tableblock, table.grid-all tbody > tr:last-child > td.tableblock, table.grid-all thead:last-child > tr > th.tableblock, table.grid-rows tbody > tr:last-child > th.tableblock, table.grid-rows tbody > tr:last-child > td.tableblock, table.grid-rows thead:last-child > tr > th.tableblock { border-bottom-width: 0; }

table.grid-rows tfoot > tr > th.tableblock, table.grid-rows tfoot > tr > td.tableblock { border-width: 1px 0 0 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: whitesmoke; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 2.5em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-check-square-o:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .75em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 0.75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
span.footnote a:active, span.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #207c98; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

.literalblock pre, .listingblock pre { background: #eeeeee; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
<style>.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments  { background: #f8f8f8; }
.listingblock .pygments .tok-c { color: #408080; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
.listingblock .pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #B00040 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #666666 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #BA2121 } /* Literal.String */
.listingblock .pygments .tok-na { color: #7D9029 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #008000 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #880000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #0000FF } /* Name.Function */
.listingblock .pygments .tok-nl { color: #A0A000 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #19177C } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
.listingblock .pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #008000 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
.listingblock .pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Componentes Web</h1>
<div class="details">
<span id="author" class="author">Miguel Angel Lozano</span><br>
<span id="email" class="email"><a href="mailto:malozano@ua.es">malozano@ua.es</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Índice de contenidos</div>
<ul class="sectlevel1">
<li><a href="#sesion08">8. Facelets, JSTL y lenguajes de expresiones</a>
<ul class="sectlevel2">
<li><a href="#_javaserver_faces_y_facelets">8.1. JavaServer Faces y Facelets</a></li>
<li><a href="#_introducci%C3%B3n_a_los_facelets">8.2. Introducción a los Facelets</a>
<ul class="sectlevel3">
<li><a href="#_mapeo_del_em_servlet_em_de_jsf">8.2.1. Mapeo del <em>servlet</em> de JSF</a></li>
<li><a href="#_estructura_b%C3%A1sica_de_un_em_facelet_em">8.2.2. Estructura básica de un <em>Facelet</em></a></li>
<li><a href="#_declaraci%C3%B3n_de_librer%C3%ADas_de_etiquetas">8.2.3. Declaración de librerías de etiquetas</a></li>
</ul>
</li>
<li><a href="#_lenguaje_de_expresiones">8.3. Lenguaje de expresiones</a>
<ul class="sectlevel3">
<li><a href="#_introducci%C3%B3n_al_lenguaje_de_expresiones">8.3.1. Introducción al lenguaje de expresiones</a></li>
<li><a href="#_atributos_y_expresiones">8.3.2. Atributos y expresiones</a></li>
<li><a href="#_operadores">8.3.3. Operadores</a></li>
<li><a href="#_nombres_de_variables">8.3.4. Nombres de variables</a></li>
<li><a href="#_lenguaje_de_expresiones_y_cdi">8.3.5. Lenguaje de expresiones y CDI</a></li>
</ul>
</li>
<li><a href="#_librer%C3%ADas_de_etiquetas">8.4. Librerías de etiquetas</a>
<ul class="sectlevel3">
<li><a href="#_librer%C3%ADa_de_etiquetas_jstl">8.4.1. Librería de etiquetas JSTL</a></li>
<li><a href="#_librer%C3%ADas_de_jsf_em_facelets_em">8.4.2. Librerías de JSF/<em>Facelets</em></a></li>
</ul>
</li>
<li><a href="#_ejercicios">8.5. Ejercicios</a>
<ul class="sectlevel3">
<li><a href="#_p%C3%A1gina_de_chat_con_em_facelets_em_1_punto">8.5.1. Página de chat con <em>Facelets</em> (1 punto)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="sesion08">8. Facelets, JSTL y lenguajes de expresiones</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_javaserver_faces_y_facelets">8.1. JavaServer Faces y Facelets</h3>
<div class="paragraph">
<p>JavaServer Faces (JSF) es un <em>framework</em> para la creación de aplicaciones web en el lado del servidor. Dentro de este <em>framework</em> encontramos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Una API que nos proporciona <strong>componentes</strong> que podemos utilizar en la interfaz de nuestra aplicación y nos permite gestionar sus eventos y su validación en el lado del servidor. Ejemplos de componentes son los botones, cuadros de texto, imágenes, mensajes de texto, etc.</p>
</li>
<li>
<p>Librerías de <strong>etiquetas</strong> con las que podemos añadir los componentes anteriores a una página web sin necesidad de introducir código Java. Por ejemplo, encontramos etiquetas como <code>&lt;h:form&gt;</code>, <code>&lt;h:inputText&gt;</code>, <code>&lt;h:graphicImage&gt;</code>, <code>&lt;h:selectOneMenu&gt;</code>, etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Una página JSF se representa mediante un árbol de componentes, al que se llama <strong>vista</strong>.</p>
</div>
<div class="paragraph">
<p>Los <strong>componentes</strong> que constituyen la vista son elementos reutilizables y configurables como por ejemplo botones, campos de texto, tablas, etc. Todos los componentes se implementan en clases que heredan de <code>UIComponentBase</code>. Estas clases implementan la funcionalidad del componente, pero no la forma de mostrarlo. Esta separación permite crear de forma sencilla varias formas de mostrar un componente reutilizando su funcionalidad. La forma de mostrar un componente se implementa mediante un objeto de tipo <code>Renderer</code>.</p>
</div>
<div class="paragraph">
<p>Podemos tener diferentes <strong>etiquetas</strong> para un mismo componente, de manera que cada una de ellas lo muestre de forma distinta. Por ejemplo, el componente <code>UISelectOne</code> tiene la funcionalidad de permitir seleccionar un único elemento de una lista, pero puede presentarse mediante tres <em>renderers</em> alternativos, por lo que tenemos disponibles tres etiquetas para este mismo componente:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;h:selectOneListbox&gt;</code>: Se muestra como un cuadro de lista donde aparecen todas las opciones.</p>
</li>
<li>
<p><code>&lt;h:selectOneMenu&gt;</code>: Se muestra como un menú desplegable.</p>
</li>
<li>
<p><code>&lt;h:selectOneRadio&gt;</code>: Se muestra como botones de radio.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cada etiqueta de la librería HTML de JSF relaciona un componente con un <em>renderer</em> determinado para mostrarlo.</p>
</div>
<div class="paragraph">
<p>Una ventaja de JSF es que separa claramente la presentación de la lógica. Existen diferentes opciones para crear la vista en JSF. Se podría utilizar cualquier tipo de componente en el que podamos incluir las etiquetas que proporciona, como son por ejemplo los JSPs, pero la opción recomendada es la tecnología de <em>Facelets</em>. Vamos a centrarnos en estudiar los <em>Facelets</em> y los distintos elementos que podemos incluir en ellos.</p>
</div>
</div>
<div class="sect2">
<h3 id="_introducción_a_los_facelets">8.2. Introducción a los Facelets</h3>
<div class="paragraph">
<p>Los <em>Facelets</em> consisten en páginas creadas en XHTML, dentro de las cuales podemos utilizar los siguientes elementos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Librerías de <em>tags</em> de Facelets, JSF y JSTL</strong>: Se utilizan fundamentalmente para crear los diferentes componentes de la interfaz de la página, además de especificar la forma de validarlos o de presentar los datos.</p>
</li>
<li>
<p><strong>Lenguaje de expresiones (EL)</strong>: Nos permite relacionar los componentes anteriores con datos de nuestra aplicación, como por ejemplo aquellos contenidos en <em>managed beans</em>, o aquellos que recibimos como parámetros de la petición. Podremos utilizar este lenguaje en el cuerpo de la página o en los atributos de las etiquetas anteriores para consultar o guardar datos en <em>managed beans</em>, realizar operaciones con ellos, etc.</p>
</li>
<li>
<p><strong>Plantillas de componentes y páginas</strong>: Podemos definir la estructura de contenido de nuestras páginas mediante una plantilla, y aplicar esta plantilla a todas ellas. Por ejemplo podremos definir en la plantilla bloques para la cabecera, pie, menú lateral, etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>En los siguientes apartados estudiaremos con detalle cada uno de los componentes anteriores.</p>
</div>
<div class="paragraph">
<p>Para crear una aplicación que utilice <em>Facelets</em> deberemos realizar lo siguiente:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mapear el servet de JSF (<code>FacesServlet</code>) a un determinado patrón de URL (por ejemplo <code>*.xhtml</code>).</p>
</li>
<li>
<p>Crear <em>managed beans</em>. Desde los <em>Facelets</em> accederemos a los datos de nuestra aplicación a través de ellos.</p>
</li>
<li>
<p>Crear páginas utilizando las etiquetas de componentes. Los <em>Facelets</em> serán estas página XHTML que utilizarán dichas etiquetas y accederán a los datos mediante <em>managed beans</em>.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_mapeo_del_em_servlet_em_de_jsf">8.2.1. Mapeo del <em>servlet</em> de JSF</h4>
<div class="paragraph">
<p>Para poder usar <em>Facelets</em> deberemos mapear el <em>servlet</em> de JSF a un determinado patrón de URL para que se encargue de procesar todas las páginas que se ajusten a dicho patrón. Normalmente quedará mapeado al patrón <code>*.xhtml</code>, para que todas las páginas que tengan dicha extensión sean procesadas como <em>Facelets</em>. De no añadir este mapeo se tratarían como páginas estáticas.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span class="tok-nt">&lt;servlet&gt;</span>
    <span class="tok-nt">&lt;servlet-name&gt;</span>Faces Servlet<span class="tok-nt">&lt;/servlet-name&gt;</span>
    <span class="tok-nt">&lt;servlet-class&gt;</span>javax.faces.webapp.FacesServlet<span class="tok-nt">&lt;/servlet-class&gt;</span>
    <span class="tok-nt">&lt;load-on-startup&gt;</span>1<span class="tok-nt">&lt;/load-on-startup&gt;</span>
<span class="tok-nt">&lt;/servlet&gt;</span>
<span class="tok-nt">&lt;servlet-mapping&gt;</span>
    <span class="tok-nt">&lt;servlet-name&gt;</span>Faces Servlet<span class="tok-nt">&lt;/servlet-name&gt;</span>
    <span class="tok-nt">&lt;url-pattern&gt;</span>*.xhtml<span class="tok-nt">&lt;/url-pattern&gt;</span>
<span class="tok-nt">&lt;/servlet-mapping&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Esto puede hacerse de forma automática desde IntelliJ. Bastará con situarse sobre el directorio <code>WEB-INF</code>, pulsar con el botón derecho y seleccionar <em>New &gt; XML Configuration File &gt; Faces Config</em>. Con esto se creará en <code>WEB-INF</code> en fichero de configuración de JSF (<code>faces-config.xml</code>), y añadirá al descriptor de despliegue la configuración del <em>Faces Servlet</em> que se encargará de procesar los <em>Facelets</em>.
</td>
</tr>
</table>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="Images/faces-config.png" alt="Creación de la configuración de JSF" width="66%">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_estructura_básica_de_un_em_facelet_em">8.2.2. Estructura básica de un <em>Facelet</em></h4>
<div class="paragraph">
<p>A continuación mostramos la estructura básica que tiene un <em>Facelet</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span class="tok-cp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span>
<span class="tok-cp">    &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>

<span class="tok-nt">&lt;html</span> <span class="tok-na">lang=</span><span class="tok-s">&quot;en&quot;</span>
      <span class="tok-na">xmlns=</span><span class="tok-s">&quot;http://www.w3.org/1999/xhtml&quot;</span>
      <span class="tok-na">xmlns:h=</span><span class="tok-s">&quot;http://xmlns.jcp.org/jsf/html&quot;</span><span class="tok-nt">&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="tok-nt">&lt;h:head&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-nt">&lt;title&gt;</span>Mi primer Facelet<span class="tok-nt">&lt;/title&gt;</span>
    <span class="tok-nt">&lt;/h:head&gt;</span>
    <span class="tok-nt">&lt;h:body&gt;</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="tok-c">&lt;!-- Contenido de la página --&gt;</span>
    <span class="tok-nt">&lt;/h:body&gt;</span>
<span class="tok-nt">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Declaración de las librerías de etiquetas a utilizar. En este caso declaramos únicamente la librería HTML de JSF asignándole el prefijo <code>h</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>En lugar de <code>&lt;head&gt;</code> se suele utilizar una etiqueta equivalente de la librería HTML de JSP. Al haber sido declarada con prefijo <code>h</code>, dicha etiqueta será <code>&lt;h:head&gt;</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Al igual que <code>&lt;head&gt;</code>, para la etiqueta <code>&lt;body&gt;</code> también utilizamos la etiqueta equivalente de JSF.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Podemos crear un <em>Facelet</em> desde IntelliJ pulsando con el botón derecho sobre el directorio donde lo queramos añadir (por ejemplo <code>webapp</code>) y seleccionando <em>New &gt; JSF/Facelets</em>.
</td>
</tr>
</table>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="Images/create-facelet.png" alt="Creación de un Facelet con IntelliJ" width="50%">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_declaración_de_librerías_de_etiquetas">8.2.3. Declaración de librerías de etiquetas</h4>
<div class="paragraph">
<p>En el ejemplo anterior hemos declarado únicamente la librería HTML de JSF. Podríamos añadir a la declaración otras librerías de etiquetas como por ejemplo las que se muestran a continución:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Librería</th>
<th class="tableblock halign-left valign-top">URI</th>
<th class="tableblock halign-left valign-top">Prefijo</th>
<th class="tableblock halign-left valign-top">Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSF HTML Tag Library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://xmlns.jcp.org/jsf/html" class="bare">http://xmlns.jcp.org/jsf/html</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">h</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Componentes de la UI de la página</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSF Core Tag Library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://xmlns.jcp.org/jsf/core" class="bare">http://xmlns.jcp.org/jsf/core</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Funciones y acciones</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSTL Core Tag Library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://xmlns.jcp.org/jsp/jstl/core" class="bare">http://xmlns.jcp.org/jsp/jstl/core</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Etiquetas de propósito general de JSTL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JSTL Functions Tag Library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://xmlns.jcp.org/jsp/jstl/functions" class="bare">http://xmlns.jcp.org/jsp/jstl/functions</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Funciones de JSTL</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Cada librería tiene un prefijo definido por convención que utilizaremos normalmente al declararla, pero podríamos cambiarlo. Por ejemplo</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span class="tok-nt">&lt;html</span> <span class="tok-na">lang=</span><span class="tok-s">&quot;en&quot;</span>
      <span class="tok-na">xmlns=</span><span class="tok-s">&quot;http://www.w3.org/1999/xhtml&quot;</span>
      <span class="tok-na">xmlns:h=</span><span class="tok-s">&quot;http://xmlns.jcp.org/jsf/html&quot;</span>
      <span class="tok-na">xmlns:c=</span><span class="tok-s">&quot;http://xmlns.jcp.org/jsp/jstl/core&quot;</span><span class="tok-nt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En este caso hemos declarado la librería HTML de JSF con prefijo <code>h</code> y la librería Core de JSTL con prefijo <code>c</code>. Podríamos también declararlas de la siguiente forma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span class="tok-nt">&lt;html</span> <span class="tok-na">lang=</span><span class="tok-s">&quot;en&quot;</span>
      <span class="tok-na">xmlns=</span><span class="tok-s">&quot;http://www.w3.org/1999/xhtml&quot;</span>
      <span class="tok-na">xmlns:html=</span><span class="tok-s">&quot;http://xmlns.jcp.org/jsf/html&quot;</span>
      <span class="tok-na">xmlns:core=</span><span class="tok-s">&quot;http://xmlns.jcp.org/jsp/jstl/core&quot;</span><span class="tok-nt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En este último caso las etiquetas de la librería HTML de JSF se escribirían con prefijo <code>html</code>, como por ejemplo <code>&lt;html:head&gt;</code> y <code>&lt;html:body&gt;</code>. De la misma forma, las etiquetas de la librería Core de JSTL se escribirían con prefijo <code>core</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lenguaje_de_expresiones">8.3. Lenguaje de expresiones</h3>
<div class="paragraph">
<p>Para poder conectar las etiquetas de un <em>Facelet</em> con los datos de nuestra aplicación necesitaremos introducir en ellas expresiones que hagan referencia a los <em>managed beans</em> que hayamos definido. Estas expresiones se definen mediante el llamado lenguaje de expresiones (EL).</p>
</div>
<div class="sect3">
<h4 id="_introducción_al_lenguaje_de_expresiones">8.3.1. Introducción al lenguaje de expresiones</h4>
<div class="paragraph">
<p>A partir de la versión 2.0 de JSP se introdujo en las páginas un lenguaje de expresiones que permite hacer referencia a objetos de la aplicación sin necesidad de introducir código Java. En realidad, dicho lenguaje se implantó con las primeras versiones de JSTL, una librería de etiquetas JSP que se considera estándar, y que permitía utilizar este lenguaje de expresiones en los atributos de dichas etiquetas, constituyendo una característica muy importante de JSTL.</p>
</div>
<div class="paragraph">
<p>Cualquier elemento que pertenezca al lenguaje de expresiones irá englobado dentro de la marca <code>${&#8230;&#8203;}</code>. En ella podremos colocar nombres de <em>managed beans</em>, parámetros de petición HTTP, elementos de una sesión&#8230;&#8203; etc.</p>
</div>
<div class="paragraph">
<p>Por ejemplo, si previamente hemos creado un <em>managed bean</em> <code>miBean</code>, podríamos acceder a él desde la página (JSP o <em>Facelet</em>) con algo como:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;h3&gt;</span>El valor del bean es ${miBean}<span class="tok-nt">&lt;/h3&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si lo que queremos es mostrar el parámetro <code>password</code> que hemos tomado de un formulario, para sacarlo por pantalla o guardarlo en alguna base de datos, podríamos acceder a él con algo como:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>Accediendo al parámetro ${param.password}</code></pre>
</div>
</div>
<div class="paragraph">
<p>También se pueden utilizar, como veremos, expresiones más complejas, que se evalúan desde el contenedor de <em>Facelets</em> o JSP. Por ejemplo, si tenemos un <em>bean</em> <code>edad</code> para una persona y queremos comprobar si dicha persona es mayor de edad, podríamos poner:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>${edad &gt; 18}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Y luego utilizar el resultado de esta expresión en otras zonas (por ejemplo, etiquetas condicionales de JSTL) para realizar la acción correspondiente.</p>
</div>
<div class="paragraph">
<p>Se describe a continuación, y a grandes rasgos, el lenguaje de expresiones incluido en JSTL 1.0, y en general a partir de JSP 2.0. El lenguaje está inspirado en los lenguajes ECMAScript y XPath, y está basado en espacios de nombres (atributos <em>PageContext</em>), propiedades de elementos, operadores relacionales, lógicos y aritméticos, y un conjunto de objetos implícitos.</p>
</div>
</div>
<div class="sect3">
<h4 id="_atributos_y_expresiones">8.3.2. Atributos y expresiones</h4>
<div class="paragraph">
<p>Como hemos comentado anteriormente, podremos invocar a este lenguaje desde cualquier lugar de nuestra página (en JSP 2.0 o <em>Facelets</em>), o dentro de un atributo de una etiqueta, mediante el elemento <code>${&#8230;&#8203;}</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>${expresion}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Esta expresión podrá estar:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Por sí sola dentro de un atributo de una etiqueta (por ejemplo de JSTL):</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:set</span> <span class="tok-na">var=</span><span class="tok-s">&quot;miVariable&quot;</span> <span class="tok-na">value=</span><span class="tok-s">&quot;${expresion}&quot;</span><span class="tok-nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En este caso, se evalúa la expresión y el resultado se convierte al tipo de dato del atributo, siguiendo las reglas de conversión internas del lenguaje.</p>
</div>
</li>
<li>
<p>Combinada con texto dentro de un atributo de una etiqueta (por ejemplo de JSTL):</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:set</span> <span class="tok-na">var=</span><span class="tok-s">&quot;miVariable&quot;</span> <span class="tok-na">value=</span><span class="tok-s">&quot;texto${e1} y ${e2}texto&quot;</span><span class="tok-nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Aquí, las expresiones se evalúan de izquierda a derecha, y se intercalan entre el texto, convirtiéndolas a <em>String</em> (siguiendo reglas de conversión internas). Luego, la cadena resultante se convierte al tipo del atributo en el que esté (si está dentro de algún atributo).</p>
</div>
</li>
<li>
<p>Fuera de atributos, dentro del contenido HTML de la página JSP:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;h3&gt;</span>Hola, esto es una página<span class="tok-nt">&lt;/h3&gt;</span>
<span class="tok-nt">&lt;p&gt;</span>Y aquí ponemos una expresión ${expresion}, para mostrar su valor<span class="tok-nt">&lt;/p&gt;</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Para cadenas que contengan la secuencia '${' sin que sea propiamente una expresión, se encapsula esa secuencia así: <code>${'${'}</code>. Por ejemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>Cadena con ${'${'}expr}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mostraría: "<em>Cadena con ${expr}</em>"</p>
</div>
</div>
<div class="sect3">
<h4 id="_operadores">8.3.3. Operadores</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Operadores <code>[ ]</code> y <code>.</code></strong>: se unifican los operadores <code>[ ]</code> y <code>.</code> de forma que son equivalentes:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>${expr.campo}
${expr["campo"]}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Operadores aritméticos</strong>:</p>
</li>
<li>
<p><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>: suma, resta, multiplicación y división</p>
</li>
<li>
<p><code>div</code>: división entera</p>
</li>
<li>
<p><code>%</code>, <code>mod</code>: resto (se mantienen los dos por compatibilidad con XPath y ECMAScript)</p>
</li>
<li>
<p><code>-</code>: cambio de signo</p>
</li>
<li>
<p><strong>Operadores relacionales</strong>:</p>
</li>
<li>
<p><code>&gt;</code>, <code>gt</code>: mayor que</p>
</li>
<li>
<p><code>&lt;</code>, <code>lt</code>: menor que</p>
</li>
<li>
<p><code>&gt;=</code>, <code>ge</code>: mayor o igual que</p>
</li>
<li>
<p><code>&#8656;</code>, <code>le</code>: menor o igual que</p>
</li>
<li>
<p><code>==</code>, <code>eq</code>: igual que</p>
</li>
<li>
<p><code>!=</code>, <code>ne</code>: distinto que</p>
</li>
<li>
<p><strong>Operadores lógicos</strong>:</p>
</li>
<li>
<p><code>&amp;&amp;</code>, <code>and</code>: Y lógica</p>
</li>
<li>
<p><code>||</code>, <code>or</code>: O lógica</p>
</li>
<li>
<p><code>!</code>, <code>not</code>: NO lógica</p>
</li>
<li>
<p><strong>Operador <code>empty</code></strong>: utilizado delante de un elemento, para indicar si el elemento es nulo o vacío (devolvería <code>true</code>) o no (devolvería <code>false</code>). Por ejemplo:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>${empty A}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>PRECEDENCIA</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>[ ]</code>, <code>.</code></p>
</li>
<li>
<p><code>( )</code></p>
</li>
<li>
<p><code>-</code> (cambio de signo), <code>not</code>, <code>!</code>, <code>empty</code></p>
</li>
<li>
<p><code>*</code>, <code>/</code>, <code>div</code>, <code>%</code>, <code>mod</code></p>
</li>
<li>
<p><code>+</code>, <code>-</code></p>
</li>
<li>
<p><code>&lt;</code>, <code>&gt;</code>, <code>&#8656;</code>, <code>&gt;=</code>, <code>lt</code>, <code>gt</code>, <code>le</code>, <code>ge</code></p>
</li>
<li>
<p><code>==</code>, <code>!=</code>, <code>eq</code>, <code>ne</code></p>
</li>
<li>
<p><code>&amp;&amp;</code>, <code>and</code></p>
</li>
<li>
<p><code>||</code>, <code>or</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>EJEMPLOS</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>// Daría true si el parametro nombre no se ha enviado
${empty param.nombre}

// Devolvería el resultado de la suma de ambas variables
${num1 + num2}

// Devolvería true si valor1 es mayor o igual que valor2
${valor1 &gt;= valor2}

// Daría true si v1 fuese distinto a v2, y v3 menor que v4
${v1 ne v2 and v3 &lt; v4}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nombres_de_variables">8.3.4. Nombres de variables</h4>
<div class="paragraph">
<p>El lenguaje de expresiones evalúa un identificador o nombre de elemento mirando su valor como un atributo, según el comportamiento del método <code>PageContext.findAttribute(String)</code>. Por ejemplo, si ponemos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>${valor}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se buscará el atributo <em>valor</em> en los ámbitos de página (<code>page</code>), petición (<code>request</code>), sesión (<code>session</code>) y aplicación (<code>application</code>), y si lo encuentra devuelve su valor. Si no, se devuelve <code>null</code>.</p>
</div>
<div class="paragraph">
<p><strong>Objetos implícitos</strong></p>
</div>
<div class="paragraph">
<p>Cuando como nombre de atributo se utiliza alguno de los que el lenguaje de expresiones considera como implícitos, se devolverá el objeto asociado. Dichos objetos implícitos son:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pageContext</code>: el objeto <code>PageContext</code> actual</p>
</li>
<li>
<p><code>pageScope</code>, <code>requestScope</code>, <code>sessionScope</code>, <code>applicationScope</code>: para obtener valores de atributos de página / petición / sesión / aplicación, respectivamente.</p>
</li>
<li>
<p><code>param</code>: para obtener el valor de un parámetro de petición. Se obtiene un tipo <code>String</code> (utilizando el método <code>ServletRequest.getParameter(String)</code>)</p>
</li>
<li>
<p><code>paramValues</code>: para obtener los valores de un parámetro de petición. Se obtiene un tipo <code>String[]</code> (utilizando el método <code>ServletRequest.getParameterValues(String)</code>).</p>
</li>
<li>
<p><code>header</code>: para obtener el valor de un parámetro de cabecera. Se obtiene un tipo <code>String</code> (utilizando el método <code>ServletRequest.getHeader(String)</code>)</p>
</li>
<li>
<p><code>headerValues</code>: para obtener los valores de un parámetro de cabecera. Se obtiene un tipo <code>String[]</code> (utilizando el método <code>ServletRequest.getHeaderValues(String)</code>).</p>
</li>
<li>
<p><code>cookie</code>: para obtener el valor de una <em>cookie</em>. Se obtiene un objeto <code>Cookie</code>. Las cookies se buscan con <code>HttpServletRequest.getCookies()</code></p>
</li>
<li>
<p><code>initParam</code>: para obtener el valor de un parámetro de inicialización. Se obtiene un tipo <code>String</code> (utilizando el método <code>ServletContext.getInitParameter(String)</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>EJEMPLOS</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>${sessionScope.profile}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se obtiene el atributo <code>profile</code> de la sesión</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>${param.id}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se obtiene el valor del parámetro <code>id</code> de la petición, o <code>null</code> si no se encuentra.</p>
</div>
<div class="paragraph">
<p><strong>Palabras reservadas</strong></p>
</div>
<div class="paragraph">
<p>Se tienen algunos identificadores que no podemos utilizar como nombres de atributos, como son <code>and</code>, <code>eq</code>, <code>gt</code>, <code>true</code>, <code>instanceof</code>, <code>or</code>, <code>ne</code>, <code>le</code>, <code>false</code>, <code>empty</code>, <code>not</code>, <code>lt</code>, <code>ge</code>, <code>null</code>, <code>div</code> y <code>mod</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_lenguaje_de_expresiones_y_cdi">8.3.5. Lenguaje de expresiones y CDI</h4>
<div class="paragraph">
<p>Podemos hacer que los <em>beans</em> CDI sean accesibles desde el lenguaje de expresiones. Por defecto no serán accesibles, para poder acceder a ellos deberemos darles un nombre. Esto lo haremos anotando el <em>bean</em> con la etiqueta <code>@Named</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span class="tok-nd">@Named</span><span class="tok-o">(</span><span class="tok-s">&quot;hola&quot;</span><span class="tok-o">)</span>
<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">HolaMundo</span> <span class="tok-o">{</span>
    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">getSaludo</span><span class="tok-o">()</span> <span class="tok-o">{</span>
        <span class="tok-k">return</span> <span class="tok-s">&quot;Hola mundo!&quot;</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Podremos utilizar este <em>bean</em> desde EL de la siguiente forma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code>${hola.saludo}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_librerías_de_etiquetas">8.4. Librerías de etiquetas</h3>
<div class="paragraph">
<p>Las <strong>librerías de etiquetas</strong> (<em>tag libs</em>) son conjuntos de etiquetas HTML personalizadas que permiten encapsular determinadas acciones, mediante un código Java subyacente. Es decir, se define lo que va a ejecutar la etiqueta mediante código Java, y luego se le da un nombre a la etiqueta para llamarla desde los <em>Facelets</em> o páginas JSP, estableciendo la relación entre el nombre de la etiqueta y el código Java que la implementa.
Por ejemplo, una página JSP que hace uso de librerías de tags podría tener este aspecto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="jsp"><span class="tok-k">&lt;%@</span> <span class="tok-n">taglib</span> <span class="tok-n">uri</span><span class="tok-o">=</span><span class="tok-s">&quot;ejemplo&quot;</span> <span class="tok-n">prefix</span><span class="tok-o">=</span><span class="tok-s">&quot;ej&quot;</span> <span class="tok-k">%&gt;</span>
<span class="tok-nt">&lt;html&gt;</span>
<span class="tok-nt">&lt;body&gt;</span>
<span class="tok-nt">&lt;h1&gt;</span>Ejemplo de librerias de tags<span class="tok-nt">&lt;/h1&gt;</span>
<span class="tok-nt">&lt;ej:mitag&gt;</span>Hola a todos<span class="tok-nt">&lt;/ej:mitag&gt;</span>
<span class="tok-nt">&lt;br&gt;</span>
<span class="tok-nt">&lt;ej:otrotag/&gt;</span>
<span class="tok-nt">&lt;/body&gt;</span>
<span class="tok-nt">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>donde se utiliza una librería llamada <code>ejemplo</code>, que se simplifica con el prefijo <code>ej</code>, de forma que todos los tags de dicha librería se referencian con dicho prefijo y dos puntos, teniendo la forma <code>ej:tag</code>. Se utilizan así los tags <code>mitag</code> y <code>otrotag</code>.</p>
</div>
<div class="paragraph">
<p>Podríamos incluir dicha librería en un <em>Facelet</em> de la siguiente forma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span class="tok-cp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span>
<span class="tok-cp">    &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>

<span class="tok-nt">&lt;html</span> <span class="tok-na">lang=</span><span class="tok-s">&quot;en&quot;</span>
      <span class="tok-na">xmlns=</span><span class="tok-s">&quot;http://www.w3.org/1999/xhtml&quot;</span>
      <span class="tok-na">xmlns:ej=</span><span class="tok-s">&quot;ejemplo&quot;</span><span class="tok-nt">&gt;</span>

    <span class="tok-nt">&lt;h:body&gt;</span>
      <span class="tok-nt">&lt;h1&gt;</span>Ejemplo de librerias de tags<span class="tok-nt">&lt;/h1&gt;</span>
      <span class="tok-nt">&lt;ej:mitag&gt;</span>Hola a todos<span class="tok-nt">&lt;/ej:mitag&gt;</span>
      <span class="tok-nt">&lt;br/&gt;</span>
      <span class="tok-nt">&lt;ej:otrotag/&gt;</span>
    <span class="tok-nt">&lt;/h:body&gt;</span>
<span class="tok-nt">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>JSTL</strong> (<em>JavaServer Pages Standard Tag Library</em>) es una librería de tags estándar que encapsula, en forma de <em>tags</em>, muchas funcionalidades comunes en aplicaciones JSP, de forma que, en lugar que tener que recurrir a varias librerías de <em>tags</em> de distintos distribuidores, sólo necesitaremos tener presente esta librería que, además, por el hecho de ser estándar, funciona de la misma forma en cualquier parte, y los contenedores pueden reconocerla y optimizar sus implementaciones.</p>
</div>
<div class="paragraph">
<p>JSTL permite realizar tareas como iteraciones, estructuras condicionales, tags de manipulación de documentos XML, tags SQL, etc. También introduce un lenguaje de expresiones que simplifica el desarrollo de las páginas, y proporciona un API para simplificar la configuración de los tags JSTL y el desarrollo de tags personalizados que sean conformes a las convenciones de JSTL.</p>
</div>
<div class="sect3">
<h4 id="_librería_de_etiquetas_jstl">8.4.1. Librería de etiquetas JSTL</h4>
<div class="paragraph">
<p>JSTL contiene una gran variedad de <em>tags</em> que permiten hacer distintos tipos de tareas, subdivididas en áreas. Así, JSTL proporciona varias <em>sublibrerías</em>, para describir cada una de las áreas que abarca, y dar así a cada área su propio espacio de nombres.</p>
</div>
<div class="paragraph">
<p>En la siguientes tablas se muestran las áreas cubiertas por JSTL (cada una con una librería):</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">AREA</th>
<th class="tableblock halign-left valign-top">URI</th>
<th class="tableblock halign-left valign-top">PREFIJO</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Core</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://java.sun.com/jstl/ea/core" class="bare">http://java.sun.com/jstl/ea/core</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>XML</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://java.sun.com/jstl/ea/xml" class="bare">http://java.sun.com/jstl/ea/xml</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Internacionalización (I18N)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://java.sun.com/jstl/ea/fmt" class="bare">http://java.sun.com/jstl/ea/fmt</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fmt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>SQL</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://java.sun.com/jstl/ea/sql" class="bare">http://java.sun.com/jstl/ea/sql</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sql</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Functions</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://java.sun.com/jstl/ea/functions" class="bare">http://java.sun.com/jstl/ea/functions</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fn</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Las URIs mostradas en esta tabla pueden ser utilizadas en páginas JSP. En <em>Facelets</em>/JSF sólo se han incorporado las librerías <em>Core</em> y <em>Functions</em>, siendo sus URIs las siguientes:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">AREA</th>
<th class="tableblock halign-left valign-top">URI</th>
<th class="tableblock halign-left valign-top">PREFIJO</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Core</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://java.sun.com/jstl/ea/core" class="bare">http://java.sun.com/jstl/ea/core</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Functions</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://xmlns.jcp.org/jsp/jstl/functions" class="bare">http://xmlns.jcp.org/jsp/jstl/functions</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fn</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Cada una de estar librerías se encarga de las siguientes funcionalidades:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Core</strong> se utiliza para funciones de propósito general (manejo de expresiones, sentencias de control de flujo, etc).</p>
</li>
<li>
<p><strong>XML</strong> se emplea para procesamiento de ficheros XML.</p>
</li>
<li>
<p>La librería de <strong>internationalización</strong> se usa para dar soporte a páginas multilenguaje, y a multiformatos de números, monedas, etc, en función de la región en que se tenga la aplicación.</p>
</li>
<li>
<p><strong>SQL</strong> sirve para acceder y manipular bases de datos relacionales.</p>
</li>
<li>
<p><strong>Functions</strong> contiene una serie de funciones de propósito general, como por ejemplo funciones para la manipulación de cadenas.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Las URIs y prefijos que se indican en la tabla pueden emplearse (aunque no es obligatorio) para utilizar las librerías en nuestros <em>Facelets</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span class="tok-cp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span>
<span class="tok-cp">    &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>

<span class="tok-nt">&lt;html</span> <span class="tok-na">lang=</span><span class="tok-s">&quot;en&quot;</span>
      <span class="tok-na">xmlns=</span><span class="tok-s">&quot;http://www.w3.org/1999/xhtml&quot;</span>
      <span class="tok-na">xmlns:c=</span><span class="tok-s">&quot;http://java.sun.com/jstl/ea/core&quot;</span>
      <span class="tok-na">xmlns:fn=</span><span class="tok-s">&quot;http://xmlns.jcp.org/jsp/jstl/functions&quot;</span><span class="tok-nt">&gt;</span>

    <span class="tok-nt">&lt;h:body&gt;</span>
        ...
    <span class="tok-nt">&lt;/h:body&gt;</span>
<span class="tok-nt">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_la_librería_core">La librería Core</h5>
<div class="paragraph">
<p>Los tags <code>core</code> incluyen tags de propósito general. En esta librería se tienen etiquetas para:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Funciones de propósito general: evaluar expresiones, establecer valores de parámetros, etc.</p>
</li>
<li>
<p>Funciones de control de flujo: condiciones para ejecutar unos bloques de código u otro, iteradores, etc.</p>
</li>
<li>
<p>Funciones de acceso a URLs: para importar URLS en la página actual, etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Los tags de esta librería se presentan con el prefijo "<strong>c</strong>".</p>
</div>
<div class="sect5">
<h6 id="_tags_de_propósito_general">Tags de propósito general</h6>
<div class="paragraph">
<p><strong>out</strong></p>
</div>
<div class="paragraph">
<p>El tag <strong>out</strong> evalúa el resultado de una expresión y lo pone en el objeto <code>JspWriter</code> actual. Es equivalente a la sintaxis <code>&lt;%= &#8230;&#8203; %&gt;</code> de JSP, y también a poner directamente una expresión <code>${&#8230;&#8203;}</code> en su lugar, aunque admite algunos atributos adicionales.</p>
</div>
<div class="paragraph">
<p>SINTAXIS:</p>
</div>
<div class="paragraph">
<p>Dar el valor por defecto mediante un atributo <code>default</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:out</span> <span class="tok-na">value=</span><span class="tok-s">&quot;valor&quot;</span>
 <span class="tok-err">[</span><span class="tok-na">escapeXML=</span><span class="tok-s">&quot;true|false&quot;</span><span class="tok-err">]</span>
 <span class="tok-err">[</span><span class="tok-na">default=</span><span class="tok-s">&quot;valor&quot;</span><span class="tok-err">]</span><span class="tok-nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Dar el valor por defecto mediante el cuerpo del tag:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:out</span> <span class="tok-na">value=</span><span class="tok-s">&quot;valor&quot;</span>
 <span class="tok-err">[</span><span class="tok-na">escapeXML=</span><span class="tok-s">&quot;true|false&quot;</span><span class="tok-err">]</span><span class="tok-nt">&gt;</span>
  Valor por defecto
<span class="tok-nt">&lt;/c:out&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>ATRIBUTOS:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>value</code>: expresión que se tiene que evaluar.</p>
</li>
<li>
<p><code>escapeXML</code>: a <code>true</code> (valor por defecto) indica que los caracteres &lt;, &gt;, &amp;, ', " que haya en la cadena resultado se deben convertir a sus códigos correspondientes (&lt;, &gt;, &amp;, &#039;, &#034;, respectivamente).</p>
</li>
<li>
<p><code>default</code>: valor por defecto si el resultado es <code>null</code>. Se puede indicar por el atributo o por el cuerpo del tag.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>EJEMPLO:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:out</span> <span class="tok-na">value=</span><span class="tok-s">&quot;${datos.ciudad}&quot;</span>
 <span class="tok-na">default=</span><span class="tok-s">&quot;desconocida&quot;</span><span class="tok-nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Sacaría el valor del campo <code>ciudad</code> del objeto <code>datos</code>, o mostraría &#8220;desconocida&#8221; si dicho valor es nulo.</p>
</div>
<div class="paragraph">
<p><strong>set</strong></p>
</div>
<div class="paragraph">
<p>El tag <strong>set</strong> establece el valor de un atributo en cualquier ámbito (<code>page</code>, <code>request</code>, <code>session</code>, <code>application</code>). Si el atributo no existe, se crea.</p>
</div>
<div class="paragraph">
<p>SINTAXIS:</p>
</div>
<div class="paragraph">
<p>Dar valor a una variable utilizando el atributo <code>value</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:set</span> <span class="tok-na">value=</span><span class="tok-s">&quot;valor&quot;</span> <span class="tok-na">var=</span><span class="tok-s">&quot;variable&quot;</span>
 <span class="tok-err">[</span><span class="tok-na">scope=</span><span class="tok-s">&quot;page|request|session|application&quot;</span><span class="tok-err">]</span><span class="tok-nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Dar valor a una variable utilizando el cuerpo del tag:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:set</span> <span class="tok-na">var=</span><span class="tok-s">&quot;variable&quot;</span>
 <span class="tok-err">[</span><span class="tok-na">scope=</span><span class="tok-s">&quot;page|request|session|application&quot;</span><span class="tok-err">]</span><span class="tok-nt">&gt;</span>
  Valor
<span class="tok-nt">&lt;/c:set&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Dar valor a una propiedad de un objeto utilizando el atributo <code>value</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:set</span> <span class="tok-na">value=</span><span class="tok-s">&quot;valor&quot;</span> <span class="tok-na">target=</span><span class="tok-s">&quot;objeto&quot;</span>
 <span class="tok-na">property=</span><span class="tok-s">&quot;propiedad&quot;</span><span class="tok-nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Dar valor a una propiedad de un objeto utilizando el cuerpo del tag:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:set</span> <span class="tok-na">target=</span><span class="tok-s">&quot;objeto&quot;</span> <span class="tok-na">property=</span><span class="tok-s">&quot;propiedad&quot;</span><span class="tok-nt">&gt;</span>
  Valor
<span class="tok-nt">&lt;/c:set&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>ATRIBUTOS:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>value</code>: valor que se asigna. Podemos dar el valor con este atributo o con el cuerpo del tag.</p>
</li>
<li>
<p><code>var</code>: variable a la que se asigna el valor.</p>
</li>
<li>
<p><code>scope</code>: ámbito de la variable a la que se asigna el valor.</p>
</li>
<li>
<p><code>target</code>: objeto al que se le modifica una propiedad. Debe ser un objeto JavaBeans con una propiedad <code>propiedad</code> que pueda establecerse, o un objeto <code>java.util.Map</code>.</p>
</li>
<li>
<p><code>property</code>: propiedad a la que se le asigna valor en el objeto <code>target</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>EJEMPLO:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:set</span> <span class="tok-na">var=</span><span class="tok-s">&quot;foo&quot;</span> <span class="tok-na">value=</span><span class="tok-s">&quot;2&quot;</span><span class="tok-nt">/&gt;</span>
...
<span class="tok-nt">&lt;c:out</span> <span class="tok-na">value=</span><span class="tok-s">&quot;${foo}&quot;</span><span class="tok-nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Asignaría a la variable <code>foo</code> el valor "2", y luego mostraría el valor por pantalla.</p>
</div>
<div class="paragraph">
<p><strong>Otras Etiquetas</strong></p>
</div>
<div class="paragraph">
<p>Existen otras etiquetas, como <code>remove</code> o <code>catch</code>, que no se comentan aquí.</p>
</div>
</div>
<div class="sect5">
<h6 id="_tags_de_control_de_flujo">Tags de control de flujo</h6>
<div class="paragraph">
<p><strong>if</strong></p>
</div>
<div class="paragraph">
<p>El tag <strong>if</strong> permite ejecutar su código si se cumple la condición que contiene su atributo <code>test</code>.</p>
</div>
<div class="paragraph">
<p>SINTAXIS:</p>
</div>
<div class="paragraph">
<p>Sin cuerpo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:if</span> <span class="tok-na">test=</span><span class="tok-s">&quot;condicion&quot;</span> <span class="tok-na">var=</span><span class="tok-s">&quot;variable&quot;</span>
 <span class="tok-err">[</span><span class="tok-na">scope=</span><span class="tok-s">&quot;page|request|session|application&quot;</span><span class="tok-err">]</span><span class="tok-nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Con cuerpo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:if</span> <span class="tok-na">test=</span><span class="tok-s">&quot;condicion&quot;</span> <span class="tok-err">[</span><span class="tok-na">var=</span><span class="tok-s">&quot;variable&quot;</span><span class="tok-err">]</span>
 <span class="tok-err">[</span><span class="tok-na">scope=</span><span class="tok-s">&quot;page|request|session|application&quot;</span><span class="tok-err">]</span><span class="tok-nt">&gt;</span>
  Cuerpo
<span class="tok-nt">&lt;/c:if&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>ATRIBUTOS:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>test</code>: condicion que debe cumplirse para ejecutar el <code>if</code>.</p>
</li>
<li>
<p><code>var</code>: variable donde se guarda el resultado de evaluar la expresión. El tipo de esta variable debe ser <code>Boolean</code>.</p>
</li>
<li>
<p><code>scope</code>: ámbito de la variable a la que se asigna el valor de la condición.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>EJEMPLO:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:if</span> <span class="tok-na">test=</span><span class="tok-s">&quot;${visitas &gt; 1000}&quot;</span><span class="tok-nt">&gt;</span>
<span class="tok-nt">&lt;h1&gt;</span>¡Mas de 1000 visitas!<span class="tok-nt">&lt;/h1&gt;</span>
<span class="tok-nt">&lt;/c:if&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Sacaría el mensaje &#8220;¡Mas de 1000 visitas!&#8221; si el contador <code>visitas</code> fuese mayor que 1000.</p>
</div>
<div class="paragraph">
<p><strong>choose</strong></p>
</div>
<div class="paragraph">
<p>El tag <strong>choose</strong> permite definir varios bloques de código y ejecutar uno de ellos en función de una condición. Dentro del <code>choose</code> puede haber espacios en blanco, una o varias etiquetas <strong>when</strong> y cero o una etiquetas <strong>otherwise</strong>.</p>
</div>
<div class="paragraph">
<p>El funcionamiento es el siguiente: se ejecutará el código de la primera etiqueta <strong>when</strong> que cumpla la condición de su atributo <strong>test</strong>. Si ninguna etiqueta <code>when</code> cumple su condición, se ejecutará el código de la etiqueta <strong>otherwise</strong> (esta etiqueta, si aparece, debe ser la última hija de <code>choose</code>).</p>
</div>
<div class="paragraph">
<p>SINTAXIS:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:choose&gt;</span>
  <span class="tok-nt">&lt;c:when</span> <span class="tok-na">test=</span><span class="tok-s">&quot;condicion1&quot;</span><span class="tok-nt">&gt;</span>
    codigo1
  <span class="tok-nt">&lt;/c:when&gt;</span>
  <span class="tok-nt">&lt;c:when</span> <span class="tok-na">test=</span><span class="tok-s">&quot;condicion2&quot;</span><span class="tok-nt">&gt;</span>
    codigo2
  <span class="tok-nt">&lt;/c:when&gt;</span>
  ...
  <span class="tok-nt">&lt;c:when</span> <span class="tok-na">test=</span><span class="tok-s">&quot;condicionN&quot;</span><span class="tok-nt">&gt;</span>
    codigoN
  <span class="tok-nt">&lt;/c:when&gt;</span>
  <span class="tok-nt">&lt;c:otherwise&gt;</span>
    codigo
  <span class="tok-nt">&lt;/c:otherwhise&gt;</span>
<span class="tok-nt">&lt;/c:choose&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>EJEMPLO:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:choose&gt;</span>
  <span class="tok-nt">&lt;c:when</span> <span class="tok-na">test=</span><span class="tok-s">&quot;${a &lt; 0}&quot;</span><span class="tok-nt">&gt;</span>
  <span class="tok-nt">&lt;h1&gt;</span>a menor que 0<span class="tok-nt">&lt;/h1&gt;</span>
  <span class="tok-nt">&lt;/c:when&gt;</span>
  <span class="tok-nt">&lt;c:when</span> <span class="tok-na">test=</span><span class="tok-s">&quot;${a &gt; 10}&quot;</span><span class="tok-nt">&gt;</span>
  <span class="tok-nt">&lt;h1&gt;</span>a mayor que 10<span class="tok-nt">&lt;/h1&gt;</span>
  <span class="tok-nt">&lt;/c:when&gt;</span>
  <span class="tok-nt">&lt;c:otherwise&gt;</span>
  <span class="tok-nt">&lt;h1&gt;</span>a entre 1 y 10<span class="tok-nt">&lt;/h1&gt;</span>
  <span class="tok-nt">&lt;/c:otherwhise&gt;</span>
<span class="tok-nt">&lt;/c:choose&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Sacaría el mensaje &#8220;a es menor que 0&#8221; si la variable a es menor que 0, el mensaje &#8220;a es mayor que 10&#8221; si es mayor que 10, y el mensaje &#8220;a esta entre 1 y 10&#8221; si no se cumple ninguna de las dos anteriores.</p>
</div>
<div class="paragraph">
<p><strong>forEach</strong></p>
</div>
<div class="paragraph">
<p>El tag <strong>forEach</strong> permite repetir su código recorriendo un conjunto de objetos, o durante un número determinado de iteraciones.</p>
</div>
<div class="paragraph">
<p>SINTAXIS:</p>
</div>
<div class="paragraph">
<p>Para iterar sobre un conjunto de objetos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:forEach</span> <span class="tok-err">[</span><span class="tok-na">var=</span><span class="tok-s">&quot;variable&quot;</span><span class="tok-err">]</span> <span class="tok-na">items=</span><span class="tok-s">&quot;conjunto&quot;</span>
<span class="tok-err">[</span><span class="tok-na">varStatus=</span><span class="tok-s">&quot;variableEstado&quot;</span><span class="tok-err">]</span> <span class="tok-err">[</span><span class="tok-na">begin=</span><span class="tok-s">&quot;comienzo&quot;</span><span class="tok-err">]</span>
<span class="tok-err">[</span><span class="tok-na">end=</span><span class="tok-s">&quot;final&quot;</span><span class="tok-err">]</span> <span class="tok-err">[</span><span class="tok-na">step=</span><span class="tok-s">&quot;incremento&quot;</span><span class="tok-err">]</span><span class="tok-nt">&gt;</span>
  codigo
<span class="tok-nt">&lt;/c:forEach&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Para iterar un determinado número de veces:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:forEach</span> <span class="tok-err">[</span><span class="tok-na">var=</span><span class="tok-s">&quot;variable&quot;</span><span class="tok-err">]</span>
 <span class="tok-err">[</span><span class="tok-na">varStatus=</span><span class="tok-s">&quot;variableEstado&quot;</span><span class="tok-err">]</span> <span class="tok-na">begin=</span><span class="tok-s">&quot;comienzo&quot;</span>
 <span class="tok-na">end=</span><span class="tok-s">&quot;final&quot;</span> <span class="tok-err">[</span><span class="tok-na">step=</span><span class="tok-s">&quot;incremento&quot;</span><span class="tok-err">]</span><span class="tok-nt">&gt;</span>
  codigo
<span class="tok-nt">&lt;/c:forEach&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>ATRIBUTOS:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>var</code>: variable donde guardar el elemento actual que se está explorando en la iteración. El tipo de este objeto depende del tipo de conjunto que se esté recorriendo.</p>
</li>
<li>
<p><code>items</code>: conjunto de elementos que recorre la iteración. Pueden recorrerse varios tipos:</p>
<div class="ulist">
<ul>
<li>
<p><code>Array</code>: tanto de tipos primitivos como de tipos complejos. Para los tipos primitivos, cada dato se convierte en su correspondiente <code>wrapper</code> (<code>Integer</code> para <code>int</code>, <code>Float</code> para <code>float</code>, etc)</p>
</li>
<li>
<p><code>java.util.Collection</code>: mediante el método <code>iterator()</code> se obtiene el conjunto, que se procesa en el orden que devuelve dicho método.</p>
</li>
<li>
<p><code>java.util.Iterator</code></p>
</li>
<li>
<p><code>java.util.Enumeration</code></p>
</li>
<li>
<p><code>java.util.Map</code>:el objeto del atributo <code>var</code> es entonces de tipo <code>Map.Entry</code>, y se obtiene un <code>Set</code> con los mapeos. Llamando al método <code>iterator()</code> del mismo se obtiene el conjunto a recorrer.</p>
</li>
<li>
<p><code>String</code>: la cadena representa un conjunto de valores separados por comas, que se van recorriendo en el orden en que están.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>varStatus</code>: variable donde guardar el estado actual de la iteración. Es del tipo <code>javax.servlet.jsp.jstl.core.LoopTagStatus</code>.</p>
</li>
<li>
<p><code>begin</code>: indica el valor a partir del cual comenzar la iteración. Si se está recorriendo un conjunto de objetos, indica el índice del primer objeto a explorar (el primero es el 0), y si no, indica el valor inicial del contador. Si se indica este atributo, debe ser mayor o igual que 0.</p>
</li>
<li>
<p><code>end</code>: indica el valor donde terminar la iteración. Si se está recorriendo un conjunto de objetos, indica el índice del último objeto a explorar (inclusive), y si no, indica el valor final del contador. Si se indica este atributo, debe ser mayor o igual que <code>begin</code>.</p>
</li>
<li>
<p><code>step</code>: indica cuántas unidades incrementar el contador cada iteración, para ir de <code>begin</code> a <code>end</code>. Por defecto es 1 unidad. Si se indica este atributo, debe ser mayor o igual que 1.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>EJEMPLO:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:forEach</span> <span class="tok-na">var=</span><span class="tok-s">&quot;item&quot;</span>
 <span class="tok-na">items=</span><span class="tok-s">&quot;${cart.items}&quot;</span><span class="tok-nt">&gt;</span>
  <span class="tok-nt">&lt;tr&gt;</span>
    <span class="tok-nt">&lt;td&gt;</span>
    <span class="tok-nt">&lt;c:out</span> <span class="tok-na">value=</span><span class="tok-s">&quot;${item.valor}&quot;</span><span class="tok-nt">/&gt;</span>
    <span class="tok-nt">&lt;/td&gt;</span>
  <span class="tok-nt">&lt;/tr&gt;</span>
<span class="tok-nt">&lt;/c:forEach&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Muestra el valor de todos los <code>items</code>.</p>
</div>
<div class="paragraph">
<p><strong>forTokens</strong></p>
</div>
<div class="paragraph">
<p>El tag <strong>forTokens</strong> es similar al tag <strong>foreach</strong>, pero permite recorrer una serie de <code>tokens</code> (cadenas de caracteres), separadas por el/los delimitador(es) que se indique(n).</p>
</div>
<div class="paragraph">
<p>SINTAXIS:</p>
</div>
<div class="paragraph">
<p>La sintaxis es la misma que <code>foreach</code>, salvo que se tiene un atributo <code>delims</code>, obligatorio.</p>
</div>
<div class="paragraph">
<p>ATRIBUTOS:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>var</code>: igual que para <code>foreach</code></p>
</li>
<li>
<p><code>items</code>: cadena que contiene los tokens a recorrer</p>
</li>
<li>
<p><code>delims</code>:conjunto de delimitadores que se utilizan para separar los tokens de la cadena de entrada (colocados igual que los utiliza un <code>StringTokenizer</code>).</p>
</li>
<li>
<p><code>varStatus</code>: igual que para <code>foreach</code></p>
</li>
<li>
<p><code>begin</code>: indica el índice del token a partir del cual comenzar la iteración.</p>
</li>
<li>
<p><code>end</code>: indica el índice del token donde terminar la iteración.</p>
</li>
<li>
<p><code>step</code>: igual que para <code>foreach</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>EJEMPLO:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:forTokens</span> <span class="tok-na">var=</span><span class="tok-s">&quot;item&quot;</span>
 <span class="tok-na">items=</span><span class="tok-s">&quot;un#token otro#otromas&quot;</span> <span class="tok-na">delims=</span><span class="tok-s">&quot;# &quot;</span><span class="tok-nt">&gt;</span>
  <span class="tok-nt">&lt;tr&gt;</span>
    <span class="tok-nt">&lt;td&gt;</span>
    <span class="tok-nt">&lt;c:out</span> <span class="tok-na">value=</span><span class="tok-s">&quot;${item}&quot;</span><span class="tok-nt">/&gt;</span>
    <span class="tok-nt">&lt;/td&gt;</span>
  <span class="tok-nt">&lt;/tr&gt;</span>
<span class="tok-nt">&lt;/c:forEach&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Definimos dos separadores: el <code>'#'</code> y el espacio <code>' '</code>. Así habrá 4 iteraciones, recorriendo los tokens <code>"un"</code>, <code>"token"</code>, <code>"otro"</code> y <code>"otromas"</code>.</p>
</div>
</div>
<div class="sect5">
<h6 id="_tags_de_manejo_de_urls">Tags de manejo de URLs</h6>
<div class="paragraph">
<p><strong>import</strong></p>
</div>
<div class="paragraph">
<p>El tag <strong>import</strong> permite importar el contenido de una URL.</p>
</div>
<div class="paragraph">
<p>SINTAXIS:</p>
</div>
<div class="paragraph">
<p>Para copiar el contenido de la URL en una cadena:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:import</span> <span class="tok-na">url=</span><span class="tok-s">&quot;url&quot;</span> <span class="tok-err">[</span><span class="tok-na">context=</span><span class="tok-s">&quot;contexto&quot;</span><span class="tok-err">]</span>
 <span class="tok-err">[</span><span class="tok-na">var=</span><span class="tok-s">&quot;variable&quot;</span><span class="tok-err">]</span>
 <span class="tok-err">[</span><span class="tok-na">scope=</span><span class="tok-s">&quot;page|request|session|application&quot;</span><span class="tok-err">]</span>
 <span class="tok-err">[</span><span class="tok-na">charEncoding=</span><span class="tok-s">&quot;codificacion&quot;</span><span class="tok-err">]</span><span class="tok-nt">&gt;</span>
  cuerpo para tags &quot;param&quot; opcionales
<span class="tok-nt">&lt;/c:import&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Para copiar el contenido de la URL en un <code>Reader</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:import</span> <span class="tok-na">url=</span><span class="tok-s">&quot;url&quot;</span> <span class="tok-err">[</span><span class="tok-na">context=</span><span class="tok-s">&quot;contexto&quot;</span><span class="tok-err">]</span>
 <span class="tok-na">varReader=</span><span class="tok-s">&quot;variableReader&quot;</span>
 <span class="tok-err">[</span><span class="tok-na">charEncoding=</span><span class="tok-s">&quot;codificacion&quot;</span><span class="tok-err">]</span><span class="tok-nt">&gt;</span>
  codigo para leer del Reader
<span class="tok-nt">&lt;/c:import&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>ATRIBUTOS:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>url</code>: URL de la que importar datos</p>
</li>
<li>
<p><code>context</code>: contexto para URLs que pertenecen a contextos distintos al actual.</p>
</li>
<li>
<p><code>var</code>: variable (<code>String</code>) donde guardar el contenido de la URL</p>
</li>
<li>
<p><code>varReader</code>: variable (<code>Reader</code>) donde guardar el contenido de la URL</p>
</li>
<li>
<p><code>scope</code>: ámbito para la variable <code>var</code></p>
</li>
<li>
<p><code>charEncoding</code>: codificación de caracteres de la URL</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>EJEMPLO:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:import</span> <span class="tok-na">url=</span><span class="tok-s">&quot;http://www.ua.es&quot;</span>
 <span class="tok-na">var=</span><span class="tok-s">&quot;universidad&quot;</span><span class="tok-nt">&gt;</span>
  <span class="tok-nt">&lt;c:out</span> <span class="tok-na">value=</span><span class="tok-s">&quot;${universidad}&quot;</span><span class="tok-nt">/&gt;</span>
<span class="tok-nt">&lt;/c:import&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Obtiene y muestra el contenido de la URL indicada.</p>
</div>
<div class="paragraph">
<p><strong>param</strong></p>
</div>
<div class="paragraph">
<p>El tag <code>param</code> se utiliza dentro del tag <code>import</code> y de otros tags (<code>redirect</code>, <code>url</code>) para indicar parámetros de la URL solicitada. Dentro del tag <code>import</code> sólo se utiliza si la URL se guarda en una cadena. Para los <code>Readers</code> no se emplean parámetros.</p>
</div>
<div class="paragraph">
<p>SINTAXIS:</p>
</div>
<div class="paragraph">
<p>Sin cuerpo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:param</span> <span class="tok-na">name=</span><span class="tok-s">&quot;nombre&quot;</span> <span class="tok-na">value=</span><span class="tok-s">&quot;valor&quot;</span><span class="tok-nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Con cuerpo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:param</span> <span class="tok-na">name=</span><span class="tok-s">&quot;nombre&quot;</span><span class="tok-nt">&gt;</span>
  Valor
<span class="tok-nt">&lt;/c:param&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>ATRIBUTOS:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code>: nombre del parámetro</p>
</li>
<li>
<p><code>value</code>: valor del parámetro. Puede indicarse bien mediante este atributo, bien en el cuerpo del tag.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>EJEMPLO:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;c:import</span> <span class="tok-na">url=</span><span class="tok-s">&quot;http://localhost/mipagina.jsp&quot;</span>
 <span class="tok-na">var=</span><span class="tok-s">&quot;universidad&quot;</span><span class="tok-nt">&gt;</span>
  <span class="tok-nt">&lt;c:param</span> <span class="tok-na">name=</span><span class="tok-s">&quot;id&quot;</span> <span class="tok-na">value=</span><span class="tok-s">&quot;12&quot;</span><span class="tok-nt">/&gt;</span>
<span class="tok-nt">&lt;/c:import&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Obtiene la página <code>mipagina.jsp?id=12</code> (le pasa como parámetro <code>id</code> el valor 12).</p>
</div>
<div class="paragraph">
<p><strong>Otras Etiquetas</strong></p>
</div>
<div class="paragraph">
<p>Existen otras etiquetas, como <code>url</code> o <code>redirect</code>, que no se comentan aquí.</p>
</div>
</div>
<div class="sect5">
<h6 id="_ejemplo">Ejemplo</h6>
<div class="paragraph">
<p>Vemos cómo quedaría el ejemplo visto en la sesión anterior para la librería <code>request</code> adaptado a la librería <code>core</code>. Partiendo del mismo formulario inicial:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;html&gt;</span>
<span class="tok-nt">&lt;body&gt;</span>
  <span class="tok-nt">&lt;form</span> <span class="tok-na">action=</span><span class="tok-s">&quot;request.jsp&quot;</span><span class="tok-nt">&gt;</span>
    Nombre:
    <span class="tok-nt">&lt;input</span> <span class="tok-na">type=</span><span class="tok-s">&quot;text&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;nombre&quot;</span><span class="tok-nt">&gt;</span>
    <span class="tok-nt">&lt;br&gt;</span>
    Descripcion:
    <span class="tok-nt">&lt;input</span> <span class="tok-na">type=</span><span class="tok-s">&quot;text&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;descripcion&quot;</span><span class="tok-nt">&gt;</span>
    <span class="tok-nt">&lt;br&gt;</span>
    <span class="tok-nt">&lt;input</span> <span class="tok-na">type=</span><span class="tok-s">&quot;submit&quot;</span> <span class="tok-na">value=</span><span class="tok-s">&quot;Enviar&quot;</span><span class="tok-nt">&gt;</span>
  <span class="tok-nt">&lt;/form&gt;</span>
<span class="tok-nt">&lt;/body&gt;</span>
<span class="tok-nt">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Para obtener los parámetros podríamos tener una página como esta:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-err">&lt;</span>%@ taglib uri=&quot;http://java.sun.com/jstl/ea/core&quot; prefix=&quot;c&quot; %&gt;

<span class="tok-nt">&lt;html&gt;</span>
<span class="tok-nt">&lt;body&gt;</span>
  Nombre: <span class="tok-nt">&lt;c:out</span> <span class="tok-na">value=</span><span class="tok-s">&quot;${param.nombre}&quot;</span><span class="tok-nt">/&gt;</span>
  <span class="tok-nt">&lt;br&gt;</span>
  <span class="tok-nt">&lt;c:if</span> <span class="tok-na">test=</span><span class="tok-s">&quot;${not empty param.descripcion}&quot;</span><span class="tok-nt">&gt;</span>
    Descripcion: <span class="tok-nt">&lt;c:out</span> <span class="tok-na">value=</span><span class="tok-s">&quot;${param.descripcion}&quot;</span><span class="tok-nt">/&gt;</span>
  <span class="tok-nt">&lt;/c:if&gt;</span>
<span class="tok-nt">&lt;/body&gt;</span>
<span class="tok-nt">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Hemos utilizado en este caso, como ejemplo, los tags <code>out</code> e <code>if</code> (para comprobar si hay parámetro <code>descripcion</code>). En este último caso, utilizamos el operador <code>empty</code> en el lenguaje de expresiones, para ver si hay o no valor.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_la_librería_de_funciones">La librería de funciones</h5>
<div class="paragraph">
<p>JSTL dispone también de un conjunto de <strong>funciones</strong> que pueden emplearse desde dentro del lenguaje de expresiones, y permiten sobre todo manipular cadenas, para sustituir caracteres, concatenar, etc.</p>
</div>
<div class="paragraph">
<p>Para utilizar estas funciones, cargaríamos la directiva <code>taglib</code> correspondiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-err">&lt;</span>%@ taglib uri=&quot;http://java.sun.com/jstl/ea/functions&quot; prefix=&quot;fn&quot; %&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Y luego utilizaríamos las funciones que haya disponibles, dentro de una expresión del lenguaje:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html">La cadena tiene <span class="tok-nt">&lt;c:out</span> <span class="tok-na">value=</span><span class="tok-s">&quot;${fn:length(miCadena)}&quot;</span><span class="tok-nt">/&gt;</span> caracteres</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_librerías_de_jsf_em_facelets_em">8.4.2. Librerías de JSF/<em>Facelets</em></h4>
<div class="paragraph">
<p>Hemos visto hasta el momento librerías de JSTL que podemos utilizar dentro de los <em>Facelets</em>, pero que también encontraremos dentro de otros <em>frameworks</em>. Vamos a ver ahora algunas librerías propias de <em>Facelets</em>/JSF, como la librería HTML de JSF y la librería UI de <em>Facelets</em> que nos permitirá crear plantillas para las páginas.</p>
</div>
<div class="sect4">
<h5 id="_librería_html_de_jsf">Librería HTML de JSF</h5>
<div class="paragraph">
<p>Una de las principales librerías de etiquetas utilizada en <em>Facelets</em> es la librería HTML de JSF. Esta librería contiene una serie de componentes de la interfaz que se renderizarán en la página como HTML. Gran parte de los componentes de esta librería son campos de formularios, cuyo valor puede vincularse con <em>managed beans</em> y podemos establecer la forma mediante etiquetas de la librería de funciones de JSF. Por ejemplo podríamos tener un campo de texto como el siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xhtml"><span class="tok-nt">&lt;h:inputText</span> <span class="tok-na">id=</span><span class="tok-s">&quot;precio&quot;</span>
             <span class="tok-na">size=</span><span class="tok-s">&quot;4&quot;</span>
             <span class="tok-na">value=</span><span class="tok-s">&quot;#{articulo.precio}&quot;</span>
             <span class="tok-na">title=</span><span class="tok-s">&quot;Cantidad&quot;</span><span class="tok-nt">&gt;</span>
    <span class="tok-nt">&lt;f:validateLongRange</span> <span class="tok-na">minimum=</span><span class="tok-s">&quot;0&quot;</span><span class="tok-nt">/&gt;</span>
<span class="tok-nt">&lt;/h:inputText&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En el ejemplo anterior se crea un campo de texto que se renderizará como una etiqueta <code>&lt;input&gt;</code> en el HTML resultante, y quedará vinculado en el servidor con el precio del <em>managed bean</em> <code>articulo</code>. Además, se especifica que el campo debe ser validado de forma que nunca tenga un valor inferior a <code>0</code>.</p>
</div>
<div class="paragraph">
<p>Encontramos otras etiquetas como las siguientes dentro de esta librería:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Etiqueta</th>
<th class="tableblock halign-left valign-top">Función</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;h:commandLink&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Representa un enlace a otra página, se renderiza como <code>&lt;a&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;h:dataTable&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tabla que se puede actualizar de forma dinámica, se renderiza como <code>&lt;table&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;h:column&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Representa una columna en una tabla</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;h:panelGroup&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Representa una fila en una tabla, se renderiza como <code>&lt;div&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;h:graphicImage&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Muestra una imagen, se renderiza como <code>&lt;img&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;h:outputText&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Muestra texto plano</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;h:outputStylesheet&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Permite especificar una hoja de estilo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;h:head&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Equivalente a <code>&lt;head&gt;</code>, permite reubicar bloques de <em>script</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;h:body&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Equivalente a <code>&lt;body&gt;</code>, permite reubicar bloques de <em>script</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>En todas estas etiquetas encontramos una serie de atributos comunes:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Atributo</th>
<th class="tableblock halign-left valign-top">Función</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifica al componente de forma única.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rendered</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Podemos especificar una condición mediante EL que indica si el componente se debe mostrar o no.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>style</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Especifica el estilo CSS.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>styleClass</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Especifica una clase de estilo.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_recursos">Recursos</h5>
<div class="paragraph">
<p>Hablamos de recursos para referirnos a cualquier artefacto que una página web necesita para mostrarse correctamente, como son las imágenes, ficheros JavaScript, hojas de estilo, etc. En los <em>Facelets</em> podremos hacer referencia a estos recursos simplemente indicando el nombre del recurso, siempre que éstos se encuentren en determinadas ubicaciones estándar. Estas ubicaciones son:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Directorio <code>resources</code> en la raíz del contexto.</p>
</li>
<li>
<p>Dentro del <em>classpath</em>, en <code>META-INF/resources</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Si el recurso se encuentra en una de las localizaciones anteriores podemos hacer referencia a él únicamente mediante su nombre en los atributos de las etiquetas de JSF/<em>Facelets</em>, como por ejemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xhtml"><span class="tok-nt">&lt;h:outputStylesheet</span> <span class="tok-na">library=</span><span class="tok-s">&quot;css&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;estilo.css&quot;</span><span class="tok-nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En este caso podríamos tener la hoja de estilo en <code>/resources/css/estilo.css</code>.</p>
</div>
<div class="paragraph">
<p>Podemos también hacer referencia a la ubicación mediante lenguaje de expresiones:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xhtml"><span class="tok-nt">&lt;h:graphicImage</span> <span class="tok-na">value=</span><span class="tok-s">&quot;#{resource[&#39;imagenes:logo.gif&#39;]}&quot;</span><span class="tok-nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En el caso anterior buscará la imagen en <code>/resources/imagenes/logo.gif</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_plantillas">Plantillas</h5>
<div class="paragraph">
<p>La tecnología de <em>Facelets</em> nos permite crear plantillas para las páginas. Estas plantillas definen una determinada disposición de los elementos en el documento, y podrán ser aplicadas a diferentes páginas para así tener una estructura homogénea en todo el sitio web. En estas plantillas por ejemplo podríamos definir un bloque de cabecera, menú lateral, cuerpo de la página, pie de página, etc.</p>
</div>
<div class="paragraph">
<p>Para la creación de plantillas utilizaremos la librería de Interfaz de Usuario (UI) de <em>Facelets</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span class="tok-cp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span>
<span class="tok-cp">      &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>
<span class="tok-nt">&lt;html</span> <span class="tok-na">xmlns=</span><span class="tok-s">&quot;http://www.w3.org/1999/xhtml&quot;</span>
      <span class="tok-na">xmlns:ui=</span><span class="tok-s">&quot;http://xmlns.jcp.org/jsf/facelets&quot;</span> <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="tok-na">xmlns:h=</span><span class="tok-s">&quot;http://xmlns.jcp.org/jsf/html&quot;</span><span class="tok-nt">&gt;</span>

    <span class="tok-nt">&lt;h:head&gt;</span>
        <span class="tok-nt">&lt;meta</span> <span class="tok-na">http-equiv=</span><span class="tok-s">&quot;Content-Type&quot;</span>
              <span class="tok-na">content=</span><span class="tok-s">&quot;text/html; charset=UTF-8&quot;</span> <span class="tok-nt">/&gt;</span>
        <span class="tok-nt">&lt;h:outputStylesheet</span> <span class="tok-na">library=</span><span class="tok-s">&quot;css&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;estilo.css&quot;</span><span class="tok-nt">/&gt;</span>
        <span class="tok-nt">&lt;title&gt;</span>Plantilla con Facelets<span class="tok-nt">&lt;/title&gt;</span>
    <span class="tok-nt">&lt;/h:head&gt;</span>

    <span class="tok-nt">&lt;h:body&gt;</span>
        <span class="tok-nt">&lt;div</span> <span class="tok-na">id=</span><span class="tok-s">&quot;top&quot;</span> <span class="tok-na">class=</span><span class="tok-s">&quot;top&quot;</span><span class="tok-nt">&gt;</span>
            <span class="tok-nt">&lt;ui:insert</span> <span class="tok-na">name=</span><span class="tok-s">&quot;cabecera&quot;</span><span class="tok-nt">&gt;</span>Cabecera<span class="tok-nt">&lt;/ui:insert&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-nt">&lt;/div&gt;</span>
        <span class="tok-nt">&lt;div&gt;</span>
        <span class="tok-nt">&lt;div</span> <span class="tok-na">id=</span><span class="tok-s">&quot;left&quot;</span><span class="tok-nt">&gt;</span>
             <span class="tok-nt">&lt;ui:insert</span> <span class="tok-na">name=</span><span class="tok-s">&quot;menu&quot;</span><span class="tok-nt">&gt;</span>Menú lateral<span class="tok-nt">&lt;/ui:insert&gt;</span>
        <span class="tok-nt">&lt;/div&gt;</span>
        <span class="tok-nt">&lt;div</span> <span class="tok-na">id=</span><span class="tok-s">&quot;content&quot;</span> <span class="tok-na">class=</span><span class="tok-s">&quot;content&quot;</span><span class="tok-nt">&gt;</span>
             <span class="tok-nt">&lt;ui:insert</span> <span class="tok-na">name=</span><span class="tok-s">&quot;cuerpo&quot;</span><span class="tok-nt">&gt;</span>Cuerpo de la página<span class="tok-nt">&lt;/ui:insert&gt;</span>
        <span class="tok-nt">&lt;/div&gt;</span>
        <span class="tok-nt">&lt;/div&gt;</span>
    <span class="tok-nt">&lt;/h:body&gt;</span>
<span class="tok-nt">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Declaramos la librería UI de <em>Facelets</em></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Utilizamos <code>&lt;ui:insert&gt;</code> para crear un lugar donde insertar contenido dentro de la plantilla general.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>En el ejemplo anterior hemos creado una plantilla de página web donde se definen tres lugares donde vamos a poner insertar contenido: <code>cabecera</code>, <code>menu</code> y <code>cuerpo</code>. Vamos a crear a continuación una página que se ajuste a dicha plantilla e inserte contenido en cada una de las secciones.</p>
</div>
<div class="paragraph">
<p>Consideremos que el fichero anterior con la plantilla ha sido guardado con el nombre <code>plantilla.xhtml</code>. Una página que utilice dicha plantilla podría definirse de la siguiente forma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span class="tok-cp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span>
<span class="tok-cp">  &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span>
<span class="tok-nt">&lt;html</span> <span class="tok-na">xmlns=</span><span class="tok-s">&quot;http://www.w3.org/1999/xhtml&quot;</span>
      <span class="tok-na">xmlns:ui=</span><span class="tok-s">&quot;http://xmlns.jcp.org/jsf/facelets&quot;</span>
      <span class="tok-na">xmlns:h=</span><span class="tok-s">&quot;http://xmlns.jcp.org/jsf/html&quot;</span><span class="tok-nt">&gt;</span>

    <span class="tok-nt">&lt;h:body&gt;</span>
        <span class="tok-nt">&lt;ui:composition</span> <span class="tok-na">template=</span><span class="tok-s">&quot;./plantilla.xhtml&quot;</span><span class="tok-nt">&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
            <span class="tok-nt">&lt;ui:define</span> <span class="tok-na">name=</span><span class="tok-s">&quot;cabecera&quot;</span><span class="tok-nt">&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
                Título de la página
            <span class="tok-nt">&lt;/ui:define&gt;</span>

            <span class="tok-nt">&lt;ui:define</span> <span class="tok-na">name=</span><span class="tok-s">&quot;menu&quot;</span><span class="tok-nt">&gt;</span>
                <span class="tok-nt">&lt;h:outputLabel</span> <span class="tok-na">value=</span><span class="tok-s">&quot;Menú&quot;</span><span class="tok-nt">/&gt;</span>
            <span class="tok-nt">&lt;/ui:define&gt;</span>

            <span class="tok-nt">&lt;ui:define</span> <span class="tok-na">name=</span><span class="tok-s">&quot;cuerpo&quot;</span><span class="tok-nt">&gt;</span>
                <span class="tok-nt">&lt;h:graphicImage</span> <span class="tok-na">value=</span><span class="tok-s">&quot;#{resource[&#39;images:logo.gif&#39;]}&quot;</span><span class="tok-nt">/&gt;</span>
                <span class="tok-nt">&lt;h:outputText</span> <span class="tok-na">value=</span><span class="tok-s">&quot;2014 (c) DCCIA&quot;</span><span class="tok-nt">/&gt;</span>
            <span class="tok-nt">&lt;/ui:define&gt;</span>
        <span class="tok-nt">&lt;/ui:composition&gt;</span>
    <span class="tok-nt">&lt;/h:body&gt;</span>
<span class="tok-nt">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Con la etiqueta <code>&lt;ui:composition&gt;</code> indicamos la plantilla que vamos a utilizar.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Con la etiqueta <code>&lt;ui:define&gt;</code> indicamos el contenido que vamos a insertar en cada una de las secciones de la plantilla utilizada.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Vemos en el ejemplo anterior que podremos poner una etiqueta <code>&lt;ui:define&gt;</code> por cada elemento definido mediante <code>&lt;ui:insert&gt;</code> en la plantilla que estamos utilizando.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ejercicios">8.5. Ejercicios</h3>
<div class="sect3">
<h4 id="_página_de_chat_con_em_facelets_em_1_punto">8.5.1. Página de chat con <em>Facelets</em> (1 punto)</h4>
<div class="paragraph">
<p>Vamos a crear una implementación alternativa del listado de mensajes del chat mediante un <em>Facelet</em> que utilice la librería JSTL y el lenguaje de expresiones. Los <em>Facelets</em> son más apropiados que los <em>Servlets</em> para crear la vista de la aplicación, por lo que será conveniente pasar la presentación que actualmente está realizando <code>ListaMensajesServlet</code> a un <em>Facelet</em>.</p>
</div>
<div class="paragraph">
<p>Seguiremos los siguientes pasos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Añade la <strong>configuración de JSF</strong> al proyecto desde IntelliJ. Se deberá crear el fichero <code>faces-config.xml</code> en <code>WEB-INF</code> y mapear el <em>Faces Servlet</em> a las direcciones de tipo <code>*.xhtml</code>.</p>
</li>
<li>
<p>Crea desde IntelliJ un nuevo <em>Facelet</em> llamado <code>listaMensajes.xhtml</code> en el directorio <code>webapp/chat</code>.</p>
</li>
<li>
<p>Importa en el <em>Facelet</em> la <strong>librería JSTL Core</strong>.</p>
</li>
<li>
<p>Crearemos un recuadro para el chat siguiendo el mismo estilo de las páginas utilizadas en sesiones anteriores. Esta vez podemos <strong>importar la hoja de estilo</strong> <code>estilo.css</code> como un recurso.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Deberemos copiar el fichero <code>estilo.css</code> a un directorio donde pueda ser importado como recurso (<code>webapp/resources</code>).
</td>
</tr>
</table>
</div>
</li>
<li>
<p>En la cabecera del cuadro del chat <strong>indicaremos el nombre del usuario</strong> que hay actualmente conectado. Podemos poner un mensaje como "Conectado al chat como &lt;nombre&gt;".</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
El nombre del atributo donde se guarda el <em>nick</em> es <code>org.expertojava.cweb.chat.nick</code>, lo cual puede causar problemas al utilizarlo dentro del lenguaje de expresiones. Para evitar estos problemas podríamos utilizar una sintaxis como <code>${sessionScope["nombre_atributo"]}</code>.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Utilizaremos un <em>managed bean</em> para <strong>mostrar los mensajes</strong> en la página. Deberemos:</p>
<div class="ulist">
<ul>
<li>
<p>Si la cola está vacía, mostraremos el mensaje "Todavía no se ha enviado ningún mensaje al chat".</p>
</li>
<li>
<p>Si la cola tiene mensajes, iteraremos por la cola para mostrar todos los mensajes junto al nombre del usuario que los envió.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
No podemos utilizar directamente el objeto <code>ColaMensajes</code> dentro del lenguaje de expresiones al tratarse de un objeto de tipo <code>LinkedList</code>. Podemos crearnos un nuevo <em>managed bean</em> que nos dé acceso a dicha lista mediante uno de sus atributos. Por ejemplo, podríamos crear un objeto <code>Chat</code> dentro del ámbito de la aplicación con un atributo <code>cola</code> en el que inyectaremos el objeto <code>ColaMensajes</code>. De esta forma podríamos acceder a ella desde lenguaje de expresiones con <code>${chat.cola}</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Todo lo anterior debe realizarse utilizando <strong>únicamente JSTL y lenguaje de expresiones</strong>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-10-06 12:16:54 CEST
</div>
</div>
</body>
</html>