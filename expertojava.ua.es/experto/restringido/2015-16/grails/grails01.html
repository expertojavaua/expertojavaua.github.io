<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<meta name="author" content="Fran García">
<title>Grails</title>
<style>/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 97%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: #6f6f6f; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #1164be; text-decoration: none; line-height: inherit; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.4; margin-bottom: 1em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: bold; font-style: normal; color: #1c355e; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #6f6f6f; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: bold; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.4; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 2.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }

blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

/*@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }*/
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; border-bottom: 1px solid #dddddd }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 3px 2px 1px 2px; background-color: #eeeeee; border: 1px solid #dddddd; -webkit-border-radius: 0; border-radius: 0; line-height: inherit; font-weight: normal; }

pre, pre > code { line-height: 1.4; color: black; font-family: monospace, serif; font-weight: normal; }

.keyseq { color: #555555; }

kbd { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: #090909; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: black; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #dddddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #dddddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #dddddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #555555; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #6f6f6f; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #6f6f6f; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: black; border-bottom: 1px solid #dddddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#floating {
  position: fixed;
  z-index: 1000;
  padding: 0.5em;
  right: 0;
  top: 0;
  background: white;
  box-shadow: 0 0 1em #777777;
  -webkit-box-shadow: 0 0 1em #777777;
  -moz-box-shadow: 0 0 1em #777777;
  -webkit-border-bottom-left-radius: 5px;
  -moz-border-radius-bottomleft: 5px;
  max-height: 80%;
  overflow: auto;
}

#floating #full { display: none; } /* Hide the full TOC by default */

#floating:hover #full{
  display: block; /* Show it on hover */
}


#toc { border-bottom: 1px solid #dddddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; list-style-type: none; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #6f6f6f; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f2f2f2; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }

#footer-text { color: #dddddd; line-height: 1.44; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { .sect1 { padding-bottom: 1.25em; } }
.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #222222; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #151515; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: black; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #555555; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #6f6f6f; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eeeeee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px solid #cccccc; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; padding: 0.8em 0.8em 0.65em 0.8em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #eeeeee; background-color: black; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 0.8em 0.8em 0.65em 0.8em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #6f6f6f; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #6f6f6f; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #555555; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #6f6f6f; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.05em; color: #555555; }

.quoteblock.abstract { margin: 0 0 1.25em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.spread { width: 100%; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dddddd; }

table.grid-all th.tableblock, table.grid-all td.tableblock { border-width: 0 1px 1px 0; }

table.grid-all tfoot > tr > th.tableblock, table.grid-all tfoot > tr > td.tableblock { border-width: 1px 1px 0 0; }

table.grid-cols th.tableblock, table.grid-cols td.tableblock { border-width: 0 1px 0 0; }

table.grid-all * > tr > .tableblock:last-child, table.grid-cols * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-rows th.tableblock, table.grid-rows td.tableblock { border-width: 0 0 1px 0; }

table.grid-all tbody > tr:last-child > th.tableblock, table.grid-all tbody > tr:last-child > td.tableblock, table.grid-all thead:last-child > tr > th.tableblock, table.grid-rows tbody > tr:last-child > th.tableblock, table.grid-rows tbody > tr:last-child > td.tableblock, table.grid-rows thead:last-child > tr > th.tableblock { border-bottom-width: 0; }

table.grid-rows tfoot > tr > th.tableblock, table.grid-rows tfoot > tr > td.tableblock { border-width: 1px 0 0 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: whitesmoke; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 2.5em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-check-square-o:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .75em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 0.75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
span.footnote a:active, span.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #207c98; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

.literalblock pre, .listingblock pre { background: #eeeeee; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
<style>.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments  { background: #f8f8f8; }
.listingblock .pygments .tok-c { color: #408080; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
.listingblock .pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #B00040 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #666666 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #BA2121 } /* Literal.String */
.listingblock .pygments .tok-na { color: #7D9029 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #008000 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #880000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #0000FF } /* Name.Function */
.listingblock .pygments .tok-nl { color: #A0A000 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #19177C } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
.listingblock .pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #008000 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
.listingblock .pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Grails</h1>
<div class="details">
<span id="author" class="author">Fran García</span><br>
<span id="email" class="email">&lt;<a href="mailto:fgarciarico@gmail.com">fgarciarico@gmail.com</a>&gt;</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Índice de contenidos</div>
<ul class="sectlevel1">
<li><a href="#sesion01">1. Introducción a Groovy</a>
<ul class="sectlevel2">
<li><a href="#__qu%C3%A9_es_groovy">1.1. ¿Qué es Groovy?</a></li>
<li><a href="#_instalaci%C3%B3n">1.2. Instalación</a></li>
<li><a href="#_hola_mundo">1.3. Hola Mundo</a></li>
<li><a href="#_caracter%C3%ADsticas">1.4. Características</a></li>
<li><a href="#_tipos_de_datos_en_groovy">1.5. Tipos de datos en Groovy</a></li>
<li><a href="#_colecciones">1.6. Colecciones</a></li>
<li><a href="#_ejercicios">1.7. Ejercicios</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="sesion01">1. Introducción a Groovy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En esta primera sesión del módulo, empezaremos explicando qué es el lenguaje de programación Groovy y, cómo, dónde y porqué se creo para ponernos un poco en situación. Posteriormente, pasaremos a implementar nuestro primer ejemplo en Groovy, el típico Hola Mundo y lo compararemos con lo que sería el mismo ejemplo en Java.</p>
</div>
<div class="paragraph">
<p>Seguidamente describiremos detalladamente algunos aspectos básicos de Groovy, tales como la sintaxis, los tipos de datos y el trabajo con colecciones.</p>
</div>
<div class="sect2">
<h3 id="__qué_es_groovy">1.1. ¿Qué es Groovy?</h3>
<div class="paragraph">
<p>Groovy nació con la intención de ser un lenguaje rico en características típicas de lenguajes dinámicos, así como para interactuar sin problemas en el entorno Java, para de esta forma, utilizar los beneficios de estos lenguajes dinámicos en una plataforma tan robusta como es Java y todo su entorno. Posiblemente, habrá lenguajes que tengan más características típicas de los lenguajes dinámicos que Groovy o que se integren mejor en la Plataforma Java, pero ninguno de estos, presenta una combinación de estos detalles (lenguaje dinámico y entorno Java) tan eficiente como Groovy. Pero, <em>¿cómo podríamos definir exactamente Groovy?</em></p>
</div>
<div class="paragraph">
<p>Una buena definición de Groovy podría ser la que se nos proporciona desde la propia página web de Groovy (<a href="http://groovy.codehaus.org" class="bare">http://groovy.codehaus.org</a>):</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Definición</strong></p>
</div>
<div class="paragraph">
<p>Groovy es un lenguaje de programación ágil y dinámico diseñado para la Plataforma Java con determinadas características inspiradas en lenguajes como Python, Ruby o Smalltalk, poniéndolas a disposición de los programadores Java mediante una sintaxis típica de Java. Groovy se integra sin ningún problema con cualquier librería Java y se compila directamente a código byte, con lo que Java y Groovy pueden convivir sin ningún tipo de problemas.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>En ocasiones se tacha a Groovy de ser un lenguaje meramente de script, pero esto es un error, a pesar de que Groovy funciona realmente bien como lenguaje script. Groovy puede ser precompilado a Java bytecode, estar integrado en aplicaciones Java, construir robustas aplicaciones web e incluso ser la base de una aplicación completa por si solo.</p>
</div>
<div class="paragraph">
<p>Se puede afirmar rotundamente que Groovy está destinado a ser utilizado en la Plataforma Java, no en vano muchas partes de Groovy están desarrolladas en Java, así que cuando decimos que <em>al programar en Groovy, estamos realmente programando en Java</em>, no estamos diciendo ninguna barbaridad. Todas las características de Java están esperando a ser utilizadas en Groovy, incluido todo el conjunto de librerías de Java.</p>
</div>
<div class="sect3">
<h4 id="_integración_con_java">1.1.1. Integración con Java</h4>
<div class="paragraph">
<p>Cuando hablamos de <em>integración con Java</em>, nos referimos a dos aspectos. Por un lado, de integración imperceptible, puesto que Groovy es simplemente una nueva forma de crear nuestras habituales clases Java. Al fin y al cabo, Groovy es Java con un archivo jar como dependencia. Por otro lado, la sintaxis de Groovy es más precisa y compacta que en Java y a pesar de eso, cualquier programador Java puede entender el funcionamiento de un fragmento de código escrito en Groovy.</p>
</div>
</div>
<div class="sect3">
<h4 id="__a_quién_va_dirigido_groovy">1.1.2. ¿A quién va dirigido Groovy?</h4>
<div class="sect4">
<h5 id="_a_los_programadores_java">A los programadores Java</h5>
<div class="paragraph">
<p>Un programador Java con muchos años de experiencia conocerá todas las partes importantes del entorno Java y su API, así como otros paquetes adicionales. Sin embargo, algo aparentemente tan sencillo como listar todos los archivos recursivamente que cuelgan de un directorio se hace demasiado pesado en Java y suponiendo que existiera la función <em>eachFileRecurse()</em> tendríamos algo similar a:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">ListFiles</span> <span class="tok-o">{</span>
	<span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">){</span>
		<span class="tok-k">new</span> <span class="tok-n">java</span><span class="tok-o">.</span><span class="tok-na">io</span><span class="tok-o">.</span><span class="tok-na">File</span><span class="tok-o">(</span><span class="tok-s">&quot;.&quot;</span><span class="tok-o">).</span><span class="tok-na">eachFileRecurse</span><span class="tok-o">(</span>
			<span class="tok-k">new</span> <span class="tok-nf">FileListener</span><span class="tok-o">()</span> <span class="tok-o">{</span>
				<span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">onFile</span> <span class="tok-o">(</span><span class="tok-n">File</span> <span class="tok-n">file</span><span class="tok-o">)</span> <span class="tok-o">{</span>
					<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">file</span><span class="tok-o">.</span><span class="tok-na">toString</span><span class="tok-o">());</span>
				<span class="tok-o">}</span>
			<span class="tok-o">}</span>
		<span class="tok-o">);</span>
	<span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Mientras que con Groovy podría quedar en una sola línea que podríamos ejecutar incluso en línea de comandos de la siguiente forma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-n">groovy</span> <span class="tok-o">-</span><span class="tok-n">e</span> <span class="tok-s2">&quot;new File(&#39;.&#39;).eachFileRecurse { println it}&quot;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_a_los_programadores_de_scripts">A los programadores de scripts</h5>
<div class="paragraph">
<p>Groovy también va dirigido a aquellos programadores que han pasado muchos años trabajando con lenguajes de programación como Perl, Ruby, Python o PHP. En ocasiones, sobre todo en las grandes empresas, los clientes requieren obligatoriamente el uso de una Plataforma robusta como puede ser Java. Estos programadores deben reciclarse, ya que no es factible cualquier solución que pase por utilizar un lenguaje script como los mencionados anteriormente.</p>
</div>
<div class="paragraph">
<p>Continuamente este tipo de programadores afirman que se sienten frustrados por toda la verborrea que conlleva un lenguaje como Java y la frase <em>"con un lenguaje como Ruby, podría escribir todo este método en una sola línea"</em> es su pan de cada día. Groovy puede darles lo que ellos piden y supone una vía de escape hacía adelante a este tipo de programadores.</p>
</div>
</div>
<div class="sect4">
<h5 id="_a_los_programadores_ágiles_y_extremos">A los programadores ágiles y extremos</h5>
<div class="paragraph">
<p>Este tipo de programadores están acostumbrados a trabajar con la próxima revisión tan cercana, que pararse a pensar en utilizar un nuevo lenguaje de programación queda fuera de sus principales objetivos. Sin embargo, una de los aspectos más importantes para los programadores ágiles, consiste en tener siempre a su disposición los mejores recursos y metodologías para llevar a cabo su trabajo.</p>
</div>
<div class="paragraph">
<p>Y ahí es donde Groovy les puede aportar mucho, ya que Groovy es un lenguaje perfecto para realizar esas tareas de automatización tan habituales en sus proyectos. Estas tareas van desde la integración continua o la puesta en práctica de teorías como TDD (Test Driven Development).</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_instalación">1.2. Instalación</h3>
<div class="paragraph">
<p>Antes de avanzar en la sesión, vamos a ver como se realizaría la instalación de Groovy en nuestro ordenador. Aunque podríamos descargarnos la última versión de Groovy desde la web oficial <a href="http://groovy.codehaus.org/Download" class="bare">http://groovy.codehaus.org/Download</a>, nosotros vamos a utilizar un gestor de paquetes conocido como <em>sdkman (<a href="http://sdkman.io" class="bare">http://sdkman.io</a>)</em> (antes conocido como <em>gvmtool</em> que nos permitirá gestionar varias versiones de Groovy en una misma máquina de forma muy sencilla. Además, esta misma herramienta nos servirá para instalar y gestionar Grails, entre otras interesantes librerías como Gradle o Vert.x.</p>
</div>
<div class="paragraph">
<p>Para instalar <em>sdkman</em> y <em>groovy</em> simplemente debemos en línea de comandos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">curl -s get.sdkman.io <span class="tok-p">|</span> bash

<span class="tok-nb">source</span> <span class="tok-s2">&quot;$HOME/.sdkman/bin/sdkman-init.sh&quot;</span>

sdk list groovy

sdk install groovy 2.4.5</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si necesitaramos alternar entre varias versiones de Groovy, simplemente deberías ejecutar:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">sdk use groovy 1.8.0</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hola_mundo">1.3. Hola Mundo</h3>
<div class="paragraph">
<p>Ahora que ya tenemos una primera idea de lo que es Groovy, vamos a pasar a desarrollar nuestro primer ejemplo y a realizar nuestras primeras pruebas de ejecución y compilación de archivos Groovy. Pero antes de eso, vamos a introducir las diferentes formas de ejecutar nuestros programas en Groovy.</p>
</div>
<div class="paragraph">
<p>Tras la instalación de Groovy con la herramienta <em>sdk</em>, vamos a disponer de tres comandos que son <em>groovysh</em>, <em>groovyConsole</em> y <em>groovy</em>, entre otros. Podemos utilizar cualquiera de estos tres archivos para empezar a realizar nuestras pruebas con código Groovy. Vamos a verlos uno a uno:</p>
</div>
<div class="sect3">
<h4 id="_groovysh">1.3.1. groovysh</h4>
<div class="paragraph">
<p>Permite ejecutar en línea de comandos código Groovy de forma interactiva. Más información en <a href="http://groovy.codehaus.org/Groovy+Shell" class="bare">http://groovy.codehaus.org/Groovy+Shell</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">groovy:000&gt; <span class="tok-s2">&quot;Hola Mundo!&quot;</span>

<span class="tok-o">====</span> &gt; Hola Mundo!</code></pre>
</div>
</div>
<div class="paragraph">
<p>Otro ejemplo podría ser:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">groovy:000&gt; <span class="tok-nv">saludo</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Hola&quot;</span>
<span class="tok-o">===</span>&gt; Hola
groovy:000&gt; <span class="tok-s2">&quot;${saludo} Mundo!&quot;</span>

<span class="tok-o">===</span>&gt; Hola Mundo!</code></pre>
</div>
</div>
<div class="paragraph">
<p>E incluso podemos definir funciones con parámetros:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">groovy:000&gt; def hola<span class="tok-o">(</span>nombre<span class="tok-o">){</span>
groovy:001&gt; println <span class="tok-s2">&quot;Hola $nombre&quot;</span>
groovy:002&gt; <span class="tok-o">}</span>
<span class="tok-o">===</span>&gt; <span class="tok-nb">true</span>
groovy:000&gt; hola<span class="tok-o">(</span><span class="tok-s2">&quot;Fran&quot;</span><span class="tok-o">)</span>
Hola <span class="tok-nv">Fran</span>
<span class="tok-o">====</span> &gt; null</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_groovyconsole">1.3.2. groovyConsole</h4>
<div class="paragraph">
<p>Mediante una interfaz Swing, groovyConsole actua como intérprete de comandos Groovy. Tiene la posibilidad de cargar y salvar ficheros desde su menú File. Más información en <a href="http://groovy.codehaus.org/Groovy+Console" class="bare">http://groovy.codehaus.org/Groovy+Console</a></p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/grails01/groovyConsole.jpg" alt="Groovy Console" width="50%">
</div>
</div>
<div class="paragraph">
<p>Como podemos observar, en la parte superior podemos escribir nuestro código Groovy, mientras que la parte inferior nos muestra la salida del programa ejecutado.</p>
</div>
<div class="paragraph">
<p>Además la groovyConsole nos permite también indicarle archivos jar externos que serán importados automáticamente en el código de nuestros scripts.</p>
</div>
</div>
<div class="sect3">
<h4 id="_groovy">1.3.3. groovy</h4>
<div class="paragraph">
<p>El último método sirve para ejecutar archivos groovy y simplemente ejecutando en la línea de comandos <em>groovy holamundo.groovy</em>, podemos ver la salida producida por el programa. En la siguiente imagen, puedes comprobar el funcionamiento de este método con un fichero de ejemplo que realiza el cálculo de la sucesión de Fibonacci.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/grails01/groovy.jpg" alt="Groovy command" width="50%">
</div>
</div>
<div class="paragraph">
<p>Quizás ya te hayas dado cuenta, pero a diferencia de en Java, Groovy puede ejecutar sus archivos sin necesidad de compilarlos previamente. Esta forma de utilizar Groovy se llama <strong>Modo directo</strong> y nuestro código es ejecutado sin necesidad de generar archivos ejecutables. Se puede decir que nuestros archivos son interpretados. Sin embargo, existe otra forma de ejecutar nuestros programas Groovy y se llama <strong>Modo precompilado</strong>. En el modo precompilado, en primer lugar se compila el programa groovy y posteriormente se ejecuta. El programa compilado es compatible con los archivos bytecode de Java.</p>
</div>
<div class="paragraph">
<p>Para compilar nuestros programas Groovy, utilizamos una sentencia en línea de comandos llamada <strong>groovyc</strong> (también disponible tras la instalación de Groovy). Si quisieramos compilar el anterior ejemplo (<em>fibonacci.groovy</em>), ejecutaríamos <em>groovyc -d classes fibonacci.groovy</em>. Con el parámetro -d le hemos indicado que nos genere los archivos compilados en el directorio <em>classes</em>, y en el caso de que no existiera, lo crearía. Si observamos el contenido de este directorio, veremos que hay un par de ficheros .class. El número de archivos dependerá del propio script, de la misma forma que sucede cuando compilamos archivo en Java.</p>
</div>
<div class="paragraph">
<p>Una vez ya tenemos nuestro programa compilado, vamos a ver como podríamos ejecutarlo con Java. !Sí, con Java!, ya que para ejecutar un programa en Groovy debemos hacer exactamente lo mismo que hacemos en Java. Simplemente, debemos añadir al classpath el archivo jar de Groovy. Debemos hacer lo mismo con el directorio donde residen nuestros archivos compilados. Quedaría algo así:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">java -cp <span class="tok-nv">$GROOVY_HOME</span>/embeddable/groovy-all-2.4.0.jar:classes fibonacci</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_características">1.4. Características</h3>
<div class="paragraph">
<p>En la siguiente sección, vamos a introducir diferentes aspectos básicos del lenguaje Groovy, tales como la introducción de comentarios, diferencias y similitudes con Java, la brevedad del código en Groovy y otros pequeños detalles del lenguaje.</p>
</div>
<div class="sect3">
<h4 id="_comentarios">1.4.1. Comentarios</h4>
<div class="paragraph">
<p>Los comentarios en Groovy siguen el mismo formato que en Java. Esto es:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>//, comentarios de una línea</p>
</li>
<li>
<p>/* &#8230;&#8203;. */, comentarios multilínea</p>
</li>
<li>
<p>/** &#8230;&#8203;. */, comentarios del estilo Javadoc, que nos permitirá documentar nuestros programas con <em>Groovydoc</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Sin embargo, también podemos introducir en la primera línea comentarios del estilo shebang con la combinación de caracteres <strong>#!</strong></p>
</div>
</div>
<div class="sect3">
<h4 id="_comparando_la_sintaxis_de_java_y_groovy">1.4.2. Comparando la sintaxis de Java y Groovy</h4>
<div class="paragraph">
<p>Es habitual leer que la sintaxis de Groovy es una superclase de Java y esto es debido a las grandes similitudes que hay entre ambos lenguajes. Sin embargo, no es correcto afirmar que un lenguaje es una superclase del otro. Existen pequeños detalles de programación en Java que no existen en Groovy, como puede ser que el operador <em>==</em> que en Groovy tiene unas connotaciones diferentes.</p>
</div>
<div class="paragraph">
<p>Pero aparte de algunas pequeñas diferencias, podemos decir que gran parte de la sintaxis de Java es válida en Groovy. Estas similitudes son:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mecanismo de paquetes</p>
</li>
<li>
<p>Sentencias</p>
</li>
<li>
<p>Definición de clases y métodos</p>
</li>
<li>
<p>Estructuras de control</p>
</li>
<li>
<p>Operadores, asignaciones y expresiones</p>
</li>
<li>
<p>Manejo de excepciones</p>
</li>
<li>
<p>Declaración de literales</p>
</li>
<li>
<p>Instanciación de objetos y llamadas a métodos</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>No obstante, Groovy posee un valor añadido gracias a:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fácil acceso a los objetos Java a través de nuevas expresiones y operadores</p>
</li>
<li>
<p>Nuevas formas de declarar objetos</p>
</li>
<li>
<p>Nuevas estructuras de control</p>
</li>
<li>
<p>Nuevos tipos de datos con sus correspondientes operadores y expresiones</p>
</li>
<li>
<p>Todo se gestiona como un objeto</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Estas nuevas características hacen que Groovy sea un lenguaje fácil de leer y de entender.</p>
</div>
</div>
<div class="sect3">
<h4 id="_brevedad_del_lenguaje">1.4.3. Brevedad del lenguaje</h4>
<div class="paragraph">
<p>Groovy pretende evitar en todo momento toda la ceremonia que acompaña a Java en sus programas y nos permite obviar determinados aspectos obligatorios y centrarnos en nuestro objetivo. Para empezar, se elimina la obligatoriedad de utilizar los puntos y comas (;) al finalizar cada línea. Si lo pensamos un poco es lógico, porque ¿cuántos de nosotros escribimos más de una sentencia en la misma línea del código fuente?. Esto no quiere decir que en Groovy no podamos escribir puntos y coma al final de cada línea, simplemente no es obligatorio.</p>
</div>
<div class="paragraph">
<p>Además, también se elimina la obligatoriedad de utilizar paréntesis al pasar parámetros en la llamada a funciones.</p>
</div>
<div class="paragraph">
<p>Otro ejemplo de la brevedad del lenguaje que aporta Groovy es el siguiente ejemplo. Mientras que en Java tendríamos lo siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span class="tok-n">java</span><span class="tok-o">.</span><span class="tok-na">net</span><span class="tok-o">.</span><span class="tok-na">URLEncoder</span><span class="tok-o">.</span><span class="tok-na">encode</span> <span class="tok-o">(</span><span class="tok-s">&quot;a b&quot;</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>en Groovy tendríamos</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-n">URLEncoder</span><span class="tok-o">.</span><span class="tok-na">encode</span> <span class="tok-s1">&#39;a b&#39;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Esto no sólo significa que el código en Groovy va a ser más corto, sino también más expresivo evitando toda la parafernalia que acompaña a Java en determinadas ocasiones.</p>
</div>
<div class="paragraph">
<p>Groovy además importa automáticamente los paquetes <em>groovy.lang.*</em>, <em>groovy.util.*</em>, <em>java.lang.*</em>, <em>java.util.*</em>, <em>java.net.*</em> y <em>java.io.*</em>, así como las clases <em>java.Math.BigInteger</em> y <em>java.Math.BigDecimal</em>, así que siempre vas a poder utilizar todas sus clases sin necesidad de que sean importados sus paquetes al inicio del programa. Esto también es diferente a Java, donde sólo se importa automáticamente el paquete <em>java.lang.*</em>.</p>
</div>
<div class="paragraph">
<p>Resumiendo. Groovy nos permite olvidarnos de los paréntesis, la declaración de paquetes, puntos y comas y centrarnos en la funcionalidad de nuestros programas y métodos.</p>
</div>
</div>
<div class="sect3">
<h4 id="_aserciones">1.4.4. Aserciones</h4>
<div class="paragraph">
<p>Las aserciones permiten desde Java 1.4 comprobar si nuestro programa funciona como debería funcionar y Groovy no iba a ser menos, así que también las incluye. Las aserciones se insertan en medio de nuestro código y se utilizan, por ejemplo, para comprobar posibles incongruencias en las variables pasadas a un método. Fundamentalmente las aserciones se utilizarán en los tests que desarrollemos para nuestra aplicación y que asegurarán que las cosas funcionan correctamente. Algunos ejemplos de aserciones serían:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-k">assert</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">)</span>
<span class="tok-k">assert</span> <span class="tok-mi">1</span> <span class="tok-o">==</span> <span class="tok-mi">1</span>
<span class="tok-kt">def</span> <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>
<span class="tok-k">assert</span> <span class="tok-n">x</span> <span class="tok-o">==</span> <span class="tok-mi">1</span>
<span class="tok-kt">def</span> <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span> <span class="tok-k">assert</span> <span class="tok-n">y</span> <span class="tok-o">==</span> <span class="tok-mi">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Como se puede comprobar en los ejemplos las aserciones pueden tomar expresiones completas y no únicamente variables, como en el ejemplo <em>assert 1 == 1</em>. Además las aserciones no sólo nos servirán para comprobar el estado de nuestro programa, sino que también podremos reemplazar determinados comentarios por aserciones, que además de clarificar el código fuente de nuestro programa, nos sirve también para pasar pequeñas pruebas a nuestro código.</p>
</div>
<div class="paragraph">
<p>Cuando usamos aserciones, es una buena práctica incluir un mensaje que nos clarifique el error que se ha producido. Esto lo podemos hacer añadiendo después de la aserción el mensaje de texto que queremos precedido de <em>:</em>, como en el siguiente ejemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-k">assert</span> <span class="tok-mi">1</span><span class="tok-o">==</span><span class="tok-mi">2</span> <span class="tok-o">:</span> <span class="tok-s2">&quot;Desde cuando 1 es igual a 2&quot;</span>
<span class="tok-c1">//Obteniendo el siguiente mensaje</span>
<span class="tok-c1">//Exception thrown: Desde cuando 1 es igual a 2. Expression: (1 == 2)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Además, en las últimas versiones de Groovy se ha mejorado el sistema de mensajes mostrados cuando fallan las aserciones fallan. Si por ejemplo, ejecutamos el siguiente fragmento de código:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-k">assert</span> <span class="tok-k">new</span> <span class="tok-nf">File</span><span class="tok-o">(</span><span class="tok-s1">&#39;foo.bar&#39;</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-k">new</span> <span class="tok-n">File</span><span class="tok-o">(</span><span class="tok-s1">&#39;example.txt&#39;</span><span class="tok-o">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Groovy nos mostraría el siguiente mensaje de error</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-n">Exception</span> <span class="tok-n">thrown</span>

<span class="tok-n">Assertion</span> <span class="tok-nl">failed:</span>

<span class="tok-k">assert</span> <span class="tok-k">new</span> <span class="tok-nf">File</span><span class="tok-o">(</span><span class="tok-s1">&#39;foo.bar&#39;</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-k">new</span> <span class="tok-n">File</span><span class="tok-o">(</span><span class="tok-s1">&#39;example.txt&#39;</span><span class="tok-o">)</span>
       <span class="tok-o">|</span>                   <span class="tok-o">|</span>  <span class="tok-o">|</span>
       <span class="tok-n">foo</span><span class="tok-o">.</span><span class="tok-na">bar</span>             <span class="tok-o">|</span>  <span class="tok-n">example</span><span class="tok-o">.</span><span class="tok-na">txt</span>
                           <span class="tok-kc">false</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_un_primer_vistazo_al_código_en_groovy">1.4.5. Un primer vistazo al código en Groovy</h4>
<div class="paragraph">
<p>Antes de comenzar a ver las principales características de Groovy, podéis encontrar toda la documentación de sus clases y librerías en la dirección <a href="http://groovy.codehaus.org/gapi" class="bare">http://groovy.codehaus.org/gapi</a>.</p>
</div>
<div class="sect4">
<h5 id="_declaración_de_clases">Declaración de clases</h5>
<div class="paragraph">
<p>Las clases son la clave de cualquier lenguaje orientado a objetos y Groovy no iba a ser menos. El siguiente fragmento consiste en la declaración de la clase <em>Libro</em>, con una sola propiedad <em>Titulo</em>, el constructor de la clase y un método <em>getter</em> para obtener el título del libro.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kd">class</span> <span class="tok-nc">Libro</span> <span class="tok-o">{</span>
	<span class="tok-kd">private</span> <span class="tok-n">String</span> <span class="tok-n">titulo</span>

	<span class="tok-nf">Libro</span> <span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">elTitulo</span><span class="tok-o">){</span>
		<span class="tok-n">titulo</span> <span class="tok-o">=</span> <span class="tok-n">elTitulo</span>
	<span class="tok-o">}</span>
	<span class="tok-n">String</span> <span class="tok-nf">getTitulo</span><span class="tok-o">(){</span>
		<span class="tok-k">return</span> <span class="tok-n">titulo</span>
	<span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Se puede comprobar como el código es bastante similar a Java. Sin embargo, no hay la necesidad de emplear modificadores de acceso a los métodos, ya que por defecto siempre serán públicos.</p>
</div>
</div>
<div class="sect4">
<h5 id="_scripts_en_groovy">Scripts en Groovy</h5>
<div class="paragraph">
<p>Los scripts en Groovy son archivos de texto plano con extensión <em>.groovy</em> y que pueden ser ejecutados, tal y como comentábamos en una sección anterior mediante el comando <em>groovy miarchivo.groovy</em>. A diferencia de en Java, en Groovy no necesitamos compilar nuestros scripts, ya que son precompilados por nosotros al mismo tiempo que lo ejecutamos, así que a simple vista, es como si pudiéramos ejecutar un archivo groovy.</p>
</div>
<div class="paragraph">
<p>En Groovy podemos tener sentencias fuera de la definición de las clases e incluso podemos añadir métodos a nuestros scripts que también queden fuera de las definiciones de nuestras clases, si con ello conseguimos clarificar nuestro código, con lo que el método <em>main()</em> típico de Java, no es necesario en Groovy y sólo lo necesitaremos en el caso de que nuestro script necesite parámetros pasados en línea de comandos. Veamos un ejemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-n">Libro</span> <span class="tok-n">cgg</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Libro</span><span class="tok-o">(</span><span class="tok-s1">&#39;Curso GroovyGrails&#39;</span><span class="tok-o">)</span>

<span class="tok-k">assert</span> <span class="tok-n">cgg</span><span class="tok-o">.</span><span class="tok-na">getTitulo</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;Curso GroovyGrails&#39;</span>
<span class="tok-k">assert</span> <span class="tok-nf">getTituloAlReves</span><span class="tok-o">(</span><span class="tok-n">cgg</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;sliarGyvoorG osruC&#39;</span>

<span class="tok-n">String</span> <span class="tok-nf">getTituloAlReves</span><span class="tok-o">(</span><span class="tok-n">libro</span><span class="tok-o">)</span> <span class="tok-o">{</span>
	<span class="tok-n">titulo</span> <span class="tok-o">=</span> <span class="tok-n">libro</span><span class="tok-o">.</span><span class="tok-na">getTitulo</span><span class="tok-o">()</span>
	<span class="tok-k">return</span> <span class="tok-n">titulo</span><span class="tok-o">.</span><span class="tok-na">reverse</span><span class="tok-o">()</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Podemos comprobar que llamamos al método <em>getTituloAlReves()</em> incluso antes de que éste sea declarado. Otro aspecto importante es que no necesitamos compilar nuestra clase <em>Libro</em>, ya que Groovy lo hace por nosotros. El único requisito es que la clase Libro se encuentre en el <em>CLASSPATH</em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_groovybeans">GroovyBeans</h5>
<div class="paragraph">
<p>Fundamentalmente los JavaBeans son clases que definen propiedades. Por ejemplo, en nuestro ejemplo de la clase Libro, sus propiedades serían el título, el autor, la editorial, etc. Estos JavaBeans tienen métodos para obtener los valores de estas propiedades (getters) y modificarlas (setters). Estos métodos deben ser definidos en cada JavaBean, con lo que esta tarea se vuelve algo repetitiva.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span class="tok-kd">class</span> <span class="tok-nc">Libro</span><span class="tok-o">{</span>
	<span class="tok-n">String</span> <span class="tok-n">titulo</span><span class="tok-o">;</span>

	<span class="tok-n">String</span> <span class="tok-nf">getTitulo</span><span class="tok-o">(){</span>
		<span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">titulo</span>
	<span class="tok-o">}</span>

	<span class="tok-kt">void</span> <span class="tok-nf">setTitulo</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">str</span><span class="tok-o">){</span>
		<span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">titulo</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nf">String</span><span class="tok-o">(</span><span class="tok-n">str</span><span class="tok-o">)</span>
	<span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Sin embargo, Groovy gestiona esta definición de los métodos <em>get()</em> y <em>set()</em> por nosotros, con lo que ya no debemos preocuparnos. Con esto, el código anterior, en Groovy quedaría así:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kd">class</span> <span class="tok-nc">Libro</span><span class="tok-o">{</span>
	<span class="tok-n">String</span> <span class="tok-n">titulo</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Además, tenemos la gran ventaja de que podemos sobreescribir estos métodos en el caso de que queramos modificar su comportamiento básico.</p>
</div>
<div class="paragraph">
<p>En realidad, lo que hace Groovy es tratar de entender el comportamiento de las propiedades de un bean a partir de como están definidas. Con esto tenemos los siguientes casos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Si una propiedad de una clase es declarada sin ningún modificador, se genera un campo privado con sus correspondientes métodos públicos <em>getter()</em> y <em>setter()</em></p>
</li>
<li>
<p>Si una propiedad de una clase es declarada como final, dicha propiedad será privada y se definirá también su <em>getter()</em>, pero no su <em>setter()</em></p>
</li>
<li>
<p>Si necesitamos una propiedad de tipo privado o protegida debemos declarar sus métodos <em>getter()</em> y <em>setter()</em> de forma privada o protegida</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_todo_son_objetos">Todo son objetos</h5>
<div class="paragraph">
<p>En Groovy, a diferencia que en Java, los números son tratados como objetos y no como tipos primitivos. En Java no podemos utilizar métodos de la clase Integer si el entero es de tipo primitivo y tampoco podemos hacer <em>y*2</em> si la variable <em>y</em> es un objeto. Esto también es diferente en Groovy, ya que podemos utilizar operadores y métodos indiferentemente.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kt">def</span> <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>
<span class="tok-kt">def</span> <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-mi">2</span>
<span class="tok-k">assert</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">y</span> <span class="tok-o">==</span> <span class="tok-mi">3</span>
<span class="tok-k">assert</span> <span class="tok-n">x</span><span class="tok-o">.</span><span class="tok-na">plus</span><span class="tok-o">(</span><span class="tok-n">y</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-mi">3</span>
<span class="tok-k">assert</span> <span class="tok-n">x</span> <span class="tok-k">instanceof</span> <span class="tok-n">Integer</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En el ejemplo anterior se puede observar que hemos podido utilizar el operador + de los tipos primitivos y el método plus() de la clase Integer.</p>
</div>
<div class="paragraph">
<p>En realidad, en Groovy, todo es un objeto, con lo que aunque declaremos variables como tipos de datos primitivos en realidad Groovy los convierte a tipo de dato referencia, tal y como puedes ver en los siguientes ejemplos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kt">double</span> <span class="tok-n">d</span> <span class="tok-o">=</span> <span class="tok-mf">10.23</span>
<span class="tok-k">assert</span> <span class="tok-n">d</span> <span class="tok-k">instanceof</span> <span class="tok-n">Double</span>
<span class="tok-kt">char</span> <span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;a&#39;</span>
<span class="tok-k">assert</span> <span class="tok-n">a</span> <span class="tok-k">instanceof</span> <span class="tok-n">Character</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_operador">Operador ==</h5>
<div class="paragraph">
<p>Es importante comentar también que en Groovy el operador <em>==</em> tiene una connotación diferente a la que tiene en Java. En Java, este operador significa igualdad en variables primitivas mientras que en objetos significa objetos idénticos. En Groovy, el significado de este operador es el mismo que la función <em>equals()</em>. Si necesitamos comprobar la identidad de dos variables siempre podremos utilizar el método <em>is()</em> tal y como vemos en el siguiente ejemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">foo</span><span class="tok-o">.</span><span class="tok-na">is</span><span class="tok-o">(</span><span class="tok-n">bar</span><span class="tok-o">))</span>
	<span class="tok-n">println</span> <span class="tok-s2">&quot;foo y bar son el mismo objeto&quot;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_la_verdad_en_groovy">La verdad en Groovy</h5>
<div class="paragraph">
<p>Cabe aquí comentar lo que se conoce como <em>la verdad en Groovy</em> que es un término que se refiere a que se considera como cierto en Groovy y que no. Veamos algunos ejemplos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kt">def</span> <span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-kc">true</span>
<span class="tok-kt">def</span> <span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-kc">true</span>
<span class="tok-kt">def</span> <span class="tok-n">c</span> <span class="tok-o">=</span> <span class="tok-kc">false</span>
<span class="tok-k">assert</span> <span class="tok-n">a</span>
<span class="tok-k">assert</span> <span class="tok-n">a</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-n">b</span>
<span class="tok-k">assert</span> <span class="tok-n">a</span> <span class="tok-o">||</span> <span class="tok-n">c</span>
<span class="tok-k">assert</span> <span class="tok-o">!</span><span class="tok-n">c</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Hasta aquí ninguna novedad, pero ¿qué pasa si no estamos evaluando directamente un <em>booleano</em>?. Pues que Groovy añade una serie de reglas para indicar si esa expresión es cierta o no. Por ejemplo, en las colecciones (listas y mapas) se entenderá que una variable de estos tipos será cierta cuando contenga al menos un elemento.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kt">def</span> <span class="tok-n">numeros</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-mi">1</span><span class="tok-o">,</span><span class="tok-mi">2</span><span class="tok-o">,</span><span class="tok-mi">3</span><span class="tok-o">]</span>
<span class="tok-k">assert</span> <span class="tok-n">numeros</span> <span class="tok-c1">//cierto, ya que numeros no está vacía</span>
<span class="tok-n">numeros</span> <span class="tok-o">=</span> <span class="tok-o">[]</span> <span class="tok-c1">//vacíamos la lista</span>
<span class="tok-k">assert</span> <span class="tok-o">!</span><span class="tok-n">numeros</span> <span class="tok-c1">//cierto, ya que ahora la lista está vacía</span>

<span class="tok-k">assert</span> <span class="tok-o">[</span><span class="tok-s1">&#39;one&#39;</span><span class="tok-o">:</span><span class="tok-mi">1</span><span class="tok-o">]</span> <span class="tok-c1">//este mapa contiene un elemento con lo que se evalúa a cierto</span>
<span class="tok-k">assert</span> <span class="tok-o">![:]</span> <span class="tok-c1">//este mapa está vacío</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En lo que a las cadenas de texto se refiere, siempre que éstas no sean la cadena vacía, se evaluarán a cierto.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-c1">// Strings</span>
<span class="tok-k">assert</span> <span class="tok-s1">&#39;Esto es cierto&#39;</span>
<span class="tok-k">assert</span> <span class="tok-o">!</span><span class="tok-s1">&#39;&#39;</span>
<span class="tok-c1">//GStrings</span>
<span class="tok-kt">def</span> <span class="tok-n">s</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-k">assert</span> <span class="tok-o">!(</span><span class="tok-s2">&quot;$s&quot;</span><span class="tok-o">)</span>
<span class="tok-n">s</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;x&#39;</span>
<span class="tok-k">assert</span> <span class="tok-o">(</span><span class="tok-s2">&quot;$s&quot;</span><span class="tok-o">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si evalúamos un número, siempre que éste no sea cero se evaluará a cierto.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-k">assert</span> <span class="tok-o">!</span><span class="tok-mi">0</span>
<span class="tok-k">assert</span> <span class="tok-mi">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Por último, siempre que un objeto no sea <em>null</em> éste se evaluará a cierto.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-k">assert</span> <span class="tok-k">new</span> <span class="tok-nf">Object</span><span class="tok-o">()</span>
<span class="tok-k">assert</span> <span class="tok-o">!</span><span class="tok-kc">null</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_estructuras_de_control_en_groovy">Estructuras de control en Groovy</h5>
<div class="paragraph">
<p>Algunas estructuras de control en Groovy son tratadas de la misma forma que en Java. Estos bloques son <em>if-else</em>, <em>while</em>, <em>switch</em> y <em>try-catch-finally</em>, aunque es conveniente hacer algunas anotaciones. En los condicionales, <em>null</em> es tratado como <em>false</em>, mientras que <em>!null</em> será <em>true</em>.</p>
</div>
<div class="paragraph">
<p>Con respecto a la sentencia <em>if</em>, Groovy soporta la sentencia de forma anidada.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-k">if</span> <span class="tok-o">(</span> <span class="tok-o">...</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="tok-o">...</span>
<span class="tok-o">}</span> <span class="tok-k">else</span> <span class="tok-k">if</span> <span class="tok-o">(...)</span> <span class="tok-o">{</span>
<span class="tok-o">...</span>
<span class="tok-o">}</span> <span class="tok-k">else</span> <span class="tok-o">{</span>
<span class="tok-o">...</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>De igual forma, se introduce también el operador ternario.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kt">def</span> <span class="tok-n">y</span> <span class="tok-o">=</span> <span class="tok-mi">5</span>
<span class="tok-kt">def</span> <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-o">(</span><span class="tok-n">y</span> <span class="tok-o">&gt;</span> <span class="tok-mi">1</span><span class="tok-o">)</span> <span class="tok-o">?</span> <span class="tok-s2">&quot;funciona&quot;</span> <span class="tok-o">:</span> <span class="tok-s2">&quot;falla&quot;</span>
<span class="tok-k">assert</span> <span class="tok-n">x</span> <span class="tok-o">==</span> <span class="tok-s2">&quot;funciona&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Así como el operador Elvis</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kt">def</span> <span class="tok-n">usuario</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-nl">nombre:</span><span class="tok-s2">&quot;Fran&quot;</span><span class="tok-o">]</span>
<span class="tok-kt">def</span> <span class="tok-n">nombre</span> <span class="tok-o">=</span> <span class="tok-n">usuario</span><span class="tok-o">.</span><span class="tok-na">nombre</span> <span class="tok-o">?:</span> <span class="tok-s2">&quot;Anónimo&quot;</span>
<span class="tok-k">assert</span> <span class="tok-n">nombre</span> <span class="tok-o">==</span> <span class="tok-s2">&quot;Fran&quot;</span>
<span class="tok-n">usuario</span> <span class="tok-o">=</span> <span class="tok-o">[:]</span>
<span class="tok-n">nombre</span> <span class="tok-o">=</span> <span class="tok-n">usuario</span><span class="tok-o">.</span><span class="tok-na">nombre</span> <span class="tok-o">?:</span> <span class="tok-s2">&quot;Anónimo&quot;</span>
<span class="tok-k">assert</span> <span class="tok-n">nombre</span> <span class="tok-o">==</span> <span class="tok-s2">&quot;Anónimo&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Con respecto a la estructura <em>switch</em>, la única diferencia entre Groovy y Java es que en la condición se puede utilizar cualquier tipo de comprobación, tal y como vemos en el siguiente ejemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kt">def</span> <span class="tok-n">x</span> <span class="tok-o">=</span> <span class="tok-mf">1.23</span>
<span class="tok-kt">def</span> <span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;&quot;</span>

<span class="tok-k">switch</span> <span class="tok-o">(</span> <span class="tok-n">x</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-k">case</span> <span class="tok-s2">&quot;foo&quot;</span><span class="tok-o">:</span>
        <span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;found foo&quot;</span>
        <span class="tok-c1">// lets fall through</span>

    <span class="tok-k">case</span> <span class="tok-s2">&quot;bar&quot;</span><span class="tok-o">:</span>
        <span class="tok-n">result</span> <span class="tok-o">+=</span> <span class="tok-s2">&quot;bar&quot;</span>

    <span class="tok-k">case</span> <span class="tok-o">[</span><span class="tok-mi">4</span><span class="tok-o">,</span> <span class="tok-mi">5</span><span class="tok-o">,</span> <span class="tok-mi">6</span><span class="tok-o">,</span> <span class="tok-s1">&#39;inList&#39;</span><span class="tok-o">]:</span>
        <span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;list&quot;</span>
        <span class="tok-k">break</span>

    <span class="tok-k">case</span> <span class="tok-mi">12</span><span class="tok-o">..</span><span class="tok-mi">30</span><span class="tok-o">:</span>
        <span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;range&quot;</span>
        <span class="tok-k">break</span>

    <span class="tok-k">case</span> <span class="tok-nl">Integer:</span>
        <span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;integer&quot;</span>
        <span class="tok-k">break</span>

    <span class="tok-k">case</span> <span class="tok-nl">Number:</span>
        <span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;number&quot;</span>
        <span class="tok-k">break</span>

    <span class="tok-k">default</span><span class="tok-o">:</span>
        <span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;default&quot;</span>
<span class="tok-o">}</span>

<span class="tok-k">assert</span> <span class="tok-n">result</span> <span class="tok-o">==</span> <span class="tok-s2">&quot;number&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Groovy permite realizar las siguientes comprobaciones en una estructura <em>switch</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Comparar la clase de una variable</p>
</li>
<li>
<p>Expresiones regulares</p>
</li>
<li>
<p>Comprobar si la variable está contenida en una colección</p>
</li>
<li>
<p>Y en último lugar, se comprueba la igualdad entre la variable evaluada y el caso en particular</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Los bloques de código del tipo <em>for</em> utilizan la notación <em>for(i in x){cuerpo}</em> donde <em>x</em> puede ser cualquier cosa que Groovy sepa como iterar (iteradores, enumeraciones, colecciones, mapas, rangos, etc.)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-k">for</span><span class="tok-o">(</span><span class="tok-n">i</span> <span class="tok-k">in</span> <span class="tok-mi">1</span><span class="tok-o">..</span><span class="tok-mi">10</span><span class="tok-o">)</span>
	<span class="tok-n">println</span> <span class="tok-n">i</span>

<span class="tok-nf">for</span><span class="tok-o">(</span><span class="tok-n">i</span> <span class="tok-k">in</span> <span class="tok-o">[</span><span class="tok-mi">1</span><span class="tok-o">,</span><span class="tok-mi">2</span><span class="tok-o">,</span><span class="tok-mi">3</span><span class="tok-o">,</span><span class="tok-mi">4</span><span class="tok-o">,</span><span class="tok-mi">5</span><span class="tok-o">,</span><span class="tok-mi">6</span><span class="tok-o">,</span><span class="tok-mi">7</span><span class="tok-o">,</span><span class="tok-mi">8</span><span class="tok-o">,</span><span class="tok-mi">9</span><span class="tok-o">,</span><span class="tok-mi">10</span><span class="tok-o">])</span>
	<span class="tok-n">println</span> <span class="tok-n">i</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En Groovy es una práctica habitual utilizar un closure para simular un bucle <em>for</em> como por ejemplo en el siguiente código</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kt">def</span> <span class="tok-n">alumnos</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-s1">&#39;Pedro&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;Miguel&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;Alejandro&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;Elena&#39;</span><span class="tok-o">]</span>
<span class="tok-n">alumnos</span><span class="tok-o">.</span><span class="tok-na">each</span><span class="tok-o">{</span><span class="tok-n">nombre</span> <span class="tok-o">-&gt;</span> <span class="tok-n">println</span> <span class="tok-n">nombre</span><span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tipos_de_datos_en_groovy">1.5. Tipos de datos en Groovy</h3>
<div class="sect3">
<h4 id="_tipos_primitivos_y_referencias">1.5.1. Tipos primitivos y referencias</h4>
<div class="paragraph">
<p>En Java, existen los tipos de datos primitivos (<em>int, double, float, char</em>, etc) y las referencias (<em>Object, String</em>, etc), Los tipos de datos primitivos son aquellos que tienen valor por si mismos, bien sea un entero, un carácter o un número en coma flotante y es imposible crear nuevos tipos de datos primitivos.</p>
</div>
<div class="paragraph">
<p>Mientras que las referencias son identificadores de instancias de clases Java y, como su nombre indica, simplemente es una referencia a un objeto. En los tipos de datos primitivos es imposible realizar llamadas a métodos y éstos no pueden ser utilizados en aquellos lugares donde se espera la presencia de un tipo <em>java.lang.Object</em>. Esto hace que determinados fragmentos de código de nuestros programas, se compliquen demasiado, como puede ser el siguiente ejemplo que realiza la suma posición por posición de un par de vectores de enteros.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span class="tok-n">ArrayList</span> <span class="tok-n">resultados</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nf">ArrayList</span><span class="tok-o">();</span>
<span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">i</span><span class="tok-o">=</span><span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">listaUno</span><span class="tok-o">.</span><span class="tok-na">size</span><span class="tok-o">();</span> <span class="tok-n">i</span><span class="tok-o">++){</span>
    <span class="tok-n">Integer</span> <span class="tok-n">primero</span> <span class="tok-o">=</span> <span class="tok-o">(</span><span class="tok-n">Integer</span><span class="tok-o">)</span><span class="tok-n">listaUno</span><span class="tok-o">.</span><span class="tok-na">get</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>
    <span class="tok-n">Integer</span> <span class="tok-n">segundo</span> <span class="tok-o">=</span> <span class="tok-o">(</span><span class="tok-n">Integer</span><span class="tok-o">)</span><span class="tok-n">listaDos</span><span class="tok-o">.</span><span class="tok-na">get</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>

    <span class="tok-kt">int</span> <span class="tok-n">suma</span> <span class="tok-o">=</span> <span class="tok-n">primero</span><span class="tok-o">.</span><span class="tok-na">intValue</span><span class="tok-o">()</span> <span class="tok-o">+</span> <span class="tok-n">segundo</span><span class="tok-o">.</span><span class="tok-na">intValue</span><span class="tok-o">();</span>
    <span class="tok-n">resultados</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-nf">Integer</span><span class="tok-o">(</span><span class="tok-n">suma</span><span class="tok-o">));</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En Groovy, todo es un objeto y una solución al ejemplo anterior podría ser utilizando el método <em>plus()</em> que Groovy añade al tipo Integer: <em>resultados.add(primero.plus(segundo))</em>, con lo que nos podríamos ahorrar el paso de la conversión de tipo de dato referencia a tipo de dato primitivo (<em>primero.intValue()</em>).</p>
</div>
<div class="paragraph">
<p>Sin embargo, esta solución también se podría conseguir en Java si se añadiera el método plus a la clase Integer. Así que Groovy decide ir un poco más lejos y permite la utilización de operadores entre objetos, con lo que la solución en Groovy sería <em>resultados.add (primero + segundo)</em>.</p>
</div>
<div class="paragraph">
<p>De esta forma, lo que en Groovy puede parecer una variable de tipo de dato primitivo, en realidad es una referencia a una clase Java, tal y como se muestra en la siguiente tabla.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Tipo primitivo</th>
<th class="tableblock halign-left valign-top">Tipo referencia</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">byte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Byte</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">short</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Short</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Long</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">float</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Float</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Double</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">char</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Character</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Boolean</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Así que cada vez que utilices un tipo de datos primitivo en tus programas en Groovy, en realidad estás utilizando la correspondiente clase indicada en la tabla anterior,  con lo que, puedes ahorrarte el uso de tipos primitivos en Groovy, porque por detrás se está haciendo una conversión a un tipo de dato referencia.</p>
</div>
</div>
<div class="sect3">
<h4 id="_boxing_unboxing_y_autoboxing">1.5.2. Boxing, unboxing y autoboxing</h4>
<div class="paragraph">
<p>La conversión de un tipo de dato primitivo a un tipo de dato referencia se conoce en Java como <em>boxing</em>, mientras que la conversión de un tipo de dato referencia a un tipo de dato primitivo se conoce <em>unboxing</em>. Groovy automatiza estas operaciones en lo que se conoce como <em>autoboxing</em>.</p>
</div>
<div class="paragraph">
<p>Pero, si Groovy convierte todo a un tipo de dato referencia, ¿qué pasa con aquellos métodos de Java que esperan un parámetro de tipo de dato primitivo?	No hay de que preocuparse, el autoboxing de Groovy se encarga de eso. Por ejemplo, en el método <em>indexOf</em> de la clase <em>java.lang.String</em> se espera como parámetro un entero (<em>int</em>) que indica el carácter buscado en la cadena, devolviendo también un entero indicando la posición en la que se ha encontrado el caracter. Si probamos el siguiente ejemplo, veremos como todo funciona correctamente, ya que Groovy se encarga de realizar el autoboxing allí donde considere oportuno, en este caso, en el paso del parámetro a la función <em>indexOf</em>. El siguiente código trata de obtener la posición de la primera 'o' de la cadena.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-k">assert</span> <span class="tok-s1">&#39;Hola Mundo&#39;</span><span class="tok-o">.</span><span class="tok-na">indexOf</span><span class="tok-o">(</span><span class="tok-mi">111</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-mi">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En un principio Groovy, debería convertir el tipo de datos <em>int</em> del valor 111 a <em>Integer</em>, sin embargo, la función <em>indexOf()</em> requiere un parámetro de tipo <em>int</em>, con lo que el autoboxing de Groovy funciona de tal forma para convertir el parámetro al tipo de dato requerido, en este caso, <em>int</em>.</p>
</div>
<div class="paragraph">
<p>Otro aspecto interesante del autoboxing de Groovy es que no siempre se ejecuta el autoboxing para la realización de determinadas operaciones. Por ejemplo, en la operación <em>1 + 2</em>, podemos pensar que los valores 1 y 2 son del tipo referencia <em>Integer</em>, lo cual es cierto y que para poder realizarse la operación, éstos deben ser convertidos a tipo <em>int</em>, lo cual no es cierto.</p>
</div>
<div class="paragraph">
<p>De Groovy se dice que es incluso más orientado a objetos que Java y se dice por cuestiones como esta. En la operación <em>1 + 2</em>, lo que Groovy está realmente ejecutando es <em>1.plus(2)</em>, con lo que no es necesaria ninguna conversión para realizar esta operación.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tipado_dinámico">1.5.3. Tipado dinámico</h4>
<div class="paragraph">
<p>Hasta el momento, en prácticamente todos los ejemplos que hemos visto en Groovy, hemos obviado especificar los tipos de datos utilizados, dejando que Groovy lo haga por nosotros. Esto es lo que se conoce como tipado dinámico y en este punto, vamos a ver los pros y los contras de su uso. La siguiente tabla, muestra un ejemplo con definiciones de variables y como actúa Groovy en cada caso.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Sentencia</th>
<th class="tableblock halign-left valign-top">Tipo de variable</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">def a = 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">def b = 0.4f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Float</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">def c = 'a'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.String</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">int d = 3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">float e = 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Float</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">char f = '1'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Character</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Integer g = 6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">String h = '1'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.String</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Character i = 'a'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Character</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kt">def</span> <span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-mi">2</span>
<span class="tok-kt">def</span> <span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-mf">0.4f</span>
<span class="tok-kt">def</span> <span class="tok-n">c</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;a&#39;</span>
<span class="tok-kt">int</span> <span class="tok-n">d</span> <span class="tok-o">=</span> <span class="tok-mi">3</span>
<span class="tok-kt">float</span> <span class="tok-n">e</span> <span class="tok-o">=</span> <span class="tok-mi">4</span>
<span class="tok-kt">char</span> <span class="tok-n">f</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;1&#39;</span>
<span class="tok-n">Integer</span> <span class="tok-n">g</span> <span class="tok-o">=</span> <span class="tok-mi">6</span>
<span class="tok-n">String</span> <span class="tok-n">h</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;1&#39;</span>
<span class="tok-n">Character</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;a&#39;</span>

<span class="tok-k">assert</span> <span class="tok-n">a</span> <span class="tok-k">instanceof</span> <span class="tok-n">java</span><span class="tok-o">.</span><span class="tok-na">lang</span><span class="tok-o">.</span><span class="tok-na">Integer</span>
<span class="tok-k">assert</span> <span class="tok-n">b</span> <span class="tok-k">instanceof</span> <span class="tok-n">java</span><span class="tok-o">.</span><span class="tok-na">lang</span><span class="tok-o">.</span><span class="tok-na">Float</span>
<span class="tok-k">assert</span> <span class="tok-n">c</span> <span class="tok-k">instanceof</span> <span class="tok-n">java</span><span class="tok-o">.</span><span class="tok-na">lang</span><span class="tok-o">.</span><span class="tok-na">String</span>
<span class="tok-k">assert</span> <span class="tok-n">d</span> <span class="tok-k">instanceof</span> <span class="tok-n">java</span><span class="tok-o">.</span><span class="tok-na">lang</span><span class="tok-o">.</span><span class="tok-na">Integer</span>
<span class="tok-k">assert</span> <span class="tok-n">e</span> <span class="tok-k">instanceof</span> <span class="tok-n">java</span><span class="tok-o">.</span><span class="tok-na">lang</span><span class="tok-o">.</span><span class="tok-na">Float</span>
<span class="tok-k">assert</span> <span class="tok-n">f</span> <span class="tok-k">instanceof</span> <span class="tok-n">java</span><span class="tok-o">.</span><span class="tok-na">lang</span><span class="tok-o">.</span><span class="tok-na">Character</span>
<span class="tok-k">assert</span> <span class="tok-n">g</span> <span class="tok-k">instanceof</span> <span class="tok-n">java</span><span class="tok-o">.</span><span class="tok-na">lang</span><span class="tok-o">.</span><span class="tok-na">Integer</span>
<span class="tok-k">assert</span> <span class="tok-n">h</span> <span class="tok-k">instanceof</span> <span class="tok-n">java</span><span class="tok-o">.</span><span class="tok-na">lang</span><span class="tok-o">.</span><span class="tok-na">String</span>
<span class="tok-k">assert</span> <span class="tok-n">i</span> <span class="tok-k">instanceof</span> <span class="tok-n">java</span><span class="tok-o">.</span><span class="tok-na">lang</span><span class="tok-o">.</span><span class="tok-na">Character</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>La palabra reservada <em>def</em> se utiliza cuando no queremos especificar ningún tipo de dato en especial y dejamos que Groovy decida por nosotros, tal y como aparece en los tres primeros ejemplos. En los tres ejemplos siguientes, podemos ver como independientemente de declarar una variable como tipo de dato primitivo, ésta acabará siendo un tipo de dato referencia. Los tres últimos ejemplos, servirán a la persona que esté leyendo el código para entender que esa variable es un objeto.</p>
</div>
<div class="paragraph">
<p>Aquí es importante resaltar que Groovy es un lenguaje de tipado dinámico de datos seguro, lo que quiere decir, que Groovy no nos va a permitir realizar operaciones de una determinada clase a un objeto definido de forma diferente. Por ejemplo, en el trozo de código <em>String f = '1'</em>, la variable <em>f</em> nunca va a poder ser utilizada para realizar operaciones matemáticas como si fuera de la clase <em>java.lang.Number</em> salvo que hagamos la correspondiente conversión.</p>
</div>
<div class="paragraph">
<p>Poder elegir si utilizamos tipado dinámico o estático, es una de las mejores cosas que tiene Groovy. En Internet existen muchos foros de discusión creados a partir de este debate donde se exponen los pros y los contras de cada método. El <em>tipado estático</em> nos proporciona más información para la optimización de nuestros programas y revelan información adicional sobre el significado de la variable o del parámetro utilizado en un método determinado.</p>
</div>
<div class="paragraph">
<p>Por otro lado, el <em>tipado dinámico</em> no sólo es el método utilizado por los programadores vagos que no quieren estar definiendo los tipos de las variables, sino que también se utiliza cuando la salida de un método es utilizado como entrada de otro sin tener que hacer ningún trabajo extra por nuestra parte. De esta forma, el programador deja a Groovy que se encargue de la conversión de los datos en caso de que sea necesario y factible.</p>
</div>
<div class="paragraph">
<p>Otro aspecto interesante del tipado dinámico, es lo que se conoce como el <em>duck typing</em> (tipado de patos) y es que, si hay algo que camina como un pato y habla como un pato, lo más probable es que sea un pato. El tipado dinámico es interesante utilizarlo cuando se desconoce a ciencia cierta el tipo de datos de una determinada variable o parámetro. Esto nos proporciona un gran nivel de reutilización de nuestro código, así como la posibilidad de implementar funciones genéricas.</p>
</div>
</div>
<div class="sect3">
<h4 id="_trabajo_con_cadenas">1.5.4. Trabajo con cadenas</h4>
<div class="paragraph">
<p>Groovy nos facilita el trabajo con las cadenas de texto en mayor medida que lo hace Java, añadiendo su propia librería <em>groovy.lang.GString</em>, con lo que además de los métodos ofrecidos por la clase <em>java.lang.String</em>, Groovy cuenta con más metodos ofrecidos por esta librería. Una característica de como trabaja Groovy con las cadenas de texto es que nos permite introducir variables en las cadenas sin tener que utilizar caracteres de escape como por ejemplo <em>"hola $minombre"</em>, donde en la misma cadena se introduce el valor de una variable. Esto es típico de algunos lenguajes de programación como PHP y facilita la lectura de nuestro código ya que no tenemos que estar escapando constantemente.</p>
</div>
<div class="paragraph">
<p>La siguiente tabla muestra las diferentes formas que hay en Groovy para crear una cadena de texto:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Caracteres utilizados</th>
<th class="tableblock halign-left valign-top">Ejemplo</th>
<th class="tableblock halign-left valign-top">Soporte GString</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comillas simples</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'hola Juan'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comillas dobles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"hola $nombre"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sí</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 comillas simples</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'''-------------&lt;br/&gt;Total:0.02&lt;br/&gt;-------------'''</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3 comillas dobles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"""-------------&lt;br/&gt;Total:$total&lt;br/&gt;-------------"""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sí</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Símbolo /</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/x(\d*)y/</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sí</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>La diferencia entre las comillas simples y las dobles es la posibilidad de incluir variables precedidas del símbolo $ para mostrar su valor. Las cadenas introducidas con el símbolo / son utilizadas con expresiones regulares, como veremos más adelante.</p>
</div>
<div class="sect4">
<h5 id="_la_librería_gstring">La librería GString</h5>
<div class="paragraph">
<p>La librería GString (<em>groovy.lang.GString</em>) añade determinados métodos para facilitarnos el trabajo con cadenas de texto, las cuales normalmente se crean utilizando comillas dobles. Básicamente, una cadena de tipo GString nos va a permitir introducir variables precedidas del símbolo $. También es posible introducir expresiones entre llaves (<em>${expresion}</em>), tal y como si estuviéramos escribiendo un <em>closure</em>. Veamos algunos ejemplos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-n">nombre</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;Fran&#39;</span>
<span class="tok-n">apellidos</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;García&#39;</span>
<span class="tok-n">salida</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Apellidos, nombre: $apellidos, $nombre&quot;</span>

<span class="tok-n">fecha</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Date</span><span class="tok-o">(</span><span class="tok-mi">0</span><span class="tok-o">)</span>
<span class="tok-n">salida</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Año $fecha.year, Mes $fecha.month, Día $fecha.date&quot;</span>

<span class="tok-n">salida</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;La fecha es ${fecha.toGMTString()}&quot;</span>

<span class="tok-n">sentenciasql</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;&quot;&quot;</span>
<span class="tok-s2">SELECT nombre, apellidos</span>
<span class="tok-s2">FROM usuarios</span>
<span class="tok-s2">WHERE anyo_nacimiento=$fecha.year</span>
<span class="tok-s2">&quot;&quot;&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ahora que ya podemos declarar variables de texto, vamos a ver algunos métodos que podemos utilizar en Groovy:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-n">saludo</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;Hola Juan&#39;</span>

<span class="tok-k">assert</span> <span class="tok-n">saludo</span><span class="tok-o">.</span><span class="tok-na">startsWith</span><span class="tok-o">(</span><span class="tok-s1">&#39;Hola&#39;</span><span class="tok-o">)</span>

<span class="tok-k">assert</span> <span class="tok-n">saludo</span><span class="tok-o">.</span><span class="tok-na">getAt</span><span class="tok-o">(</span><span class="tok-mi">3</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;a&#39;</span>
<span class="tok-k">assert</span> <span class="tok-n">saludo</span><span class="tok-o">[</span><span class="tok-mi">3</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;a&#39;</span>

<span class="tok-k">assert</span> <span class="tok-n">saludo</span><span class="tok-o">.</span><span class="tok-na">indexOf</span><span class="tok-o">(</span><span class="tok-s1">&#39;Juan&#39;</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-mi">5</span>
<span class="tok-k">assert</span> <span class="tok-n">saludo</span><span class="tok-o">.</span><span class="tok-na">contains</span><span class="tok-o">(</span><span class="tok-s1">&#39;Juan&#39;</span><span class="tok-o">)</span>

<span class="tok-k">assert</span> <span class="tok-n">saludo</span><span class="tok-o">[</span><span class="tok-mi">5</span><span class="tok-o">..</span><span class="tok-mi">8</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;Juan&#39;</span>

<span class="tok-k">assert</span> <span class="tok-s1">&#39;Buenos días&#39;</span> <span class="tok-o">+</span> <span class="tok-n">saludo</span> <span class="tok-o">-</span> <span class="tok-s1">&#39;Hola&#39;</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;Buenos días Juan&#39;</span>

<span class="tok-k">assert</span> <span class="tok-n">saludo</span><span class="tok-o">.</span><span class="tok-na">count</span><span class="tok-o">(</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-mi">2</span>

<span class="tok-k">assert</span> <span class="tok-s1">&#39;b&#39;</span><span class="tok-o">.</span><span class="tok-na">padLeft</span><span class="tok-o">(</span><span class="tok-mi">3</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;  b&#39;</span>
<span class="tok-k">assert</span> <span class="tok-s1">&#39;b&#39;</span><span class="tok-o">.</span><span class="tok-na">padRight</span><span class="tok-o">(</span><span class="tok-mi">3</span><span class="tok-o">,</span><span class="tok-s1">&#39;_&#39;</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;b__&#39;</span>
<span class="tok-k">assert</span> <span class="tok-s1">&#39;b&#39;</span><span class="tok-o">.</span><span class="tok-na">center</span><span class="tok-o">(</span><span class="tok-mi">3</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-s1">&#39; b &#39;</span>
<span class="tok-k">assert</span> <span class="tok-s1">&#39;b&#39;</span> <span class="tok-o">*</span> <span class="tok-mi">3</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;bbb&#39;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_expresiones_regulares">Expresiones regulares</h5>
<div class="paragraph">
<p>Las expresiones regulares nos permiten especificar un patrón y buscar si éste aparece en un fragmento de texto determinado. Groovy deje que sea Java la encargada del tratamiento de las expresiones regulares, pero además, añade tres métodos para facilitarnos este trabajo:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>El operador =~: <em>find</em></p>
</li>
<li>
<p>El operador ==~: <em>match</em></p>
</li>
<li>
<p>El operador ~String: <em>pattern</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Con los patrones de las expresiones regulares, realmente estamos indicando que estamos buscando exactamente. Veamos algunos ejemplos:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Patrón</th>
<th class="tableblock halign-left valign-top">Significado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">algo de texto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">simplemente encontrará la frase "algo de texto"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">algo de\s+texto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">encontrará frases que empiecen con "algo de", vayan seguidos por uno o más caracteres y terminen con la palabra texto</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">\d\d/\d\d/\d\d\d\d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">detectará fechas como por ejemplo 28/06/2008</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>El punto clave de los patrones de las expresiones regulares, son los símbolos, que los podemos sustituir por determinados fragmentos de texto. La siguiente tabla presenta estos símbolos:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Símbolo</th>
<th class="tableblock halign-left valign-top">Significado</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cualquier carácter</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">^</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">El inicio de una línea</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">$</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">El final de una línea</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">\d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un dígito</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">\D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cualquier cosa excepto un dígito</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">\s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un espacio en blanco</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">\S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cualquier cosa excepto un espacio en blanco</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">\w</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Un carácter de texto</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">\W</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cualquier carácter excepto los de texto</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">\b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Límite de palabras</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Agrupación</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">(x|y)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O x o y</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">x*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cero o más ocurrencias de x</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">x+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Una o más ocurrencias de x</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">x?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cero o una ocurrencia de x</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">x{m,n}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Entre m y n ocurrencias de x</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">x{m}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exactamente m ocurrencias de x</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">[a-d]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Incluye los caracteres a, b, c y d</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">[^a]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cualquier carácter excepto la letra a</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Las expresiones regulares nos ayudarán en Groovy a:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Indicarnos si un determinado patrón encaja completamente con un texto</p>
</li>
<li>
<p>Si existe alguna ocurrencia de un patrón en una cadena</p>
</li>
<li>
<p>Contar el número de ocurrencias</p>
</li>
<li>
<p>Hacer algo con una determinada ocurrencia</p>
</li>
<li>
<p>Reemplazar todas las ocurrencias con un determinado texto</p>
</li>
<li>
<p>Separar una cadena en múltiples cadenas a partir de las ocurrencias que aparezcan en la misma</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>El siguiente fragmento de código muestra el funcionamiento básico de las expresiones regulares.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-n">refran</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;tres tristes tigres tigraban en un tigral&quot;</span>

<span class="tok-c1">//Compruebo que hay al menos un fragmento de código que empieza por t,</span>
<span class="tok-c1">//le siga cualquier caracter y posteriormente haya una g</span>
<span class="tok-k">assert</span> <span class="tok-n">refran</span> <span class="tok-o">=~</span> <span class="tok-s">/t.g/</span>

<span class="tok-c1">//Compruebo que el refrán esté compuesto sólo</span>
<span class="tok-c1">//por palabras seguidas de un espacio</span>
<span class="tok-k">assert</span> <span class="tok-n">refran</span> <span class="tok-o">==~</span> <span class="tok-s">/(\w+ \w+)*/</span>

<span class="tok-c1">//Compruebo que el valor de una operación de tipo match es un booleano</span>
<span class="tok-k">assert</span> <span class="tok-o">(</span><span class="tok-n">refran</span> <span class="tok-o">==~</span> <span class="tok-s">/(\w+ \w+)*/</span><span class="tok-o">)</span> <span class="tok-k">instanceof</span> <span class="tok-n">java</span><span class="tok-o">.</span><span class="tok-na">lang</span><span class="tok-o">.</span><span class="tok-na">Boolean</span>

<span class="tok-c1">//A diferencia que una operación de tipo find,</span>
<span class="tok-c1">//las operaciones match se evalúan por completo contra una cadena</span>
<span class="tok-k">assert</span> <span class="tok-o">(</span><span class="tok-n">refran</span> <span class="tok-o">==~</span> <span class="tok-s">/t.g/</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-kc">false</span>

<span class="tok-c1">//Sustituyo las palabras por el caracter x</span>
<span class="tok-k">assert</span> <span class="tok-o">(</span><span class="tok-n">refran</span><span class="tok-o">.</span><span class="tok-na">replaceAll</span><span class="tok-o">(</span><span class="tok-s">/\w+/</span><span class="tok-o">,</span><span class="tok-s1">&#39;x&#39;</span><span class="tok-o">))</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;x x x x x x x&#39;</span>

<span class="tok-c1">//Devuelve un array con todas las palabras del refrán</span>
<span class="tok-n">palabras</span> <span class="tok-o">=</span> <span class="tok-n">refran</span><span class="tok-o">.</span><span class="tok-na">split</span><span class="tok-o">(</span><span class="tok-s">/ /</span><span class="tok-o">)</span>
<span class="tok-k">assert</span> <span class="tok-n">palabras</span><span class="tok-o">.</span><span class="tok-na">size</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-mi">7</span>
<span class="tok-k">assert</span> <span class="tok-n">palabras</span><span class="tok-o">[</span><span class="tok-mi">2</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;tigres&#39;</span>
<span class="tok-k">assert</span> <span class="tok-n">palabras</span><span class="tok-o">.</span><span class="tok-na">getAt</span><span class="tok-o">(</span><span class="tok-mi">3</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;tigraban&#39;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Es importante resaltar la diferencia entre el operador <em>find</em> y el operador <em>match</em>. El operador <em>match</em> es más restrictivo puesto que intenta hacer coincidir un patrón con la cadena entera, mientras que el operador <em>find</em>, sólo pretende encontrar una ocurrencia del patrón en la cadena.</p>
</div>
<div class="paragraph">
<p>Ya sabemos como localizar fragmentos de texto en cadenas, pero ¿y si queremos hacer algo con estas cadenas encontradas? Groovy nos vuelve a facilitar esta tarea y pone a nuestra disposición un par de formas para recorrer las ocurrencias encontradas: <em>each</em> y <em>eachMatch</em>. Por un lado, al método <em>eachMatch</em> se le pasa una cadena con un patrón de expresión regular como parámetro: <em>String.eachMatch(patron)</em>, mientras que al método <em>each</em> se le pasa directamente el resultado de una operación de tipo <em>find()</em> o <em>match()</em>: <em>Matcher.each()</em>. Veámos ambos métodos en funcionamiento.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-n">refran</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;tres tristes tigres tigraban en un tigral&quot;</span>

<span class="tok-c1">//Busco todas las palabras que acaben en &#39;es&#39;</span>
<span class="tok-n">rima</span> <span class="tok-o">=</span> <span class="tok-o">~</span><span class="tok-s">/\b\w*es\b/</span>
<span class="tok-n">resultado</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-n">refran</span><span class="tok-o">.</span><span class="tok-na">eachMatch</span><span class="tok-o">(</span><span class="tok-n">rima</span><span class="tok-o">)</span> <span class="tok-o">{</span> <span class="tok-n">match</span> <span class="tok-o">-&gt;</span>
    <span class="tok-n">resultado</span> <span class="tok-o">+=</span> <span class="tok-n">match</span> <span class="tok-o">+</span> <span class="tok-s1">&#39; &#39;</span>
<span class="tok-o">}</span>

<span class="tok-k">assert</span> <span class="tok-n">resultado</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;tres tristes tigres &#39;</span>

<span class="tok-c1">//Hago lo mismo con el método each</span>
<span class="tok-n">resultado</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-o">(</span><span class="tok-n">refran</span> <span class="tok-o">=~</span> <span class="tok-n">rima</span><span class="tok-o">).</span><span class="tok-na">each</span> <span class="tok-o">{</span> <span class="tok-n">match</span> <span class="tok-o">-&gt;</span>
    <span class="tok-n">resultado</span> <span class="tok-o">+=</span> <span class="tok-n">match</span> <span class="tok-o">+</span> <span class="tok-s1">&#39; &#39;</span>
<span class="tok-o">}</span>

<span class="tok-k">assert</span> <span class="tok-n">resultado</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;tres tristes tigres &#39;</span>

<span class="tok-c1">//Sustituyo todas las rimas por guiones bajos</span>
<span class="tok-k">assert</span> <span class="tok-o">(</span><span class="tok-n">refran</span><span class="tok-o">.</span><span class="tok-na">replaceAll</span><span class="tok-o">(</span><span class="tok-n">rima</span><span class="tok-o">){</span> <span class="tok-n">it</span><span class="tok-o">-</span><span class="tok-s1">&#39;es&#39;</span><span class="tok-o">+</span><span class="tok-s1">&#39;__&#39;</span><span class="tok-o">}</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;tr__ trist__ tigr__ tigraban en un tigral&#39;</span><span class="tok-o">)</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_números">1.5.5. Números</h4>
<div class="paragraph">
<p>El GDK de Groovy introduce algunos métodos interesantes en cuanto al tratamiento de números. Estos métodos funcionan como closures y nos servirán como otras formas de realizar bucles. Estos métodos son:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>times()</em>, se utiliza para realizar repeticiones</p>
</li>
<li>
<p><em>upto()</em>, utilizado para realizar una secuencia de acciones de forma creciente</p>
</li>
<li>
<p><em>downto()</em>, igual que el anterior pero de forma decreciente</p>
</li>
<li>
<p><em>step()</em>, es el método general para realizar una secuencia paso a paso</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pero como siempre, veamos varios ejemplos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kt">def</span> <span class="tok-n">cadena</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-mi">10</span><span class="tok-o">.</span><span class="tok-na">times</span> <span class="tok-o">{</span>
    <span class="tok-n">cadena</span> <span class="tok-o">+=</span> <span class="tok-s1">&#39;g&#39;</span>
<span class="tok-o">}</span>
<span class="tok-k">assert</span> <span class="tok-n">cadena</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;gggggggggg&#39;</span>

<span class="tok-n">cadena</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-mi">1</span><span class="tok-o">.</span><span class="tok-na">upto</span><span class="tok-o">(</span><span class="tok-mi">5</span><span class="tok-o">)</span> <span class="tok-o">{</span> <span class="tok-n">numero</span> <span class="tok-o">-&gt;</span>
    <span class="tok-n">cadena</span> <span class="tok-o">+=</span> <span class="tok-n">numero</span>
<span class="tok-o">}</span>

<span class="tok-k">assert</span> <span class="tok-n">cadena</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;12345&#39;</span>

<span class="tok-n">cadena</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-mi">2</span><span class="tok-o">.</span><span class="tok-na">downto</span><span class="tok-o">(-</span><span class="tok-mi">2</span><span class="tok-o">)</span> <span class="tok-o">{</span> <span class="tok-n">numero</span> <span class="tok-o">-&gt;</span>
    <span class="tok-n">cadena</span> <span class="tok-o">+=</span> <span class="tok-n">numero</span> <span class="tok-o">+</span> <span class="tok-s1">&#39; &#39;</span>
<span class="tok-o">}</span>

<span class="tok-k">assert</span> <span class="tok-n">cadena</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;2 1 0 -1 -2 &#39;</span>

<span class="tok-n">cadena</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-mi">0</span><span class="tok-o">.</span><span class="tok-na">step</span><span class="tok-o">(</span><span class="tok-mf">0.5</span><span class="tok-o">,</span> <span class="tok-mf">0.1</span><span class="tok-o">)</span> <span class="tok-o">{</span> <span class="tok-n">numero</span> <span class="tok-o">-&gt;</span>
    <span class="tok-n">cadena</span> <span class="tok-o">+=</span> <span class="tok-n">numero</span> <span class="tok-o">+</span> <span class="tok-s1">&#39; &#39;</span>
<span class="tok-o">}</span>

<span class="tok-k">assert</span> <span class="tok-n">cadena</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;0 0.1 0.2 0.3 0.4 &#39;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_colecciones">1.6. Colecciones</h3>
<div class="paragraph">
<p>Ahora que ya hemos introducido los tipos de datos simples, llega el turno de hablar de las colecciones presentes en Groovy. En este apartado vamos a ver tres tipos de datos. Por un lado, las <em>listas</em> y los <em>mapas</em>, que tienen prácticamente las mismas connotaciones que en Java, con alguna nueva característica que añade Groovy, y por otro, los <em>rangos</em>, un concepto que no existe en Java.</p>
</div>
<div class="sect3">
<h4 id="_rangos">1.6.1. Rangos</h4>
<div class="paragraph">
<p>Empecemos por lo novedoso. Cuantas veces no nos habremos encontrado con un bloque de código similar al siguiente</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">i</span><span class="tok-o">=</span><span class="tok-mi">0</span><span class="tok-o">;</span><span class="tok-n">i</span><span class="tok-o">&lt;</span><span class="tok-mi">10</span><span class="tok-o">;</span><span class="tok-n">i</span><span class="tok-o">++){</span>
	<span class="tok-c1">//hacer algo con la variable i</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>El anterior fragmento de código se ejecutará empezando en un límite inferior (0) y terminará de ejecutarse cuando la variable <em>i</em> llegue al valor 10. Uno de los objetivos de Groovy consiste en facilitar al programador la lectura y la comprensión del código, así que los creadores de Groovy pensaron que sería útil introducir el concepto de rango, el cual tendría por definición un límite inferior y uno superior.</p>
</div>
<div class="paragraph">
<p>Para especificar un rango, simplemente se escribe el límite inferior seguido de dos puntos y el límite superior, <em>limiteInferior..limiteSuperior</em>. Este rango indicaría que ambos valores establecidos están dentro del rango, así que si queremos indicarle que el límite superior no está dentro del rango, debemos utilizar el operador ..&lt;, <em>limiteInferior..&lt;limiteSuperior</em>. También existen los <em>rangos inversos</em>, en los que el límite inferior es mayor que el límite superior. Veamos algunos ejemplos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-c1">//Rangos inclusivos</span>
<span class="tok-k">assert</span> <span class="tok-o">(</span><span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">10</span><span class="tok-o">).</span><span class="tok-na">contains</span><span class="tok-o">(</span><span class="tok-mi">5</span><span class="tok-o">)</span>
<span class="tok-k">assert</span> <span class="tok-o">(</span><span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">10</span><span class="tok-o">).</span><span class="tok-na">contains</span><span class="tok-o">(</span><span class="tok-mi">10</span><span class="tok-o">)</span>

<span class="tok-c1">//Rangos medio-exclusivos</span>
<span class="tok-k">assert</span> <span class="tok-o">(</span><span class="tok-mi">0</span><span class="tok-o">..&lt;</span><span class="tok-mi">10</span><span class="tok-o">).</span><span class="tok-na">contains</span><span class="tok-o">(</span><span class="tok-mi">9</span><span class="tok-o">)</span>
<span class="tok-k">assert</span> <span class="tok-o">(</span><span class="tok-mi">0</span><span class="tok-o">..&lt;</span><span class="tok-mi">10</span><span class="tok-o">).</span><span class="tok-na">contains</span><span class="tok-o">(</span><span class="tok-mi">10</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-kc">false</span>

<span class="tok-c1">//Comprobación de tipos</span>
<span class="tok-kt">def</span> <span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">10</span>
<span class="tok-k">assert</span> <span class="tok-n">a</span> <span class="tok-k">instanceof</span> <span class="tok-n">Range</span>

<span class="tok-c1">//Definición explícita</span>
<span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">IntRange</span><span class="tok-o">(</span><span class="tok-mi">0</span><span class="tok-o">,</span><span class="tok-mi">10</span><span class="tok-o">)</span>
<span class="tok-k">assert</span> <span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-na">contains</span><span class="tok-o">(</span><span class="tok-mi">4</span><span class="tok-o">)</span>

<span class="tok-c1">//Rangos para fechas</span>
<span class="tok-kt">def</span> <span class="tok-n">hoy</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Date</span><span class="tok-o">()</span>
<span class="tok-kt">def</span> <span class="tok-n">ayer</span> <span class="tok-o">=</span> <span class="tok-n">hoy</span> <span class="tok-o">-</span> <span class="tok-mi">1</span>
<span class="tok-k">assert</span> <span class="tok-o">(</span><span class="tok-n">ayer</span><span class="tok-o">..</span><span class="tok-na">hoy</span><span class="tok-o">).</span><span class="tok-na">size</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-mi">2</span>

<span class="tok-c1">//Rangos para caracteres</span>
<span class="tok-k">assert</span> <span class="tok-o">(</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">..</span><span class="tok-s1">&#39;f&#39;</span><span class="tok-o">).</span><span class="tok-na">contains</span><span class="tok-o">(</span><span class="tok-s1">&#39;e&#39;</span><span class="tok-o">)</span>

<span class="tok-c1">//El bucle for con rangos</span>
<span class="tok-kt">def</span> <span class="tok-n">salida</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-n">elemento</span> <span class="tok-k">in</span> <span class="tok-mi">1</span><span class="tok-o">..</span><span class="tok-mi">5</span><span class="tok-o">){</span>
    <span class="tok-n">salida</span> <span class="tok-o">+=</span> <span class="tok-n">elemento</span>
<span class="tok-o">}</span>
<span class="tok-k">assert</span> <span class="tok-n">salida</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;12345&#39;</span>

<span class="tok-c1">//El bucle for con rangos inversos</span>
<span class="tok-n">salida</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-n">elemento</span> <span class="tok-k">in</span> <span class="tok-mi">5</span><span class="tok-o">..</span><span class="tok-mi">1</span><span class="tok-o">){</span>
    <span class="tok-n">salida</span> <span class="tok-o">+=</span> <span class="tok-n">elemento</span>
<span class="tok-o">}</span>
<span class="tok-k">assert</span> <span class="tok-n">salida</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;54321&#39;</span>

<span class="tok-c1">//Simulación del bucle for con rangos inversos</span>
<span class="tok-c1">//y el método each con un closure</span>
<span class="tok-n">salida</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-o">(</span><span class="tok-mi">5</span><span class="tok-o">..&lt;</span><span class="tok-mi">1</span><span class="tok-o">).</span><span class="tok-na">each</span> <span class="tok-o">{</span> <span class="tok-n">elemento</span> <span class="tok-o">-&gt;</span>
    <span class="tok-n">salida</span> <span class="tok-o">+=</span> <span class="tok-n">elemento</span>
<span class="tok-o">}</span>
<span class="tok-k">assert</span> <span class="tok-n">salida</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;5432&#39;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Los rangos son objetos y como tales, pueden ser pasados como parámetros a funciones o bien ejecutar sus propios métodos. Un uso interesante de los rangos es el filtrado de datos. También es interesante verlos como clasificador de grupos y su utilidad se puede comprobar en los bloques de código <em>switch</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-c1">//Rangos como clasificador de grupos</span>
<span class="tok-n">edad</span> <span class="tok-o">=</span> <span class="tok-mi">31</span>
<span class="tok-k">switch</span> <span class="tok-o">(</span><span class="tok-n">edad</span><span class="tok-o">){</span>
    <span class="tok-k">case</span> <span class="tok-mi">16</span><span class="tok-o">..</span><span class="tok-mi">20</span><span class="tok-o">:</span> <span class="tok-n">interesAplicado</span> <span class="tok-o">=</span> <span class="tok-mf">0.25</span><span class="tok-o">;</span> <span class="tok-k">break</span>
    <span class="tok-k">case</span> <span class="tok-mi">21</span><span class="tok-o">..</span><span class="tok-mi">50</span><span class="tok-o">:</span> <span class="tok-n">interesAplicado</span> <span class="tok-o">=</span> <span class="tok-mf">0.30</span><span class="tok-o">;</span> <span class="tok-k">break</span>
    <span class="tok-k">case</span> <span class="tok-mi">51</span><span class="tok-o">..</span><span class="tok-mi">65</span><span class="tok-o">:</span> <span class="tok-n">interesAplicado</span> <span class="tok-o">=</span> <span class="tok-mf">0.35</span><span class="tok-o">;</span> <span class="tok-k">break</span>
<span class="tok-o">}</span>
<span class="tok-k">assert</span> <span class="tok-n">interesAplicado</span> <span class="tok-o">==</span> <span class="tok-mf">0.30</span>

<span class="tok-c1">//Rangos para el filtrado de datos</span>
<span class="tok-n">edades</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-mi">16</span><span class="tok-o">,</span><span class="tok-mi">29</span><span class="tok-o">,</span><span class="tok-mi">34</span><span class="tok-o">,</span><span class="tok-mi">42</span><span class="tok-o">,</span><span class="tok-mi">55</span><span class="tok-o">]</span>
<span class="tok-n">joven</span> <span class="tok-o">=</span> <span class="tok-mi">16</span><span class="tok-o">..</span><span class="tok-mi">30</span>
<span class="tok-k">assert</span> <span class="tok-n">edades</span><span class="tok-o">.</span><span class="tok-na">grep</span><span class="tok-o">(</span><span class="tok-n">joven</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-mi">16</span><span class="tok-o">,</span><span class="tok-mi">29</span><span class="tok-o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Como se ha podido comprobar, podemos especificar rangos para fechas e incluso para cadenas. En realidad, cualquier tipo de dato puede ser utilizado en un rango, siempre que se cumplan una serie de condiciones:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>El tipo implemente los métodos <em>next()</em> y <em>previous()</em>, que sobrecargan los operadores <em>++</em> y <em>--</em></p>
</li>
<li>
<p>El tipo implemente <em>java.lang.Comparable</em>, implementando el método <em>compareTo()</em> que sobrecarga el operador <em>&lt;&#8658;</em></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_listas">1.6.2. Listas</h4>
<div class="paragraph">
<p>En Java, agregar un nuevo elemento a un array no es algo trivial. Una solución es convertir el array a una lista del tipo <em>java.util.List</em>, añadir el nuevo elemento y volver a convertir la lista en un array. Otra solución pasa por construir un nuevo array del tamaño del array original más uno, copiar los viejos valores y el nuevo elemento. Eso es la parte negativa de los arrays en Java. La parte positiva es que nos permite trabajar con índices en los arrays para recuperar su información, así como modificar su valor, como por ejemplo, <em>miarray[indice] = nuevoelemento</em>. Groovy se aprovecha de la parte positiva de Java en este sentido, y añade nuevas características para mejorar su parte negativa.</p>
</div>
<div class="paragraph">
<p>La definición de una lista en Groovy se consigue utilizando los corchetes [] y especificando los valores de la lista. Si no especificamos ningún valor entre los corchetes, declararemos una lista vacía. Por defecto, las listas en Groovy son del tipo <em>java.util.ArrayList</em>. Podemos rellenar fácilmente las listas a partir de otras con el método <em>addAll()</em>. También se pueden definir listas a partir de otras con el constructor de la clase <em>LinkedList</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-n">miLista</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-mi">1</span><span class="tok-o">,</span><span class="tok-mi">2</span><span class="tok-o">,</span><span class="tok-mi">3</span><span class="tok-o">]</span>

<span class="tok-k">assert</span> <span class="tok-n">miLista</span><span class="tok-o">.</span><span class="tok-na">size</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-mi">3</span>
<span class="tok-k">assert</span> <span class="tok-n">miLista</span><span class="tok-o">[</span><span class="tok-mi">2</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-mi">3</span>
<span class="tok-k">assert</span> <span class="tok-n">miLista</span> <span class="tok-k">instanceof</span> <span class="tok-n">ArrayList</span>

<span class="tok-n">listaVacia</span> <span class="tok-o">=</span> <span class="tok-o">[]</span>
<span class="tok-k">assert</span> <span class="tok-n">listaVacia</span><span class="tok-o">.</span><span class="tok-na">size</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-mi">0</span>

<span class="tok-n">listaLarga</span> <span class="tok-o">=</span> <span class="tok-o">(</span><span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">1000</span><span class="tok-o">).</span><span class="tok-na">toList</span><span class="tok-o">()</span>
<span class="tok-k">assert</span> <span class="tok-n">listaLarga</span><span class="tok-o">[</span><span class="tok-mi">324</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-mi">324</span>

<span class="tok-n">listaExplicita</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ArrayList</span><span class="tok-o">()</span>
<span class="tok-n">listaExplicita</span><span class="tok-o">.</span><span class="tok-na">addAll</span><span class="tok-o">(</span><span class="tok-n">miLista</span><span class="tok-o">)</span>
<span class="tok-k">assert</span> <span class="tok-n">listaExplicita</span><span class="tok-o">.</span><span class="tok-na">size</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-mi">3</span>
<span class="tok-n">listaExplicita</span><span class="tok-o">[</span><span class="tok-mi">2</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-mi">4</span>
<span class="tok-k">assert</span> <span class="tok-n">listaExplicita</span><span class="tok-o">[</span><span class="tok-mi">2</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-mi">4</span>

<span class="tok-n">listaExplicita</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">LinkedList</span><span class="tok-o">(</span><span class="tok-n">miLista</span><span class="tok-o">)</span>
<span class="tok-k">assert</span> <span class="tok-n">listaExplicita</span><span class="tok-o">.</span><span class="tok-na">size</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-mi">3</span>
<span class="tok-n">listaExplicita</span><span class="tok-o">[</span><span class="tok-mi">2</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-mi">4</span>
<span class="tok-k">assert</span> <span class="tok-n">listaExplicita</span><span class="tok-o">[</span><span class="tok-mi">2</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-mi">4</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En el fragmento de código anterior, hemos visto como se puede especificar un valor a un elemento de la lista. Pero, ¿qué pasa si queremos especificar un mismo valor a toda la lista o un trozo de la misma? Los creadores de Groovy ya han pensado en ese problema y podemos utilizar rangos y colecciones en las listas.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-n">miLista</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;b&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;c&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;d&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;e&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;f&#39;</span><span class="tok-o">]</span>

<span class="tok-k">assert</span> <span class="tok-n">miLista</span><span class="tok-o">[</span><span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">2</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;b&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;c&#39;</span><span class="tok-o">]</span><span class="tok-c1">//Acceso con Rangos</span>
<span class="tok-k">assert</span> <span class="tok-n">miLista</span><span class="tok-o">[</span><span class="tok-mi">0</span><span class="tok-o">,</span><span class="tok-mi">2</span><span class="tok-o">,</span><span class="tok-mi">4</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;c&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;e&#39;</span><span class="tok-o">]</span><span class="tok-c1">//Acceso con colección de índices</span>

<span class="tok-c1">//Modificar elementos</span>
<span class="tok-n">miLista</span><span class="tok-o">[</span><span class="tok-mi">0</span><span class="tok-o">..</span><span class="tok-mi">2</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-s1">&#39;x&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;y&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;z&#39;</span><span class="tok-o">]</span>
<span class="tok-k">assert</span> <span class="tok-n">miLista</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;x&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;y&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;z&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;d&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;e&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;f&#39;</span><span class="tok-o">]</span>

<span class="tok-c1">//Eliminar elementos de la lista</span>
<span class="tok-n">miLista</span><span class="tok-o">[</span><span class="tok-mi">3</span><span class="tok-o">..</span><span class="tok-mi">5</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-o">[]</span>
<span class="tok-k">assert</span> <span class="tok-n">miLista</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;x&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;y&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;z&#39;</span><span class="tok-o">]</span>

<span class="tok-c1">//Añadir elementos a la lista</span>
<span class="tok-n">miLista</span><span class="tok-o">[</span><span class="tok-mi">1</span><span class="tok-o">..</span><span class="tok-mi">1</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-s1">&#39;y&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;1&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;2&#39;</span><span class="tok-o">]</span>
<span class="tok-k">assert</span> <span class="tok-n">miLista</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;x&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;y&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;1&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;2&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;z&#39;</span><span class="tok-o">]</span>

<span class="tok-n">miLista</span> <span class="tok-o">=</span> <span class="tok-o">[]</span>

<span class="tok-c1">//Añado objetos a la lista con el operador +</span>
<span class="tok-n">miLista</span> <span class="tok-o">+=</span> <span class="tok-s1">&#39;a&#39;</span>
<span class="tok-k">assert</span> <span class="tok-n">miLista</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">]</span>

<span class="tok-c1">//Añado colecciones a la lista con el operador +</span>
<span class="tok-n">miLista</span> <span class="tok-o">+=</span> <span class="tok-o">[</span><span class="tok-s1">&#39;b&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;c&#39;</span><span class="tok-o">]</span>
<span class="tok-k">assert</span> <span class="tok-n">miLista</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;b&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;c&#39;</span><span class="tok-o">]</span>

<span class="tok-n">miLista</span> <span class="tok-o">=</span> <span class="tok-o">[]</span>
<span class="tok-n">miLista</span> <span class="tok-o">&lt;&lt;</span> <span class="tok-s1">&#39;a&#39;</span> <span class="tok-o">&lt;&lt;</span> <span class="tok-s1">&#39;b&#39;</span>
<span class="tok-k">assert</span> <span class="tok-n">miLista</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;b&#39;</span><span class="tok-o">]</span>

<span class="tok-k">assert</span> <span class="tok-n">miLista</span> <span class="tok-o">-</span> <span class="tok-o">[</span><span class="tok-s1">&#39;b&#39;</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">]</span>

<span class="tok-k">assert</span> <span class="tok-n">miLista</span> <span class="tok-o">*</span> <span class="tok-mi">2</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;b&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;b&#39;</span><span class="tok-o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En ocasiones las listas son utilizadas juntos a estructuras de control para controlar el flujo de nuestro programa.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-n">miLista</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;b&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;c&#39;</span><span class="tok-o">]</span>

<span class="tok-c1">//Listas como clasificador de grupos</span>
<span class="tok-n">letra</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;a&#39;</span>
<span class="tok-k">switch</span> <span class="tok-o">(</span><span class="tok-n">letra</span><span class="tok-o">){</span>
    <span class="tok-k">case</span> <span class="tok-nl">miLista:</span> <span class="tok-k">assert</span> <span class="tok-kc">true</span><span class="tok-o">;</span> <span class="tok-k">break</span><span class="tok-o">;</span>
    <span class="tok-k">default</span><span class="tok-o">:</span> <span class="tok-k">assert</span> <span class="tok-kc">false</span>
<span class="tok-o">}</span>

<span class="tok-c1">//Listas como filtrado de datos</span>
<span class="tok-k">assert</span> <span class="tok-o">[</span><span class="tok-s1">&#39;x&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;y&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">].</span><span class="tok-na">grep</span><span class="tok-o">(</span><span class="tok-n">miLista</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">]</span>

<span class="tok-c1">//Bucle for con lista</span>
<span class="tok-n">salida</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-n">i</span> <span class="tok-k">in</span> <span class="tok-n">miLista</span><span class="tok-o">){</span>
    <span class="tok-n">salida</span> <span class="tok-o">+=</span> <span class="tok-n">i</span>
<span class="tok-o">}</span>
<span class="tok-k">assert</span> <span class="tok-n">salida</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;abc&#39;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Las listas tienen una larga lista de métodos disponibles en el API de Java en la interfaz <em>java.util.List</em> para por ejemplo ordenar, unir e intersectar listas.</p>
</div>
</div>
<div class="sect3">
<h4 id="_mapas">1.6.3. Mapas</h4>
<div class="paragraph">
<p>Un mapa es prácticamente igual que una lista, con la salvedad de que los elementos están referenciados a partir de una clave única (sin caracteres extraños ni palabras reservadas por Groovy), <em>miMapa['clave'] = valor</em>. Podemos especificar un mapa al igual que lo hacíamos con las listas utilizando los corchetes, pero ahora debemos añadir la clave a cada valor introducido, como por ejemplo <em>miMapa = [a:1, b:2, c:3]</em>. Los mapas creados implícitamente son del tipo <em>java.util.HashMap</em>. Veámoslo con ejemplos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kt">def</span> <span class="tok-n">miMapa</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-nl">a:</span><span class="tok-mi">1</span><span class="tok-o">,</span> <span class="tok-nl">b:</span><span class="tok-mi">2</span><span class="tok-o">,</span> <span class="tok-nl">c:</span><span class="tok-mi">3</span><span class="tok-o">]</span>

<span class="tok-k">assert</span> <span class="tok-n">miMapa</span> <span class="tok-k">instanceof</span> <span class="tok-n">HashMap</span>
<span class="tok-k">assert</span> <span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">size</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-mi">3</span>
<span class="tok-k">assert</span> <span class="tok-n">miMapa</span><span class="tok-o">[</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-mi">1</span>

<span class="tok-c1">//Definimos un mapa vacio</span>
<span class="tok-kt">def</span> <span class="tok-n">mapaVacio</span> <span class="tok-o">=</span> <span class="tok-o">[:]</span>
<span class="tok-k">assert</span> <span class="tok-n">mapaVacio</span><span class="tok-o">.</span><span class="tok-na">size</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-mi">0</span>

<span class="tok-c1">//Definimos un mapa de la clase TreeMap</span>
<span class="tok-kt">def</span> <span class="tok-n">mapaExplicito</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">TreeMap</span><span class="tok-o">()</span>
<span class="tok-n">mapaExplicito</span><span class="tok-o">.</span><span class="tok-na">putAll</span><span class="tok-o">(</span><span class="tok-n">miMapa</span><span class="tok-o">)</span>
<span class="tok-k">assert</span> <span class="tok-n">mapaExplicito</span><span class="tok-o">[</span><span class="tok-s1">&#39;c&#39;</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-mi">3</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Las operaciones más comunes con los mapas se refieren a la recuperación y almacenamiento de datos a partir de la clave. Veamos algunos métodos de acceso y modificación de los elementos de un mapa:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kt">def</span> <span class="tok-n">miMapa</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-nl">a:</span><span class="tok-mi">1</span><span class="tok-o">,</span> <span class="tok-nl">b:</span><span class="tok-mi">2</span><span class="tok-o">,</span> <span class="tok-nl">c:</span><span class="tok-mi">3</span><span class="tok-o">]</span>

<span class="tok-c1">//Varias formas de obtener los valores de un mapa</span>
<span class="tok-k">assert</span> <span class="tok-n">miMapa</span><span class="tok-o">[</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-mi">1</span>
<span class="tok-k">assert</span> <span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">a</span> <span class="tok-o">==</span> <span class="tok-mi">1</span>
<span class="tok-k">assert</span> <span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">get</span><span class="tok-o">(</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-mi">1</span>
<span class="tok-c1">//Si no existe la clave, devuelve un valor por defecto, en este caso 0</span>
<span class="tok-k">assert</span> <span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">get</span><span class="tok-o">(</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">,</span><span class="tok-mi">0</span><span class="tok-o">)</span> <span class="tok-o">==</span> <span class="tok-mi">1</span>

<span class="tok-c1">//Asignación de valores</span>
<span class="tok-n">miMapa</span><span class="tok-o">[</span><span class="tok-s1">&#39;d&#39;</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-mi">4</span>
<span class="tok-k">assert</span> <span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">d</span> <span class="tok-o">==</span> <span class="tok-mi">4</span>
<span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">e</span> <span class="tok-o">=</span> <span class="tok-mi">5</span>
<span class="tok-k">assert</span> <span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">e</span> <span class="tok-o">==</span> <span class="tok-mi">5</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Los mapas en Groovy utilizan los mismos métodos que los mapas en Java y éstos están en el API de Java referente a <em>java.util.Map</em>, pero además, Groovy añade un par de métodos llamados <em>any()</em> y <em>every()</em>, los cuales, utilizados como closures, permite evaluar si todos (every) o al menos uno (any) de los elementos del mapa cumplen una determinada condición. Además, en el siguiente fragmento de código, vamos a ver como iterar sobre los mapas.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kt">def</span> <span class="tok-n">miMapa</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-nl">a:</span><span class="tok-mi">1</span><span class="tok-o">,</span> <span class="tok-nl">b:</span><span class="tok-mi">2</span><span class="tok-o">,</span> <span class="tok-nl">c:</span><span class="tok-mi">3</span><span class="tok-o">]</span>

<span class="tok-kt">def</span> <span class="tok-n">resultado</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">each</span> <span class="tok-o">{</span> <span class="tok-n">item</span> <span class="tok-o">-&gt;</span>
    <span class="tok-n">resultado</span> <span class="tok-o">+=</span> <span class="tok-n">item</span><span class="tok-o">.</span><span class="tok-na">key</span> <span class="tok-o">+</span> <span class="tok-s1">&#39;:&#39;</span>
    <span class="tok-n">resultado</span> <span class="tok-o">+=</span> <span class="tok-n">item</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">+</span> <span class="tok-s1">&#39;, &#39;</span>
<span class="tok-o">}</span>
<span class="tok-k">assert</span> <span class="tok-n">resultado</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;a:1, b:2, c:3, &#39;</span>

<span class="tok-n">resultado</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">each</span> <span class="tok-o">{</span> <span class="tok-n">key</span><span class="tok-o">,</span> <span class="tok-n">value</span> <span class="tok-o">-&gt;</span>
    <span class="tok-n">resultado</span> <span class="tok-o">+=</span> <span class="tok-n">key</span> <span class="tok-o">+</span> <span class="tok-s1">&#39;:&#39;</span>
    <span class="tok-n">resultado</span> <span class="tok-o">+=</span> <span class="tok-n">value</span> <span class="tok-o">+</span> <span class="tok-s1">&#39;, &#39;</span>
<span class="tok-o">}</span>
<span class="tok-k">assert</span> <span class="tok-n">resultado</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;a:1, b:2, c:3, &#39;</span>

<span class="tok-n">resultado</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-n">key</span> <span class="tok-k">in</span> <span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">keySet</span><span class="tok-o">()){</span>
    <span class="tok-n">resultado</span> <span class="tok-o">+=</span> <span class="tok-n">key</span> <span class="tok-o">+</span> <span class="tok-s1">&#39;:&#39;</span>
    <span class="tok-n">resultado</span> <span class="tok-o">+=</span> <span class="tok-n">miMapa</span><span class="tok-o">[</span><span class="tok-n">key</span><span class="tok-o">]</span> <span class="tok-o">+</span> <span class="tok-s1">&#39;, &#39;</span>
<span class="tok-o">}</span>
<span class="tok-k">assert</span> <span class="tok-n">resultado</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;a:1, b:2, c:3, &#39;</span>

<span class="tok-n">resultado</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;&#39;</span>
<span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-n">value</span> <span class="tok-k">in</span> <span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">values</span><span class="tok-o">()){</span>
    <span class="tok-n">resultado</span> <span class="tok-o">+=</span> <span class="tok-n">value</span> <span class="tok-o">+</span> <span class="tok-s1">&#39; &#39;</span>
<span class="tok-o">}</span>
<span class="tok-k">assert</span> <span class="tok-n">resultado</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;1 2 3 &#39;</span>

<span class="tok-kt">def</span> <span class="tok-n">valor1</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-mi">1</span><span class="tok-o">,</span> <span class="tok-mi">2</span><span class="tok-o">,</span> <span class="tok-mi">3</span><span class="tok-o">].</span><span class="tok-na">every</span> <span class="tok-o">{</span> <span class="tok-n">it</span> <span class="tok-o">&lt;</span> <span class="tok-mi">5</span> <span class="tok-o">}</span>
<span class="tok-k">assert</span> <span class="tok-n">valor1</span>

<span class="tok-kt">def</span> <span class="tok-n">valor2</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-mi">1</span><span class="tok-o">,</span> <span class="tok-mi">2</span><span class="tok-o">,</span> <span class="tok-mi">3</span><span class="tok-o">].</span><span class="tok-na">any</span> <span class="tok-o">{</span> <span class="tok-n">it</span> <span class="tok-o">&gt;</span> <span class="tok-mi">2</span> <span class="tok-o">}</span>
<span class="tok-k">assert</span> <span class="tok-n">valor2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Y para terminar con los mapas, vamos a ver otros métodos añadidos por Groovy para el manejo de los mapas, que nos permitirán:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Crear un submapa de un mapa dado a partir de algunas claves: <em>subMap()</em></p>
</li>
<li>
<p>Encontrar todos los elementos de un mapa que cumplen una determinada condición: <em>findAll()</em></p>
</li>
<li>
<p>Encontrar un elemento de un mapa que cumpla una determinada condición: <em>find()</em></p>
</li>
<li>
<p>Realizar operaciones sobre los elementos de un mapa: <em>collect()</em></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-kt">def</span> <span class="tok-n">miMapa</span> <span class="tok-o">=</span> <span class="tok-o">[</span><span class="tok-nl">a:</span><span class="tok-mi">1</span><span class="tok-o">,</span> <span class="tok-nl">b:</span><span class="tok-mi">2</span><span class="tok-o">,</span> <span class="tok-nl">c:</span><span class="tok-mi">3</span><span class="tok-o">]</span>
<span class="tok-kt">def</span> <span class="tok-n">miSubmapa</span> <span class="tok-o">=</span> <span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">subMap</span><span class="tok-o">([</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;b&#39;</span><span class="tok-o">])</span>
<span class="tok-k">assert</span> <span class="tok-n">miSubmapa</span><span class="tok-o">.</span><span class="tok-na">size</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-mi">2</span>

<span class="tok-kt">def</span> <span class="tok-n">miOtromapa</span> <span class="tok-o">=</span> <span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">findAll</span> <span class="tok-o">{</span> <span class="tok-n">entry</span> <span class="tok-o">-&gt;</span> <span class="tok-n">entry</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">&gt;</span> <span class="tok-mi">1</span> <span class="tok-o">}</span>
<span class="tok-k">assert</span> <span class="tok-n">miOtromapa</span><span class="tok-o">.</span><span class="tok-na">size</span><span class="tok-o">()</span> <span class="tok-o">==</span> <span class="tok-mi">2</span>
<span class="tok-k">assert</span> <span class="tok-n">miOtromapa</span><span class="tok-o">.</span><span class="tok-na">c</span> <span class="tok-o">==</span> <span class="tok-mi">3</span>

<span class="tok-kt">def</span> <span class="tok-n">encontrado</span> <span class="tok-o">=</span> <span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">find</span> <span class="tok-o">{</span> <span class="tok-n">entry</span> <span class="tok-o">-&gt;</span> <span class="tok-n">entry</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">&lt;</span> <span class="tok-mi">3</span><span class="tok-o">}</span>
<span class="tok-k">assert</span> <span class="tok-n">encontrado</span><span class="tok-o">.</span><span class="tok-na">key</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;a&#39;</span>
<span class="tok-k">assert</span> <span class="tok-n">encontrado</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">==</span> <span class="tok-mi">1</span>

<span class="tok-kt">def</span> <span class="tok-n">miMapaDoble</span> <span class="tok-o">=</span> <span class="tok-n">miMapa</span><span class="tok-o">.</span><span class="tok-na">collect</span> <span class="tok-o">{</span> <span class="tok-n">entry</span> <span class="tok-o">-&gt;</span> <span class="tok-n">entry</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">*=</span> <span class="tok-mi">2</span><span class="tok-o">}</span>
<span class="tok-c1">//Todos los elementos son pares</span>
<span class="tok-k">assert</span> <span class="tok-n">miMapaDoble</span><span class="tok-o">.</span><span class="tok-na">every</span> <span class="tok-o">{</span> <span class="tok-n">item</span> <span class="tok-o">-&gt;</span> <span class="tok-n">item</span> <span class="tok-o">%</span> <span class="tok-mi">2</span> <span class="tok-o">==</span> <span class="tok-mi">0</span> <span class="tok-o">}</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_ejercicios">1.7. Ejercicios</h3>
<div class="sect3">
<h4 id="_de_java_a_groovy_0_25_puntos">1.7.1. De Java a Groovy (0.25 puntos)</h4>
<div class="paragraph">
<p>Modificar la siguiente clase en Java para convertirla en una clase en Groovy y que quede lo más simplificada posible con la misma funcionalidad.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span class="tok-kn">import</span> <span class="tok-nn">java.util.List</span><span class="tok-o">;</span>
<span class="tok-kn">import</span> <span class="tok-nn">java.util.ArrayList</span><span class="tok-o">;</span>
<span class="tok-kn">import</span> <span class="tok-nn">java.util.Iterator</span><span class="tok-o">;</span>

<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Todo</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-n">String</span> <span class="tok-n">titulo</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-n">String</span> <span class="tok-n">descripcion</span><span class="tok-o">;</span>

    <span class="tok-kd">public</span> <span class="tok-nf">Todo</span><span class="tok-o">()</span> <span class="tok-o">{}</span>

    <span class="tok-kd">public</span> <span class="tok-nf">Todo</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">tit</span><span class="tok-o">,</span> <span class="tok-n">String</span> <span class="tok-n">des</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">titulo</span> <span class="tok-o">=</span> <span class="tok-n">tit</span><span class="tok-o">;</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">descripcion</span> <span class="tok-o">=</span> <span class="tok-n">des</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">getTitulo</span><span class="tok-o">(){</span>
        <span class="tok-k">return</span> <span class="tok-n">titulo</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">setTitulo</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">tit</span><span class="tok-o">){</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">titulo</span> <span class="tok-o">=</span> <span class="tok-n">tit</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-nf">getDescripcion</span><span class="tok-o">(){</span>
        <span class="tok-k">return</span> <span class="tok-n">descripcion</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">setDescripcion</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">des</span><span class="tok-o">){</span>
        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">descripcion</span> <span class="tok-o">=</span> <span class="tok-n">des</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>

    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span> <span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">){</span>
        <span class="tok-n">List</span> <span class="tok-n">todos</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nf">ArrayList</span><span class="tok-o">();</span>
        <span class="tok-n">todos</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-nf">Todo</span><span class="tok-o">(</span><span class="tok-s">&quot;Lavadora&quot;</span><span class="tok-o">,</span><span class="tok-s">&quot;Poner lavadora&quot;</span><span class="tok-o">));</span>
        <span class="tok-n">todos</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-nf">Todo</span><span class="tok-o">(</span><span class="tok-s">&quot;Impresora&quot;</span><span class="tok-o">,</span><span class="tok-s">&quot;Comprar cartuchos impresora&quot;</span><span class="tok-o">));</span>
        <span class="tok-n">todos</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-k">new</span> <span class="tok-nf">Todo</span><span class="tok-o">(</span><span class="tok-s">&quot;Películas&quot;</span><span class="tok-o">,</span><span class="tok-s">&quot;Devolver películas videoclub&quot;</span><span class="tok-o">));</span>

        <span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-n">Iterator</span> <span class="tok-n">iter</span> <span class="tok-o">=</span> <span class="tok-n">todos</span><span class="tok-o">.</span><span class="tok-na">iterator</span><span class="tok-o">();</span><span class="tok-n">iter</span><span class="tok-o">.</span><span class="tok-na">hasNext</span><span class="tok-o">();)</span> <span class="tok-o">{</span>
            <span class="tok-n">Todo</span> <span class="tok-n">todo</span> <span class="tok-o">=</span> <span class="tok-o">(</span><span class="tok-n">Todo</span><span class="tok-o">)</span><span class="tok-n">iter</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">();</span>
            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">todo</span><span class="tok-o">.</span><span class="tok-na">getTitulo</span><span class="tok-o">()+</span><span class="tok-s">&quot; &quot;</span><span class="tok-o">+</span><span class="tok-n">todo</span><span class="tok-o">.</span><span class="tok-na">getDescripcion</span><span class="tok-o">());</span>
        <span class="tok-o">}</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_groovybeans_0_50_puntos">1.7.2. GroovyBeans (0.50 puntos)</h4>
<div class="paragraph">
<p>Crear la clase <em>Libro</em> con las propiedades mínimas necesarias que lo describan. La información a almacenar de estos libros será el <em>nombre</em> del libro, el <em>año de edición</em> y el <em>autor</em> del mismo.</p>
</div>
<div class="paragraph">
<p>Simplemente crearemos un constructor de la clase <em>Libro</em> que permita especificar las tres propiedades de la clase (nombre, año de edición y autor). Para comprobar que nuestra clase funciona correctamente, insertaremos los siguientes ejemplos de libros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Nombre: La colmena, año de edición: 1951, autor: Cela Trulock, Camilo José</p>
</li>
<li>
<p>Nombre: La galatea, año de edición: 1585, autor: de Cervantes Saavedra, Miguel</p>
</li>
<li>
<p>Nombre: La dorotea, año de edición: 1632, autor: Lope de Vega y Carpio, Félix Arturo</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Posteriormente comprueba que se han insertado correctamente cada uno de los libros indicados anteriormente mediante el uso de sentencias <em>asserts</em> y las funciones tipo <em>getter()</em> generadas automáticamente en Groovy</p>
</div>
<div class="paragraph">
<p>A continuación añade una nueva propiedad a la clase <em>Libro</em> para almacenar la editorial de los libros. Sin modificar la inserción de libros realizada anteriormente, inserta la editorial de cada uno de los libros utilizando los <em>setters()</em> definidos automáticamente por Groovy. Comprueba que los cambios se han efectuado correctamente nuevamente mediante la utilización de <em>asserts</em>.</p>
</div>
<div class="paragraph">
<p>Por último, modifica el comportamiento del &lt;em&gt;getter()&lt;/em&gt; correspondiente a la propiedad <em>autor</em> para que modifique su comportamiento por defecto y devuelva en su lugar el autor del libro con el formato nombre y apellidos.</p>
</div>
<div class="paragraph">
<p>Como siempre, comprueba que el nuevo método funciona correctamente mediante la utilización de &lt;em&gt;assert&lt;/em&gt;.</p>
</div>
</div>
<div class="sect3">
<h4 id="_expresiones_regulares_0_5_puntos">1.7.3. Expresiones regulares (0.5 puntos)</h4>
<div class="paragraph">
<p>Crea un script en Groovy que permite agrupar las palabras que aparecen en un párrafo en función del número de letras que contengan. Almacenaremos este catálogo de palabras en un mapa cuya clave será el tamaño y el valor será una lista con todas las palabras de ese mismo tamaño.</p>
</div>
<div class="paragraph">
<p>El párrafo a analizar será el inicio de <em>El Ingenioso Hidalgo Don Quijote de la Mancha</em>:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>En un lugar de la Mancha, de cuyo nombre no quiero acordarme, no ha mucho tiempo que vivía un hidalgo de los de lanza en astillero, adarga antigua, rocín flaco y galgo corredor. Una olla de algo más vaca que carnero, salpicón las más noches, duelos y quebrantos los sábados, lentejas los viernes, algún palomino de añadidura los domingos, consumían las tres partes de su hacienda. El resto della concluían sayo de velarte, calzas de velludo para las fiestas con sus pantuflos de lo mismo, los días de entre semana se honraba con su vellori de lo más fino. Tenía en su casa una ama que pasaba de los cuarenta, y una sobrina que no llegaba a los veinte, y un mozo de campo y plaza, que así ensillaba el rocín como tomaba la podadera. Frisaba la edad de nuestro hidalgo con los cincuenta años, era de complexión recia, seco de carnes, enjuto de rostro; gran madrugador y amigo de la caza. Quieren decir que tenía el sobrenombre de Quijada o Quesada (que en esto hay alguna diferencia en los autores que deste caso escriben), aunque por conjeturas verosímiles se deja entender que se llama Quijana; pero esto importa poco a nuestro cuento; basta que en la narración dél no se salga un punto de la verdad.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Para comprobar si tu script funciona correctamente, puedes añadir estas líneas:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="groovy"><span class="tok-k">assert</span> <span class="tok-n">palabras</span><span class="tok-o">[</span><span class="tok-mi">1</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;y&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;o&#39;</span><span class="tok-o">]</span>
<span class="tok-k">assert</span> <span class="tok-n">palabras</span><span class="tok-o">[</span><span class="tok-mi">2</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;en&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;un&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;de&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;la&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;no&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;ha&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;su&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;el&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;lo&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;se&#39;</span><span class="tok-o">]</span>
<span class="tok-k">assert</span> <span class="tok-n">palabras</span><span class="tok-o">[</span><span class="tok-mi">3</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;que&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;los&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;una&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;más&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;las&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;con&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;sus&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;ama&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;así&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;era&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;hay&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;por&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;dél&#39;</span><span class="tok-o">]</span>
<span class="tok-k">assert</span> <span class="tok-n">palabras</span><span class="tok-o">[</span><span class="tok-mi">4</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;cuyo&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;olla&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;algo&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;vaca&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;tres&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;sayo&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;para&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;días&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;fino&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;casa&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;mozo&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;como&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;edad&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;años&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;seco&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;gran&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;caza&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;esto&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;caso&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;deja&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;pero&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;poco&#39;</span><span class="tok-o">]</span>
<span class="tok-k">assert</span> <span class="tok-n">palabras</span><span class="tok-o">[</span><span class="tok-mi">5</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;lugar&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;mucho&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;vivía&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;lanza&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;rocín&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;flaco&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;galgo&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;algún&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;resto&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;della&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;mismo&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;entre&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;tenía&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;campo&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;plaza&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;recia&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;amigo&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;decir&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;deste&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;llama&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;basta&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;salga&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;punto&#39;</span><span class="tok-o">]</span>
<span class="tok-k">assert</span> <span class="tok-n">palabras</span><span class="tok-o">[</span><span class="tok-mi">6</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;mancha&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;nombre&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;quiero&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;tiempo&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;adarga&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;noches&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;duelos&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;partes&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;calzas&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;semana&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;pasaba&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;veinte&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;tomaba&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;carnes&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;enjuto&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;rostro&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;alguna&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;aunque&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;cuento&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;verdad&#39;</span><span class="tok-o">]</span>
<span class="tok-k">assert</span> <span class="tok-n">palabras</span><span class="tok-o">[</span><span class="tok-mi">7</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;hidalgo&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;antigua&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;carnero&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;sábados&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;viernes&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;velarte&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;velludo&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;fiestas&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;honraba&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;vellori&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;sobrina&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;llegaba&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;frisaba&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;nuestro&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;quieren&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;quijada&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;quesada&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;autores&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;quijana&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;importa&#39;</span><span class="tok-o">]</span>
<span class="tok-k">assert</span> <span class="tok-n">palabras</span><span class="tok-o">[</span><span class="tok-mi">8</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;corredor&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;salpicón&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;lentejas&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;palomino&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;domingos&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;hacienda&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;cuarenta&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;podadera&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;escriben&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;entender&#39;</span><span class="tok-o">]</span>
<span class="tok-k">assert</span> <span class="tok-n">palabras</span><span class="tok-o">[</span><span class="tok-mi">9</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;acordarme&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;astillero&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;añadidura&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;consumían&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;concluían&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;pantuflos&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;ensillaba&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;cincuenta&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;narración&#39;</span><span class="tok-o">]</span>
<span class="tok-k">assert</span> <span class="tok-n">palabras</span><span class="tok-o">[</span><span class="tok-mi">10</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;quebrantos&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;complexión&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;madrugador&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;diferencia&#39;</span><span class="tok-o">,</span><span class="tok-s1">&#39;conjeturas&#39;</span><span class="tok-o">]</span>
<span class="tok-k">assert</span> <span class="tok-n">palabras</span><span class="tok-o">[</span><span class="tok-mi">11</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-o">[</span><span class="tok-s1">&#39;sobrenombre&#39;</span><span class="tok-o">,</span> <span class="tok-s1">&#39;verosímiles&#39;</span><span class="tok-o">]</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-10-05 20:14:58 CEST
</div>
</div>
</body>
</html>