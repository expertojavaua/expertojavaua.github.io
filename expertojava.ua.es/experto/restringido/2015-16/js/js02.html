<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<meta name="author" content="Aitor Medrano">
<title>JavaScript</title>
<style>/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 97%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: #6f6f6f; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #1164be; text-decoration: none; line-height: inherit; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.4; margin-bottom: 1em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: bold; font-style: normal; color: #1c355e; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #6f6f6f; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: bold; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.4; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 2.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }

blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

/*@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }*/
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; border-bottom: 1px solid #dddddd }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 3px 2px 1px 2px; background-color: #eeeeee; border: 1px solid #dddddd; -webkit-border-radius: 0; border-radius: 0; line-height: inherit; font-weight: normal; }

pre, pre > code { line-height: 1.4; color: black; font-family: monospace, serif; font-weight: normal; }

.keyseq { color: #555555; }

kbd { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: #090909; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: black; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #dddddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #dddddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #dddddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #555555; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #6f6f6f; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #6f6f6f; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: black; border-bottom: 1px solid #dddddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#floating {
  position: fixed;
  z-index: 1000;
  padding: 0.5em;
  right: 0;
  top: 0;
  background: white;
  box-shadow: 0 0 1em #777777;
  -webkit-box-shadow: 0 0 1em #777777;
  -moz-box-shadow: 0 0 1em #777777;
  -webkit-border-bottom-left-radius: 5px;
  -moz-border-radius-bottomleft: 5px;
  max-height: 80%;
  overflow: auto;
}

#floating #full { display: none; } /* Hide the full TOC by default */

#floating:hover #full{
  display: block; /* Show it on hover */
}


#toc { border-bottom: 1px solid #dddddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; list-style-type: none; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #6f6f6f; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f2f2f2; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }

#footer-text { color: #dddddd; line-height: 1.44; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { .sect1 { padding-bottom: 1.25em; } }
.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #222222; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #151515; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: black; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #555555; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #6f6f6f; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eeeeee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px solid #cccccc; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; padding: 0.8em 0.8em 0.65em 0.8em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #eeeeee; background-color: black; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 0.8em 0.8em 0.65em 0.8em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #6f6f6f; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #6f6f6f; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #555555; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #6f6f6f; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.05em; color: #555555; }

.quoteblock.abstract { margin: 0 0 1.25em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.spread { width: 100%; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dddddd; }

table.grid-all th.tableblock, table.grid-all td.tableblock { border-width: 0 1px 1px 0; }

table.grid-all tfoot > tr > th.tableblock, table.grid-all tfoot > tr > td.tableblock { border-width: 1px 1px 0 0; }

table.grid-cols th.tableblock, table.grid-cols td.tableblock { border-width: 0 1px 0 0; }

table.grid-all * > tr > .tableblock:last-child, table.grid-cols * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-rows th.tableblock, table.grid-rows td.tableblock { border-width: 0 0 1px 0; }

table.grid-all tbody > tr:last-child > th.tableblock, table.grid-all tbody > tr:last-child > td.tableblock, table.grid-all thead:last-child > tr > th.tableblock, table.grid-rows tbody > tr:last-child > th.tableblock, table.grid-rows tbody > tr:last-child > td.tableblock, table.grid-rows thead:last-child > tr > th.tableblock { border-bottom-width: 0; }

table.grid-rows tfoot > tr > th.tableblock, table.grid-rows tfoot > tr > td.tableblock { border-width: 1px 0 0 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: whitesmoke; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 2.5em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-check-square-o:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .75em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 0.75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
span.footnote a:active, span.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #207c98; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

.literalblock pre, .listingblock pre { background: #eeeeee; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
<style>.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments  { background: #f8f8f8; }
.listingblock .pygments .tok-c { color: #408080; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
.listingblock .pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #B00040 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #666666 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #BA2121 } /* Literal.String */
.listingblock .pygments .tok-na { color: #7D9029 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #008000 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #880000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #0000FF } /* Name.Function */
.listingblock .pygments .tok-nl { color: #A0A000 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #19177C } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
.listingblock .pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #008000 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
.listingblock .pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>JavaScript</h1>
<div class="details">
<span id="author" class="author">Aitor Medrano</span><br>
<span id="email" class="email">&lt;<a href="mailto:aitor.medrano@ua.es">aitor.medrano@ua.es</a>&gt;</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Índice de contenidos</div>
<ul class="sectlevel1">
<li><a href="#sesion02">2. JavaScript orientado a objetos</a>
<ul class="sectlevel2">
<li><a href="#_trabajando_con_objetos">2.1. Trabajando con objetos</a>
<ul class="sectlevel3">
<li><a href="#_propiedades">2.1.1. Propiedades</a></li>
<li><a href="#_m%C3%A9todos">2.1.2. Métodos</a></li>
</ul>
</li>
<li><a href="#_objetos_literales">2.2. Objetos literales</a>
<ul class="sectlevel3">
<li><a href="#_objetos_anidados">2.2.1. Objetos anidados</a></li>
</ul>
</li>
<li><a href="#_creando_un_tipo_de_datos">2.3. Creando un tipo de datos</a>
<ul class="sectlevel3">
<li><a href="#_funci%C3%B3n_factor%C3%ADa">2.3.1. Función factoría</a></li>
<li><a href="#_funci%C3%B3n_constructor">2.3.2. Función constructor</a></li>
</ul>
</li>
<li><a href="#_invocaci%C3%B3n_indirecta">2.4. Invocación indirecta</a></li>
<li><a href="#_descriptores_de_propiedades">2.5. Descriptores de propiedades</a>
<ul class="sectlevel3">
<li><a href="#_definiendo_propiedades">2.5.1. Definiendo propiedades</a></li>
<li><a href="#__em_get_em_y_em_set_em">2.5.2. <em>Get</em> y <em>Set</em></a></li>
<li><a href="#_iterando_sobre_las_propiedades">2.5.3. Iterando sobre las propiedades</a></li>
<li><a href="#_modificando_una_propiedad">2.5.4. Modificando una propiedad</a></li>
</ul>
</li>
<li><a href="#_prototipos">2.6. Prototipos</a>
<ul class="sectlevel3">
<li><a href="#_constructores_y_code_prototype_code">2.6.1. Constructores y <code>prototype</code></a></li>
<li><a href="#__code_prototype_code_y_code_proto_code">2.6.2. <code>prototype</code> y <code>__proto__</code></a></li>
</ul>
</li>
<li><a href="#_herencia">2.7. Herencia</a>
<ul class="sectlevel3">
<li><a href="#_herencia_de_constructor">2.7.1. Herencia de constructor</a></li>
<li><a href="#_herencia_de_prototipo">2.7.2. Herencia de prototipo</a></li>
</ul>
</li>
<li><a href="#__code_this_code_y_el_patr%C3%B3n_invocaci%C3%B3n">2.8. <code>this</code> y el patrón invocación</a>
<ul class="sectlevel3">
<li><a href="#_invocaci%C3%B3n_como_m%C3%A9todo">2.8.1. Invocación como método</a></li>
<li><a href="#_invocaci%C3%B3n_como_funci%C3%B3n">2.8.2. Invocación como Función</a></li>
<li><a href="#_invocaci%C3%B3n_como_constructor">2.8.3. Invocación como constructor</a></li>
<li><a href="#invocacion-apply">2.8.4. Invocación con <code>apply</code></a></li>
</ul>
</li>
<li><a href="#_arrays">2.9. Arrays</a>
<ul class="sectlevel3">
<li><a href="#_manipulaci%C3%B3n">2.9.1. Manipulación</a></li>
<li><a href="#_iteraci%C3%B3n">2.9.2. Iteración</a></li>
</ul>
</li>
<li><a href="#_destructurar">2.10. Destructurar</a></li>
<li><a href="#_ejercicios">2.11. Ejercicios</a>
<ul class="sectlevel3">
<li><a href="#__0_4_ptos_ejercicio_21_objeto_usuario">2.11.1. (0.4 ptos) Ejercicio 21. Objeto Usuario</a></li>
<li><a href="#__0_4_ptos_ejercicio_22_herencia">2.11.2. (0.4 ptos) Ejercicio 22. Herencia</a></li>
<li><a href="#__0_3_ptos_ejercicio_23_code_string_repetir_code">2.11.3. (0.3 ptos) Ejercicio 23. <code>String.repetir()</code></a></li>
<li><a href="#__0_4_ptos_ejercicio_24_arrays">2.11.4. (0.4 ptos) Ejercicio 24. Arrays</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="sesion02">2. JavaScript orientado a objetos</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_trabajando_con_objetos">2.1. Trabajando con objetos</h3>
<div class="paragraph">
<p>Todo en <em>JavaScript</em> es un objeto. El ejemplo más básico de un objeto en <em>JavaScript</em> es una cadena.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">cadena</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Yo soy tu padre&quot;</span><span class="tok-p">,</span>
  <span class="tok-kr">long</span> <span class="tok-o">=</span> <span class="tok-nx">cadena</span><span class="tok-p">.</span><span class="tok-nx">length</span><span class="tok-p">;</span>

<span class="tok-kd">var</span> <span class="tok-nx">minus</span> <span class="tok-o">=</span> <span class="tok-nx">cadena</span><span class="tok-p">.</span><span class="tok-nx">toUpperCase</span><span class="tok-p">();</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">minus</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">cadena</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Podemos observar como la cadena tiene atributos (<code>length</code>) y métodos (<code>toUpperCase()</code>).</p>
</div>
<div class="paragraph">
<p>Los tipos de datos primitivos son tipos de datos <code>Number</code>, <code>String</code> o <code>Boolean</code>. Realmente no son objetos, y aunque tengan métodos y propiedades, son <strong>inmutables</strong>.</p>
</div>
<div class="paragraph">
<p>En cambio, los objetos en <em>JavaScript</em> son colecciones de claves mutables. En <em>JavaScript</em>, los arrays son objetos, las funciones son objetos (<code>Function</code>), las fechas son objetos (<code>Date</code>), las expresiones regulares son objetos (<code>RegExp</code>) y los objetos, objetos son (<code>Object</code>).</p>
</div>
<div class="paragraph">
<p>Para crear un objeto, podemos usar el tipo de datos <code>Object</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">obj</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nb">Object</span><span class="tok-p">();</span>
<span class="tok-kd">var</span> <span class="tok-nx">str</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nb">String</span><span class="tok-p">();</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_propiedades">2.1.1. Propiedades</h4>
<div class="paragraph">
<p>Un objeto es un contenedor de propiedades (cada propiedad tiene un nombre y un valor), y por tanto, son útiles para coleccionar y organizar datos. Los objetos pueden contener otros objetos, lo que permite estructuras de grafo o árbol.</p>
</div>
<div class="paragraph">
<p>Para añadir propiedades a un objeto no tenemos más que asignarle un valor utilizando el operador <code>.</code> para indicar que la propiedad forma parte del objeto.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">persona</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nb">Object</span><span class="tok-p">();</span>
<span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Aitor&quot;</span><span class="tok-p">;</span>
<span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Medrano&quot;</span><span class="tok-p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Para averiguar si un objeto contiene un campo, podemos usar el operador <code>in</code>. Finalmente, si queremos eliminar una propiedad de un objeto, hemos de utilizar el operador <code>delete</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s1">&#39;nombre&#39;</span> <span class="tok-k">in</span> <span class="tok-nx">persona</span><span class="tok-p">);</span> <span class="tok-c1">// true</span>
<span class="tok-k">delete</span> <span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">nombre</span><span class="tok-p">;</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s1">&#39;nombre&#39;</span> <span class="tok-k">in</span> <span class="tok-nx">persona</span><span class="tok-p">);</span> <span class="tok-c1">// false</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_métodos">2.1.2. Métodos</h4>
<div class="paragraph">
<p>Para crear un método, podemos asignar una función anónima a una propiedad, y al formar parte del objeto, la variable <strong><code>this</code> referencia al objeto</strong> en cuestión (y no a la variable global como sucede con las funciones declaración/expresión).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Y para invocar la función invocaremos el método de manera similar a <em>Java</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span> <span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span><span class="tok-p">()</span> <span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Realmente el código no se escribe así, es decir, no se crea un <code>Object</code> y posteriormente se le asocian propiedades y métodos, sino que se simplifica mediante objetos literales.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_objetos_literales">2.2. Objetos literales</h3>
<div class="paragraph">
<p>Los objetos literales ofrecen una notación para crear nuevos objetos valor. Un objeto literal es un par de llaves que rodean 0 o más parejas de clave:valor separados por comas, donde cada clave se considera como un propiedad/método, de la siguiente manera:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">nadie</span> <span class="tok-o">=</span> <span class="tok-p">{};</span>
<span class="tok-kd">var</span> <span class="tok-nx">persona</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
  <span class="tok-nx">nombre</span> <span class="tok-o">:</span> <span class="tok-s2">&quot;Aitor&quot;</span><span class="tok-p">,</span>	<i class="conum" data-value="1"></i><b>(1)</b>
  <span class="tok-nx">apellido1</span> <span class="tok-o">:</span> <span class="tok-s2">&quot;Medrano&quot;</span><span class="tok-p">,</span>
  <span class="tok-nx">getNombreCompleto</span> <span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>	<i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
  <span class="tok-p">}</span>
<span class="tok-p">};</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>La propiedad y el valor se separan con dos puntos, y cada una de las propiedades con una coma, de forma similar a JSON.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>un método es una propiedad de tipo <code>function</code></td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Todo objeto literal finaliza con un punto y coma (<code>;</code>)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Para recuperar un campo, además de la notación <code>.</code>, podemos acceder a cualquier propiedad usando la notación de corchetes <code>[]</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">nom</span> <span class="tok-o">=</span> <span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">nombre</span><span class="tok-p">;</span>
<span class="tok-kd">var</span> <span class="tok-nx">ape1</span> <span class="tok-o">=</span> <span class="tok-nx">persona</span><span class="tok-p">[</span><span class="tok-s2">&quot;apellido1&quot;</span><span class="tok-p">];</span>
<span class="tok-kd">var</span> <span class="tok-nx">nombreCompleto</span> <span class="tok-o">=</span> <span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span><span class="tok-p">();</span>
<span class="tok-kd">var</span> <span class="tok-nx">nombreCompletoCorchete</span> <span class="tok-o">=</span> <span class="tok-nx">persona</span><span class="tok-p">[</span><span class="tok-s2">&quot;getNombreCompleto&quot;</span><span class="tok-p">]();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>La notación de corchetes es muy útil para acceder a una propiedades cuya clave está almacenada en una variable que contiene una cadena con el nombre de la misma.</p>
</div>
<div class="sect3">
<h4 id="_objetos_anidados">2.2.1. Objetos anidados</h4>
<div class="paragraph">
<p>Los objetos anidados son muy útiles para organizar la información y representar relaciones contiene con cardinalidades 1 a 1, o 1 a muchos:</p>
</div>
<div class="listingblock">
<div class="title">Objetos anidados - <a href="http://jsbin.com/qeduze/1/edit?js" class="bare">http://jsbin.com/qeduze/1/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">cliente</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
  <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Bruce Wayne&quot;</span><span class="tok-p">,</span>
  <span class="tok-nx">email</span><span class="tok-o">:</span> <span class="tok-s2">&quot;bruce@wayne.com&quot;</span><span class="tok-p">,</span>
  <span class="tok-nx">direccion</span><span class="tok-o">:</span> <span class="tok-p">{</span>
    <span class="tok-nx">calle</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Mountain Drive&quot;</span><span class="tok-p">,</span>
    <span class="tok-nx">num</span><span class="tok-o">:</span> <span class="tok-mi">1007</span><span class="tok-p">,</span>
    <span class="tok-nx">ciudad</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Gotham&quot;</span>
  <span class="tok-p">}</span>
<span class="tok-p">};</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>También podemos asignar objetos:</p>
</div>
<div class="listingblock">
<div class="title">Objetos y propiedades anidadas - <a href="http://jsbin.com/qeduze/1/edit?js" class="bare">http://jsbin.com/qeduze/1/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">cliente</span> <span class="tok-o">=</span> <span class="tok-p">{};</span>
<span class="tok-nx">cliente</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Bruce Wayne&quot;</span><span class="tok-p">;</span>
<span class="tok-nx">cliente</span><span class="tok-p">.</span><span class="tok-nx">email</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;bruce@wayne.com&quot;</span><span class="tok-p">;</span>
<span class="tok-nx">cliente</span><span class="tok-p">.</span><span class="tok-nx">direccion</span> <span class="tok-o">=</span> <span class="tok-p">{};</span>
<span class="tok-nx">cliente</span><span class="tok-p">.</span><span class="tok-nx">direccion</span><span class="tok-p">.</span><span class="tok-nx">calle</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Mountain Drive&quot;</span><span class="tok-p">;</span>
<span class="tok-nx">cliente</span><span class="tok-p">.</span><span class="tok-nx">direccion</span><span class="tok-p">.</span><span class="tok-nx">num</span> <span class="tok-o">=</span> <span class="tok-mi">1007</span><span class="tok-p">;</span>
<span class="tok-nx">cliente</span><span class="tok-p">.</span><span class="tok-nx">direccion</span><span class="tok-p">.</span><span class="tok-nx">ciudad</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Gotham&quot;</span><span class="tok-p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si accedemos a una propiedad que no existe, obtendremos <code>undefined</code>. Si queremos evitarlo, podemos usar el operador <code>||</code> (<em>or</em>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">nada</span> <span class="tok-o">=</span> <span class="tok-nx">cliente</span><span class="tok-p">.</span><span class="tok-nx">formaPago</span><span class="tok-p">;</span> <span class="tok-c1">// undefined</span>
<span class="tok-kd">var</span> <span class="tok-nx">pagoPorDfecto</span> <span class="tok-o">=</span> <span class="tok-nx">cliente</span><span class="tok-p">.</span><span class="tok-nx">formaPago</span> <span class="tok-o">||</span> <span class="tok-s2">&quot;Efectivo&quot;</span><span class="tok-p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Un fallo muy común es acceder a un campo de una propiedad que no existe. El siguiente fragmento fallará, ya que el objeto <code>direccion</code> no está definido.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">cliente</span> <span class="tok-o">=</span> <span class="tok-p">{};</span>
<span class="tok-nx">cliente</span><span class="tok-p">.</span><span class="tok-nx">direccion</span><span class="tok-p">.</span><span class="tok-nx">calle</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Mountain Drive&quot;</span><span class="tok-p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si intentamos obtener un valor de una propiedad <code>undefined</code>, se lanzará un excepción <code>TypeError</code>. Para evitar la excepción, podemos usar el operación <code>&amp;&amp;</code> (<em>and</em>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">cliente</span> <span class="tok-o">=</span> <span class="tok-p">{};</span>
<span class="tok-nx">cliente</span><span class="tok-p">.</span><span class="tok-nx">direccion</span><span class="tok-p">;</span> <span class="tok-c1">// undefined</span>
<span class="tok-nx">cliente</span><span class="tok-p">.</span><span class="tok-nx">direccion</span><span class="tok-p">.</span><span class="tok-nx">calle</span><span class="tok-p">;</span> <span class="tok-c1">//   lanza TypeError</span>
<span class="tok-nx">cliente</span><span class="tok-p">.</span><span class="tok-nx">direccion</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-nx">cliente</span><span class="tok-p">.</span><span class="tok-nx">direccion</span><span class="tok-p">.</span><span class="tok-nx">calle</span><span class="tok-p">;</span> <span class="tok-c1">// undefined</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En resumen, un objeto puede contener otros objetos como propiedades. Por ello, podemos ver código del tipo <code>variable.objeto.objeto.objeto.propiedad</code> o <code>variable['objeto']['objeto']['objeto']['propiedad']</code>. Esto se conoce como <strong>encadenado de objeto</strong> (<em>object chaining</em>).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creando_un_tipo_de_datos">2.3. Creando un tipo de datos</h3>
<div class="paragraph">
<p>Si quisiéramos crear dos personas con los mismos atributos que en el ejemplo anterior, tendríamos que repetir mucho código.</p>
</div>
<div class="sect3">
<h4 id="_función_factoría">2.3.1. Función factoría</h4>
<div class="paragraph">
<p>Para evitarlo, y que los objetos compartan un interfaz común, podemos crear una función factoría que devuelva el objeto.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-nx">nom</span><span class="tok-p">,</span> <span class="tok-nx">ape1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-p">{</span>
    <span class="tok-nx">nombre</span> <span class="tok-o">:</span> <span class="tok-nx">nom</span><span class="tok-p">,</span>
    <span class="tok-nx">apellido1</span> <span class="tok-o">:</span> <span class="tok-nx">ape1</span><span class="tok-p">,</span>
    <span class="tok-nx">getNombreCompleto</span> <span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
      <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
    <span class="tok-p">}</span>
  <span class="tok-p">};</span>
<span class="tok-p">}</span>

<span class="tok-kd">var</span> <span class="tok-nx">persona</span> <span class="tok-o">=</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Aitor&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Medrano&quot;</span><span class="tok-p">),</span>
  <span class="tok-nx">persona2</span> <span class="tok-o">=</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Domingo&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Gallardo&quot;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Al tratarse de un lenguaje débilmente tipado, si queremos usar un objeto dentro de un método, es recomendable que comprobemos si existe el método que nos interesa del objeto. Por ejemplo, si queremos añadir un método dentro de una persona, que nos permita saludar a otra, tendríamos lo siguiente:</p>
</div>
<div class="listingblock">
<div class="title">Función Factoría - <a href="http://jsbin.com/tirawe/1/edit?js" class="bare">http://jsbin.com/tirawe/1/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-nx">nom</span><span class="tok-p">,</span> <span class="tok-nx">ape1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-p">{</span>
    <span class="tok-nx">nombre</span> <span class="tok-o">:</span> <span class="tok-nx">nom</span><span class="tok-p">,</span>
    <span class="tok-nx">apellido1</span> <span class="tok-o">:</span> <span class="tok-nx">ape1</span><span class="tok-p">,</span>
    <span class="tok-nx">getNombreCompleto</span> <span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
      <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
    <span class="tok-p">},</span>
    <span class="tok-nx">saluda</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">persona</span><span class="tok-p">)</span> <span class="tok-p">{</span>
      <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-k">typeof</span> <span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span> <span class="tok-o">!==</span> <span class="tok-s2">&quot;undefined&quot;</span><span class="tok-p">)</span> <span class="tok-p">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span><span class="tok-p">();</span>
      <span class="tok-p">}</span> <span class="tok-k">else</span> <span class="tok-p">{</span>
        <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola colega&quot;</span><span class="tok-p">;</span>
      <span class="tok-p">}</span>
    <span class="tok-p">}</span>
  <span class="tok-p">};</span>
<span class="tok-p">}</span>

<span class="tok-kd">var</span> <span class="tok-nx">persona</span> <span class="tok-o">=</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Aitor&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Medrano&quot;</span><span class="tok-p">),</span>
  <span class="tok-nx">persona2</span> <span class="tok-o">=</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Domingo&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Gallardo&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">saluda</span><span class="tok-p">(</span><span class="tok-nx">persona2</span><span class="tok-p">);</span> <span class="tok-c1">// Hola Domingo Gallardo</span>
<span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">saluda</span><span class="tok-p">({});</span> <span class="tok-c1">// Hola colega</span>
<span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">saluda</span><span class="tok-p">({</span> <span class="tok-nx">getNombreCompleto</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Bruce Wayne&quot;</span> <span class="tok-p">});</span> <span class="tok-c1">// TypeError, la propiedad getNombreCompleto no es una función</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Comprobamos que el objeto contiene la propiedad que vamos a usar</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_función_constructor">2.3.2. Función constructor</h4>
<div class="paragraph">
<p>Otra manera más elegante y eficiente es utilizar es una función constructor haciendo uso de la instrucción <code>new</code>, del mismo modo que creamos una fecha con <code>var fecha = new Date()</code>.</p>
</div>
<div class="paragraph">
<p>Para ello, dentro de la función constructor que nombraremos con la primera letra en mayúscula (convención de código), crearemos las propiedades y los métodos mediante funciones y los asignaremos (ya no usamos la notación JSON) a propiedades de la función, tal que así:</p>
</div>
<div class="listingblock">
<div class="title">Función constructor - <a href="http://jsbin.com/peliq/1/edit?js" class="bare">http://jsbin.com/peliq/1/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">Persona</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">nombre</span><span class="tok-p">,</span> <span class="tok-nx">apellido1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-nx">nombre</span><span class="tok-p">;</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span> <span class="tok-o">=</span> <span class="tok-nx">apellido1</span><span class="tok-p">;</span>

  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
    <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
  <span class="tok-p">};</span>

  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">saluda</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">persona</span><span class="tok-p">)</span> <span class="tok-p">{</span>
    <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">persona</span> <span class="tok-k">instanceof</span> <span class="tok-nx">Persona</span><span class="tok-p">)</span> <span class="tok-p">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span><span class="tok-p">();</span>
    <span class="tok-p">}</span> <span class="tok-k">else</span> <span class="tok-p">{</span>
      <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola colega&quot;</span><span class="tok-p">;</span>
    <span class="tok-p">}</span>
  <span class="tok-p">};</span>
<span class="tok-p">};</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Al tratarse de un objeto mediante función constructor, ya podemos consultar su tipo con <code>instanceof</code></td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="title">instanceof</div>
<div class="paragraph">
<p>Mediante el operador <code>instanceof</code> podemos determinar (<code>true</code> o <code>false</code>) si un objeto es una instancia de una determinada función constructor.</p>
</div>
<div class="paragraph">
<p>Hay que tener en cuenta que devolverá <code>true</code> cada vez que le preguntemos si un objeto es una instancia de <code>Object</code>, ya que todos los objetos heredan del constructor <code>Object()</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">heroe</span> <span class="tok-o">=</span> <span class="tok-p">{</span> <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Batman&quot;</span> <span class="tok-p">};</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">heroe</span> <span class="tok-k">instanceof</span> <span class="tok-nb">Object</span><span class="tok-p">);</span> <span class="tok-c1">// true</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En cambio, devolverá <code>false</code> al tratar con tipos primitivos que envuelven objetos, pero <code>true</code> si se crean con el operador <code>new</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Batman&quot;</span> <span class="tok-k">instanceof</span> <span class="tok-nb">String</span><span class="tok-p">);</span>  <span class="tok-c1">// false</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-k">new</span> <span class="tok-nb">String</span><span class="tok-p">(</span><span class="tok-s2">&quot;Batman&quot;</span><span class="tok-p">)</span> <span class="tok-k">instanceof</span> <span class="tok-nb">String</span><span class="tok-p">);</span> <span class="tok-c1">// true</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En resumen, <code>instanceof</code> sólo funciona con objetos complejos e instancias creadas mediante funciones constructor que devuelven objetos</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Una vez creada la función, la invocaremos mediante la instrucción <code>new</code>, la cual crea una nueva instancia del objeto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">persona</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">Persona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Aitor&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Medrano&quot;</span><span class="tok-p">),</span>
	<span class="tok-nx">persona2</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">Persona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Domingo&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Gallardo&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">saluda</span><span class="tok-p">(</span><span class="tok-nx">persona2</span><span class="tok-p">);</span> <span class="tok-c1">// Hola Domingo Gallardo</span>
<span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">saluda</span><span class="tok-p">({});</span> <span class="tok-c1">// Hola colega</span>
<span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">saluda</span><span class="tok-p">({</span> <span class="tok-nx">getNombreCompleto</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Bruce Wayne&quot;</span> <span class="tok-p">});</span> <span class="tok-c1">// Hola colega</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>También podíamos haber comenzado con una sintaxis similar a <em>Java</em>, es decir, en vez de una función expresión, mediante una función declaración. Con lo que sustituiríamos la primera línea por:</p>
</div>
<div class="listingblock">
<div class="title">Función constructor notación Java - <a href="https://jsbin.com/bijejaj/edit?js,console" class="bare">https://jsbin.com/bijejaj/edit?js,console</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">Persona</span><span class="tok-p">(</span><span class="tok-nx">nombre</span><span class="tok-p">,</span> <span class="tok-nx">apellido1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-nx">nombre</span><span class="tok-p">;</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span> <span class="tok-o">=</span> <span class="tok-nx">apellido1</span><span class="tok-p">;</span>
  <span class="tok-c1">// ....</span>
<span class="tok-p">}</span>
<span class="tok-kd">var</span> <span class="tok-nx">batman</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">Persona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Bruce&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Wayne&quot;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="title">No olvides <code>new</code></div>
<div class="paragraph">
<p>Mucho cuidado con olvidar la palabra clave <code>new</code>, porque de ese modo no estaríamos creando un objeto, sino asignando las propiedades y métodos del objeto al objeto <code>window</code>, lo que no nos daría error, pero no haría lo que esperamos.</p>
</div>
<div class="paragraph">
<p>Una manera de evitar esta posibilidad, es añadir una comprobación nada más declarar la función:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">Persona</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">nombre</span><span class="tok-p">,</span> <span class="tok-nx">apellido1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-k">this</span> <span class="tok-o">===</span> <span class="tok-nb">window</span><span class="tok-p">)</span> <span class="tok-p">{</span>
    <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-nx">Persona</span><span class="tok-p">(</span><span class="tok-nx">nombre</span><span class="tok-p">,</span> <span class="tok-nx">apellido1</span><span class="tok-p">);</span>
  <span class="tok-p">}</span>

  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-nx">nombre</span><span class="tok-p">;</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span> <span class="tok-o">=</span> <span class="tok-nx">apellido1</span><span class="tok-p">;</span>
  <span class="tok-c1">// continua con el resto del código</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Los desarrolladores que vienen (<em>¿venimos?</em>) del mundo de Java preferimos el uso de funciones constructor, aunque realmente al usar una función constructor estamos consiguiendo lo mismo que una función factoría, pero con la variable <code>this</code> siempre referenciando al objeto y no con un comportamiento dinámico como veremos más adelante. Más información: <a href="http://ericleads.com/2013/01/javascript-constructor-functions-vs-factory-functions/" class="bare">http://ericleads.com/2013/01/javascript-constructor-functions-vs-factory-functions/</a></p>
</div>
<div class="paragraph">
<p>En ambos casos, cada vez que creamos un objeto, los métodos vuelven a crearse y ocupan memoria. Así al crear dos personas, los métodos de <code>getNombreCompleto</code> y <code>saluda</code> se crean dos veces cada uno. Para solucionar esto, tenemos que usar la propiedad <code>prototype</code> que veremos más adelante.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_invocación_indirecta">2.4. Invocación indirecta</h3>
<div class="paragraph">
<p>Para poder reutilizar funciones de un objeto entre diferentes objetos, podemos hacer uso del método <code>apply</code>. Este tipo de invocación se conoce como invocación indirecta y permite redefinir el valor de la variable <code>this</code>:</p>
</div>
<div class="paragraph">
<p>Invocación Indirecta - <a href="http://jsbin.com/necohu/1/edit?js" class="bare">http://jsbin.com/necohu/1/edit?js</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">heroe</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
  <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Superheroe&quot;</span><span class="tok-p">,</span>
  <span class="tok-nx">saludar</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
    <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span><span class="tok-p">;</span>
  <span class="tok-p">}</span>
<span class="tok-p">};</span>

<span class="tok-kd">var</span> <span class="tok-nx">batman</span> <span class="tok-o">=</span> <span class="tok-p">{</span> <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Batman&quot;</span> <span class="tok-p">};</span>
<span class="tok-kd">var</span> <span class="tok-nx">spiderman</span> <span class="tok-o">=</span> <span class="tok-p">{</span> <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Spiderman&quot;</span> <span class="tok-p">};</span>

<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">heroe</span><span class="tok-p">.</span><span class="tok-nx">saludar</span><span class="tok-p">());</span> <span class="tok-c1">// Hola Superheroe</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">heroe</span><span class="tok-p">.</span><span class="tok-nx">saludar</span><span class="tok-p">.</span><span class="tok-nx">apply</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">));</span> <span class="tok-c1">// Hola Batman</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">heroe</span><span class="tok-p">.</span><span class="tok-nx">saludar</span><span class="tok-p">.</span><span class="tok-nx">call</span><span class="tok-p">(</span><span class="tok-nx">spiderman</span><span class="tok-p">));</span> <span class="tok-c1">// Hola Spiderman</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Los métodos <code>apply</code> y <code>call</code> son similares, con la diferencia de que mientras <code>apply</code> además admite un segundo parámetro con un array de argumentos que pasar a la función invocada, <code>call</code> admite un número ilimitado de parámetros que se pasarán a la función.</p>
</div>
<div class="listingblock">
<div class="title">call() vs apply() - <a href="http://jsbin.com/sulamu/1/edit?js" class="bare">http://jsbin.com/sulamu/1/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">heroe</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
  <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Superheroe&quot;</span><span class="tok-p">,</span>
  <span class="tok-nx">saludar</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
    <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span><span class="tok-p">;</span>
  <span class="tok-p">},</span>
  <span class="tok-nx">despedirse</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">enemigo1</span><span class="tok-p">,</span> <span class="tok-nx">enemigo2</span><span class="tok-p">)</span> <span class="tok-p">{</span>
    <span class="tok-kd">var</span> <span class="tok-nx">malos</span> <span class="tok-o">=</span> <span class="tok-nx">enemigo2</span> <span class="tok-o">?</span> <span class="tok-p">(</span><span class="tok-nx">enemigo1</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; y &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">enemigo2</span><span class="tok-p">)</span> <span class="tok-o">:</span> <span class="tok-nx">enemigo1</span><span class="tok-p">;</span>
    <span class="tok-k">return</span> <span class="tok-s2">&quot;Adios &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">malos</span> <span class="tok-o">+</span> <span class="tok-s2">&quot;, firmado:&quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span><span class="tok-p">;</span>
  <span class="tok-p">}</span>
<span class="tok-p">};</span>

<span class="tok-kd">var</span> <span class="tok-nx">batman</span> <span class="tok-o">=</span> <span class="tok-p">{</span> <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Batman&quot;</span> <span class="tok-p">};</span>
<span class="tok-kd">var</span> <span class="tok-nx">spiderman</span> <span class="tok-o">=</span> <span class="tok-p">{</span> <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Spiderman&quot;</span> <span class="tok-p">};</span>

<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">heroe</span><span class="tok-p">.</span><span class="tok-nx">despedirse</span><span class="tok-p">());</span> <span class="tok-c1">// Adios undefined, firmado:Superheroe</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">heroe</span><span class="tok-p">.</span><span class="tok-nx">despedirse</span><span class="tok-p">.</span><span class="tok-nx">apply</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">,</span> <span class="tok-p">[</span><span class="tok-s2">&quot;Joker&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Dos caras&quot;</span><span class="tok-p">]));</span> <span class="tok-c1">// Adios Joker y Dos caras, firmado:Batman</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">heroe</span><span class="tok-p">.</span><span class="tok-nx">despedirse</span><span class="tok-p">.</span><span class="tok-nx">call</span><span class="tok-p">(</span><span class="tok-nx">spiderman</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Duende Verde&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Dr Octopus&quot;</span><span class="tok-p">));</span> <span class="tok-c1">// Adios Duende Verde y Dr Octopus, firmado:Spiderman</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Una tercera aproximación es usar <code>bind</code>, que funciona de manera similar a las anteriores, pero en vez de realizar la llamada a la función, devuelve una función con el contexto modificado.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">funcionConBatman</span> <span class="tok-o">=</span> <span class="tok-nx">heroe</span><span class="tok-p">.</span><span class="tok-nx">despedirse</span><span class="tok-p">.</span><span class="tok-nx">bind</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">funcionConBatman</span><span class="tok-p">(</span><span class="tok-s2">&quot;Pingüino&quot;</span><span class="tok-p">));</span> <span class="tok-c1">// Adios Pingüino, firmado:Batman</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">funcionConBatman</span><span class="tok-p">(</span><span class="tok-s2">&quot;Mr Frio&quot;</span><span class="tok-p">));</span> <span class="tok-c1">// Adios Mr Frio, firmado:Batman</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Antes de enamorarse de <code>bind</code>, conviene destacar que forma parte de <em>ECMAScript 5</em>, por lo que los navegadores antiguos no lo soportan.
Se emplea sobre todo cuando usamos un <em>callback</em> y en vez de guardar una referencia a <code>this</code> en una variable auxiliar (normalmente nombrada como <code>that</code>), hacemos uso de <code>bind</code> para pasarle <code>this</code> al <em>callback</em>.</p>
</div>
<div class="paragraph">
<p>Por ejemplo, cuando se trabaja con AJAX suele suceder esto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">that</span> <span class="tok-o">=</span> <span class="tok-k">this</span><span class="tok-p">;</span>
<span class="tok-kd">function</span> <span class="tok-nx">callback</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">){</span>
  <span class="tok-nx">that</span><span class="tok-p">.</span><span class="tok-nx">procesar</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">);</span>
<span class="tok-p">}</span>
<span class="tok-nx">ajax</span><span class="tok-p">(</span><span class="tok-nx">callback</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ahora con <code>bind</code> nos quedaría asi:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">callback</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">){</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">procesar</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">);</span>
<span class="tok-p">}</span>
<span class="tok-nx">ajax</span><span class="tok-p">(</span><span class="tok-nx">callback</span><span class="tok-p">.</span><span class="tok-nx">bind</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">));</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_descriptores_de_propiedades">2.5. Descriptores de propiedades</h3>
<div class="paragraph">
<p>Al definir las propiedades mediante un objeto literal, estas se pueden tanto leer como escribir, ya sea mediante la notación <code>.</code> o <code>[]</code>.</p>
</div>
<div class="paragraph">
<p>Si queremos que nuestro objeto contenga propiedades privadas, sólo hay que declararlas como variables dentro del objeto:</p>
</div>
<div class="listingblock">
<div class="title">Ejemplo propiedad privada</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">Persona</span><span class="tok-p">(</span><span class="tok-nx">nombre</span><span class="tok-p">,</span> <span class="tok-nx">apellido1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-kd">var</span> <span class="tok-nx">tipo</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Heroe&quot;</span><span class="tok-p">;</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-nx">nombre</span><span class="tok-p">;</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span> <span class="tok-o">=</span> <span class="tok-nx">apellido1</span><span class="tok-p">;</span>
<span class="tok-p">}</span>

<span class="tok-kd">var</span> <span class="tok-nx">batman</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">Persona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Bruce&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Wayne&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">.</span><span class="tok-nx">nombre</span><span class="tok-p">);</span> <span class="tok-c1">// Bruce</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">.</span><span class="tok-nx">tipo</span><span class="tok-p">);</span> <span class="tok-c1">// undefined</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si lo que necesitamos es restringir el estado de las propiedades, a partir de ECMAScript 5, podemos usar:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>un <strong>descriptor de datos</strong> para las propiedades que tienen un valor, el cual puede ser de sólo lectura, mediante <code>Object.defineProperties</code></p>
</li>
<li>
<p>o haciendo uso de los <strong>descriptores de acceso</strong> que definen dos funciones, para los métodos <code>get</code> y <code>set</code>.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_definiendo_propiedades">2.5.1. Definiendo propiedades</h4>
<div class="paragraph">
<p>Vamos a recuperar el ejemplo de la función factoría que creaba una persona:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-nx">nom</span><span class="tok-p">,</span> <span class="tok-nx">ape1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-p">{</span>
    <span class="tok-nx">nombre</span> <span class="tok-o">:</span> <span class="tok-nx">nom</span><span class="tok-p">,</span>
    <span class="tok-nx">apellido1</span> <span class="tok-o">:</span> <span class="tok-nx">ape1</span><span class="tok-p">,</span>
    <span class="tok-nx">getNombreCompleto</span> <span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
      <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
    <span class="tok-p">}</span>
  <span class="tok-p">};</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Para definir las propiedades, haremos uso de <code>Object.defineProperty()</code> rellenando las propiedades <code>value</code> con la variable de la cual tomará el valor, y <code>writable</code> con un <em>booleano</em> que indica si se puede modificar (si no la rellenamos, por defecto se considera que el atributo es de sólo lectura, es decir, <code>false</code>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-nx">nom</span><span class="tok-p">,</span> <span class="tok-nx">ape1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-kd">var</span> <span class="tok-nx">persona</span> <span class="tok-o">=</span> <span class="tok-p">{};</span>

  <span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">defineProperty</span><span class="tok-p">(</span><span class="tok-nx">persona</span><span class="tok-p">,</span> <span class="tok-s2">&quot;nombre&quot;</span><span class="tok-p">,</span> <span class="tok-p">{</span>
    <span class="tok-nx">value</span><span class="tok-o">:</span> <span class="tok-nx">nom</span><span class="tok-p">,</span>
    <span class="tok-nx">writable</span><span class="tok-o">:</span> <span class="tok-kc">true</span>
  <span class="tok-p">});</span>

  <span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">defineProperty</span><span class="tok-p">(</span><span class="tok-nx">persona</span><span class="tok-p">,</span> <span class="tok-s2">&quot;apellido1&quot;</span><span class="tok-p">,</span> <span class="tok-p">{</span>
    <span class="tok-nx">value</span><span class="tok-o">:</span> <span class="tok-nx">ape1</span><span class="tok-p">,</span>
    <span class="tok-nx">writable</span><span class="tok-o">:</span> <span class="tok-kc">false</span>
  <span class="tok-p">});</span>

  <span class="tok-k">return</span> <span class="tok-nx">persona</span><span class="tok-p">;</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>De este modo, podemos crear personas, en las cuales podremos modificar el nombre pero no el apellido:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">batman</span> <span class="tok-o">=</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Bruce&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Wayne&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">.</span><span class="tok-nx">nombre</span><span class="tok-p">,</span> <span class="tok-nx">batman</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">);</span>
<span class="tok-nx">batman</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Bruno&quot;</span><span class="tok-p">;</span>
<span class="tok-nx">batman</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Díaz&quot;</span><span class="tok-p">;</span>  <span class="tok-c1">// No se lanza ningún error, pero no modifica</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">.</span><span class="tok-nx">nombre</span><span class="tok-p">,</span> <span class="tok-nx">batman</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En vez de tener que crear una instrucción <code>Object.defineProperty()</code> por propiedad, podemos agrupar y usar <code>Object.defineProperties()</code> y simplificar el código:</p>
</div>
<div class="listingblock">
<div class="title">Descriptor de propiedades - <a href="http://jsbin.com/loqofe/1/edit?js" class="bare">http://jsbin.com/loqofe/1/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-nx">nom</span><span class="tok-p">,</span> <span class="tok-nx">ape1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-kd">var</span> <span class="tok-nx">persona</span> <span class="tok-o">=</span> <span class="tok-p">{};</span>

  <span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">defineProperties</span><span class="tok-p">(</span><span class="tok-nx">persona</span><span class="tok-p">,</span> <span class="tok-p">{</span>
    <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-p">{</span>
      <span class="tok-nx">value</span><span class="tok-o">:</span> <span class="tok-nx">nom</span><span class="tok-p">,</span>
      <span class="tok-nx">writable</span><span class="tok-o">:</span> <span class="tok-kc">true</span>
    <span class="tok-p">},</span>
    <span class="tok-nx">apellido1</span><span class="tok-o">:</span> <span class="tok-p">{</span>
      <span class="tok-nx">value</span><span class="tok-o">:</span> <span class="tok-nx">ape1</span><span class="tok-p">,</span>
      <span class="tok-nx">writable</span><span class="tok-o">:</span> <span class="tok-kc">false</span>
    <span class="tok-p">}</span>
  <span class="tok-p">});</span>

  <span class="tok-k">return</span> <span class="tok-nx">persona</span><span class="tok-p">;</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si en vez de utilizar una función factoría, queremos hacerlo mediante una función constructor, el funcionamiento es el mismo, sólo que el objeto que le pasaremos a <code>Object.defineProperty()</code> será <code>this</code>:</p>
</div>
<div class="listingblock">
<div class="title">Descriptor de propiedades con función constructor - <a href="https://jsbin.com/mipohe/edit?js,console" class="bare">https://jsbin.com/mipohe/edit?js,console</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">Persona</span><span class="tok-p">(</span><span class="tok-nx">nom</span><span class="tok-p">,</span> <span class="tok-nx">ape1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-nx">nom</span><span class="tok-p">;</span>

  <span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">defineProperties</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">,</span> <span class="tok-p">{</span>
    <span class="tok-nx">apellido1</span><span class="tok-o">:</span> <span class="tok-p">{</span>
      <span class="tok-nx">value</span><span class="tok-o">:</span> <span class="tok-nx">ape1</span><span class="tok-p">,</span>
      <span class="tok-nx">writable</span><span class="tok-o">:</span> <span class="tok-kc">false</span>
    <span class="tok-p">}</span>
  <span class="tok-p">});</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Finalmente, si en algún momento queremos consultar un descriptor de una propiedad haremos uso de <code>Object.getOwnPropertyDescriptor(objeto, propiedad)</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">batman</span> <span class="tok-o">=</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Bruce&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Wayne&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">getOwnPropertyDescriptor</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">,</span> <span class="tok-s2">&quot;nombre&quot;</span><span class="tok-p">));</span>
<span class="tok-c1">//  [object Object] {</span>
<span class="tok-c1">//    configurable: false,</span>
<span class="tok-c1">//    enumerable: false,</span>
<span class="tok-c1">//    value: &quot;Bruce&quot;,</span>
<span class="tok-c1">//    writable: true</span>
<span class="tok-c1">//  }</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__em_get_em_y_em_set_em">2.5.2. <em>Get</em> y <em>Set</em></h4>
<div class="paragraph">
<p>Los descriptores de acceso sustituyen a los métodos que modifican las propiedades. Para ello, vamos a crear una propiedad <code>nombreCompleto</code> con sus respectivos métodos de acceso y modificación:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-nx">nom</span><span class="tok-p">,</span> <span class="tok-nx">ape1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-kd">var</span> <span class="tok-nx">persona</span> <span class="tok-o">=</span> <span class="tok-p">{};</span>

  <span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">defineProperties</span><span class="tok-p">(</span><span class="tok-nx">persona</span><span class="tok-p">,</span> <span class="tok-p">{</span>
    <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-p">{</span>
      <span class="tok-nx">value</span><span class="tok-o">:</span> <span class="tok-nx">nom</span><span class="tok-p">,</span>
      <span class="tok-nx">writable</span><span class="tok-o">:</span> <span class="tok-kc">true</span>
    <span class="tok-p">},</span>
    <span class="tok-nx">apellido1</span><span class="tok-o">:</span> <span class="tok-p">{</span>
      <span class="tok-nx">value</span><span class="tok-o">:</span> <span class="tok-nx">ape1</span><span class="tok-p">,</span>
      <span class="tok-nx">writable</span><span class="tok-o">:</span> <span class="tok-kc">false</span>
    <span class="tok-p">},</span>
    <span class="tok-nx">nombreCompleto</span><span class="tok-o">:</span> <span class="tok-p">{</span>
      <span class="tok-nx">get</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
      <span class="tok-p">},</span>
      <span class="tok-nx">set</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">valor</span><span class="tok-p">)</span> <span class="tok-p">{</span>  <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-nx">valor</span><span class="tok-p">;</span>
        <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span> <span class="tok-o">=</span> <span class="tok-nx">valor</span><span class="tok-p">;</span>
      <span class="tok-p">}</span>
    <span class="tok-p">}</span>
  <span class="tok-p">});</span>

  <span class="tok-k">return</span> <span class="tok-nx">persona</span><span class="tok-p">;</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Método de acceso</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Método de modificación. Destacar que como hemos definido la propiedad 'apellido1' como de sólo lectura, no va a cambiar su valor</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>De este modo podemos obtener la propiedad del descriptor de acceso como propiedad en vez de como método:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">batman</span> <span class="tok-o">=</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Bruce&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Wayne&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">.</span><span class="tok-nx">nombreCompleto</span><span class="tok-p">);</span> <span class="tok-c1">// Bruce Wayne</span>
<span class="tok-nx">batman</span><span class="tok-p">.</span><span class="tok-nx">nombreCompleto</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Bruno Díaz&quot;</span><span class="tok-p">;</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">.</span><span class="tok-nx">nombreCompleto</span><span class="tok-p">);</span> <span class="tok-c1">// Bruno Díaz Wayne</span></code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/js02/batmanProperties.jpg" alt="Propiedades del objeto Persona" width="66%">
</div>
<div class="title">Figure 1. Objeto con propiedades</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Una propiedad no puede contener al mismo tiempo el atributo <code>value</code> y  <code>get</code> o <code>set</code>, es decir no puede ser descriptor de datos y de acceso al mismo tiempo.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_iterando_sobre_las_propiedades">2.5.3. Iterando sobre las propiedades</h4>
<div class="paragraph">
<p>Si necesitamos acceder a todas las propiedades que contiene un objeto, podemos recorrerlas como si fueran una enumeración mediante un bucle <code>for in</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-k">for</span> <span class="tok-p">(</span><span class="tok-kd">var</span> <span class="tok-nx">prop</span> <span class="tok-k">in</span> <span class="tok-nx">batman</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">[</span><span class="tok-nx">prop</span><span class="tok-p">]);</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>O hacer uso del método <code>Object.keys(<em>objeto</em>)</code>, el cual nos devuelve las propiedades del objeto en forma de array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">propiedades</span> <span class="tok-o">=</span> <span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">keys</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Por defecto las propiedades definidas mediante descriptores no se visualizan al recorrerlas. Para poder visualizarlas, tenemos que configurar la propiedad <code>enumerable</code> para cada propiedad que queramos obtener:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-nx">nom</span><span class="tok-p">,</span> <span class="tok-nx">ape1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-kd">var</span> <span class="tok-nx">persona</span> <span class="tok-o">=</span> <span class="tok-p">{};</span>

  <span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">defineProperties</span><span class="tok-p">(</span><span class="tok-nx">persona</span><span class="tok-p">,</span> <span class="tok-p">{</span>
    <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-p">{</span>
      <span class="tok-nx">value</span><span class="tok-o">:</span> <span class="tok-nx">nom</span><span class="tok-p">,</span>
      <span class="tok-nx">enumerable</span><span class="tok-o">:</span> <span class="tok-kc">true</span>  <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-p">},</span>
    <span class="tok-nx">apellido1</span><span class="tok-o">:</span> <span class="tok-p">{</span>
      <span class="tok-nx">value</span><span class="tok-o">:</span> <span class="tok-nx">ape1</span><span class="tok-p">,</span>
      <span class="tok-nx">enumerable</span><span class="tok-o">:</span> <span class="tok-kc">true</span>
    <span class="tok-p">},</span>
    <span class="tok-nx">nombreCompleto</span><span class="tok-o">:</span> <span class="tok-p">{</span>
      <span class="tok-nx">get</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
        <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
      <span class="tok-p">},</span>
      <span class="tok-nx">enumerable</span><span class="tok-o">:</span> <span class="tok-kc">false</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="tok-p">}</span>
  <span class="tok-p">});</span>

  <span class="tok-k">return</span> <span class="tok-nx">persona</span><span class="tok-p">;</span>
<span class="tok-p">}</span>

<span class="tok-kd">var</span> <span class="tok-nx">batman</span> <span class="tok-o">=</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Bruce&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Wayne&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">keys</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">));</span> <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Marcamos la propiedad como enumerable</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>La marcamos para que no aparezca</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Obtenemos un array con <code>["nombre", "apellido1"]</code></td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_modificando_una_propiedad">2.5.4. Modificando una propiedad</h4>
<div class="paragraph">
<p>Si por defecto intentamos redefinir una propiedad que ya existe, obtendremos un error. Para poder hacer esto, necesitamos configurar la propiedad <code>configurable</code> a <code>true</code>, ya que por defecto, si no la configuramos es <code>false</code>.</p>
</div>
<div class="paragraph">
<p>Así pues, si ahora queremos que la propiedad de <code>nombreCompleto</code> devuelva el apellido y luego el nombre separado por una coma, necesitaríamos lo siguiente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">creaPersona</span><span class="tok-p">(</span><span class="tok-nx">nom</span><span class="tok-p">,</span> <span class="tok-nx">ape1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-kd">var</span> <span class="tok-nx">persona</span> <span class="tok-o">=</span> <span class="tok-p">{};</span>

  <span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">defineProperties</span><span class="tok-p">(</span><span class="tok-nx">persona</span><span class="tok-p">,</span> <span class="tok-p">{</span>
    <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-p">{</span>
      <span class="tok-nx">value</span><span class="tok-o">:</span> <span class="tok-nx">nom</span><span class="tok-p">,</span>
    <span class="tok-p">},</span>
    <span class="tok-nx">apellido1</span><span class="tok-o">:</span> <span class="tok-p">{</span>
      <span class="tok-nx">value</span><span class="tok-o">:</span> <span class="tok-nx">ape1</span><span class="tok-p">,</span>
    <span class="tok-p">},</span>
    <span class="tok-nx">nombreCompleto</span><span class="tok-o">:</span> <span class="tok-p">{</span>
      <span class="tok-nx">get</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
        <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
      <span class="tok-p">},</span>
      <span class="tok-nx">configurable</span><span class="tok-o">:</span> <span class="tok-kc">true</span>  <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-p">}</span>
  <span class="tok-p">});</span>

  <span class="tok-k">return</span> <span class="tok-nx">persona</span><span class="tok-p">;</span>
<span class="tok-p">}</span>

<span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">defineProperty</span><span class="tok-p">(</span><span class="tok-nx">persona</span><span class="tok-p">,</span> <span class="tok-s2">&quot;nombreCompleto&quot;</span><span class="tok-p">,</span> <span class="tok-p">{</span>  <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="tok-nx">get</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
    <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span> <span class="tok-o">+</span> <span class="tok-s2">&quot;, &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span><span class="tok-p">;</span>
  <span class="tok-p">}</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Permitimos modificar la propiedad una vez definido el objeto</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Redefinimos la propiedad</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_prototipos">2.6. Prototipos</h3>
<div class="paragraph">
<p>Los prototipos son una forma adecuada de definir tipos de objetos que permiten definir propiedades y funcionalidades que se aplicarán a todas las instancias del objeto. Es decir, es un objeto que se usa como fuente secundaria de las propiedades. Así pues, cuando un objeto recibe un petición de una propiedad que no contiene, buscará la propiedad en su prototipo. Si no lo encuentra, en el prototipo del prototipo, y así sucesivamente.</p>
</div>
<div class="paragraph">
<p>A nivel de código, todos los objetos contienen una propiedad <code>prototype</code> que inicialmente referencia a un objeto vacío. Esta propiedad no sirve de mucho hasta que la función se usa como un constructor.</p>
</div>
<div class="paragraph">
<p>Por defecto todos los objetos tienen como prototipo raíz <code>Object.prototype</code>, el cual ofrece algunos métodos que comparten todos los métodos, como <code>toString</code>. Si queremos averiguar el prototipo de un objeto podemos usar la función <code>Object.getPrototypeOf(<em>objeto</em>)</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">getPrototypeOf</span><span class="tok-p">({})</span> <span class="tok-o">==</span> <span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">prototype</span><span class="tok-p">);</span> <span class="tok-c1">// true</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">getPrototypeOf</span><span class="tok-p">(</span><span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">prototype</span><span class="tok-p">));</span> <span class="tok-c1">// null</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_constructores_y_code_prototype_code">2.6.1. Constructores y <code>prototype</code></h4>
<div class="paragraph">
<p>Al llamar a una función mediante la instrucción <code>new</code> provoca que se invoque como un constructor. El constructor asocia la variable <code>this</code> al objeto creado, y a menos que se indique, la llamada devolverá este objeto.</p>
</div>
<div class="paragraph">
<p>Este objeto se conoce como una instancia de su constructor. Todos los constructores (de hecho todas las funciones) automáticamente contienen la propiedad <code>prototype</code> que por defecto referencia a un objeto vacío que deriva de <code>Object.prototype</code>.</p>
</div>
<div class="paragraph">
<p>Cada instancia creada con este constructor tendrá este objeto como su prototipo. Con lo que para añadir nuevos métodos al constructor, hemos de añadirlos como propiedades del prototipo.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">Persona</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">nombre</span><span class="tok-p">,</span> <span class="tok-nx">apellido1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-nx">nombre</span><span class="tok-p">;</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span> <span class="tok-o">=</span> <span class="tok-nx">apellido1</span><span class="tok-p">;</span>
<span class="tok-p">}</span>

<span class="tok-nx">Persona</span><span class="tok-p">.</span><span class="tok-nx">prototype</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
<span class="tok-p">};</span>

<span class="tok-nx">Persona</span><span class="tok-p">.</span><span class="tok-nx">prototype</span><span class="tok-p">.</span><span class="tok-nx">saluda</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">persona</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">persona</span> <span class="tok-k">instanceof</span> <span class="tok-nx">Persona</span><span class="tok-p">)</span> <span class="tok-p">{</span>
    <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span><span class="tok-p">();</span>
  <span class="tok-p">}</span> <span class="tok-k">else</span> <span class="tok-p">{</span>
    <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola colega&quot;</span><span class="tok-p">;</span>
  <span class="tok-p">}</span>
<span class="tok-p">};</span>

<span class="tok-kd">var</span> <span class="tok-nx">persona</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">Persona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Aitor&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Medrano&quot;</span><span class="tok-p">),</span>
  <span class="tok-nx">persona2</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">Persona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Domingo&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Gallardo&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">saluda</span><span class="tok-p">(</span><span class="tok-nx">persona2</span><span class="tok-p">);</span> <span class="tok-c1">// Hola Domingo Gallardo</span>
<span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">saluda</span><span class="tok-p">({});</span> <span class="tok-c1">// Hola colega</span>
<span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">saluda</span><span class="tok-p">({</span> <span class="tok-nx">getNombreCompleto</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Bruce Wayne&quot;</span> <span class="tok-p">});</span> <span class="tok-c1">// Hola colega</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Una vez definido el prototipo de un objeto, las propiedades del prototipo se convierten en propiedades de los objetos instanciados. Su propósito es similar al uso de clases dentro de un lenguaje clásico orientado a objeto. De hecho, el uso de prototipos en <em>JavaScript</em> se plantea para poder compartir código de manera similar al paradigma orientado a objetos.</p>
</div>
<div class="paragraph">
<p>Ya hemos comentado que todo lo que colocamos en la propiedad <code>prototype</code> se comparte entre todas las instancias del objeto, por lo que las funciones que coloquemos dentro compartirán una única instancia entre todas ellas.</p>
</div>
<div class="paragraph">
<p>Si queremos compartir el prototipo entre diferentes objetos, podemos usar <code>Object.create</code> para crear un objeto con un prototipo específico, aunque es mejor usar una función constructor.</p>
</div>
</div>
<div class="sect3">
<h4 id="__code_prototype_code_y_code_proto_code">2.6.2. <code>prototype</code> y <code>__proto__</code></h4>
<div class="paragraph">
<p>Supongamos el siguiente objeto vacío:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">objeto</span> <span class="tok-o">=</span> <span class="tok-p">{};</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">dir</span><span class="tok-p">(</span><span class="tok-nx">objeto</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si inspeccionamos la consola, podemos observar la propiedad <code>__proto__</code> con todas sus propiedades:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/js02/js02ObjetoVacio.png" alt="Propiedades de un objeto vacío" width="66%">
</div>
<div class="title">Figure 2. Propiedades de un Objeto</div>
</div>
<div class="paragraph">
<p>Así pues tenemos que todo objeto contiene una propiedad <code>__proto__</code> que incluye todas las propiedades que hereda nuestro objeto. Es algo así como el padre del objeto. Para recuperar este prototipo podemos usar el método <code>Object.getPrototypeOf()</code> o directamente navegar por la propiedad <code>__proto__</code>, es decir, son intercambiables.</p>
</div>
<div class="paragraph">
<p>Es importante destacar la diferencia entre el modo que un prototipo se asocia con un constructor (a través de la propiedad <code>prototype</code>) y el modo en que los objetos tienen un prototipo (el cual se puede obtener mediante <code>Object.getPrototypeOf</code>). El prototipo real de un constructor es <code>Function.prototype</code> ya que todos los constructores son funciones. Su propiedad <code>prototype</code> será el prototipo de las instancias creadas mediante su constructor, pero no su propio prototipo.</p>
</div>
<div class="paragraph">
<p>Los prototipos en <em>JavaScript</em> son especiales por lo siguiente: cuando le pedimos a JavaScript que queremos invocar el método <code>push</code> de un objeto, o leer la propiedad <code>x</code> de otro objeto, el motor primero buscará dentro de las propiedades del propio objeto. Si el motor JS no encuentra lo que nosotros queremos, seguirá la referencia <code>__proto__</code> y buscará el miembro en el prototipo del objeto.</p>
</div>
<div class="paragraph">
<p>Veamos un ejemplo mediante código:</p>
</div>
<div class="listingblock">
<div class="title">__proto__ vs prototype - <a href="http://jsbin.com/sicivi/1/edit?js" class="bare">http://jsbin.com/sicivi/1/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">Heroe</span><span class="tok-p">(){</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">malvado</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-p">;</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">getTipo</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
    <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">malvado</span> <span class="tok-o">?</span> <span class="tok-s2">&quot;Malo&quot;</span> <span class="tok-o">:</span> <span class="tok-s2">&quot;Bueno&quot;</span><span class="tok-p">;</span>
  <span class="tok-p">};</span>
<span class="tok-p">}</span>

<span class="tok-nx">Heroe</span><span class="tok-p">.</span><span class="tok-nx">prototype</span><span class="tok-p">.</span><span class="tok-nx">atacar</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">malvado</span> <span class="tok-o">?</span> <span class="tok-s2">&quot;Ataque con Joker&quot;</span> <span class="tok-o">:</span> <span class="tok-s2">&quot;Ataque con Batman&quot;</span><span class="tok-p">;</span>
<span class="tok-p">}</span>

<span class="tok-kd">var</span> <span class="tok-nx">robin</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">Heroe</span><span class="tok-p">();</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">robin</span><span class="tok-p">.</span><span class="tok-nx">getTipo</span><span class="tok-p">());</span>   <span class="tok-c1">// Bueno</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">robin</span><span class="tok-p">.</span><span class="tok-nx">atacar</span><span class="tok-p">());</span>     <span class="tok-c1">// Ataque con Batman</span>

<span class="tok-kd">var</span> <span class="tok-nx">lexLuthor</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">Heroe</span><span class="tok-p">();</span>
<span class="tok-nx">lexLuthor</span><span class="tok-p">.</span><span class="tok-nx">malvado</span> <span class="tok-o">=</span> <span class="tok-kc">true</span><span class="tok-p">;</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">lexLuthor</span><span class="tok-p">.</span><span class="tok-nx">getTipo</span><span class="tok-p">());</span>   <span class="tok-c1">// Malo</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">lexLuthor</span><span class="tok-p">.</span><span class="tok-nx">atacar</span><span class="tok-p">());</span>     <span class="tok-c1">// Ataque con Joker</span>

<span class="tok-kd">var</span> <span class="tok-nx">policia</span> <span class="tok-o">=</span> <span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">create</span><span class="tok-p">(</span><span class="tok-nx">robin</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">policia</span><span class="tok-p">.</span><span class="tok-nx">getTipo</span><span class="tok-p">());</span>     <span class="tok-c1">// Bueno</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">policia</span><span class="tok-p">.</span><span class="tok-nx">__proto__</span><span class="tok-p">.</span><span class="tok-nx">atacar</span><span class="tok-p">());</span>    <span class="tok-c1">// Ataque con Batman</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ya hemos visto que cada objeto en <em>JavaScript</em> tiene una propiedad <code>prototype</code>. No hay que confundir esta propiedad <code>prototype</code> con la propiedad <code>__proto__</code>, ya que ni tienen el mismo propósito ni apuntan al mismo objeto:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Array.__proto__</code> nos da el prototipo de <code>Array</code>, es decir, el objeto del que hereda la función <code>Array</code>.</p>
</li>
<li>
<p><code>Array.prototype</code>, en cambio, es el objeto prototipo de todos los <em>arrays</em>, que contiene los métodos que heredarán todos los arrays.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Para finalizar, relacionado con estos conceptos tenemos la instrucción <code>new</code> en JavaScript, la cual realiza tres pasos:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Primero crea un objeto vacío.</p>
</li>
<li>
<p>A continuación, asigna la propiedad <code>__proto__</code> del nuevo objeto a la propiedad <code>prototype</code> de la función invocada</p>
</li>
<li>
<p>Finalmente, el operador invoca la función y pasa el nuevo objeto como la referencia <code>this</code>.</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Un artículo muy gráfico que explica la diferencia entre estas dos propiedades es <em>Prototypes and Inheritance in JavaScript</em> de <em>Scott Allen</em> : <a href="http://msdn.microsoft.com/en-us/magazine/ff852808.aspx" class="bare">http://msdn.microsoft.com/en-us/magazine/ff852808.aspx</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_herencia">2.7. Herencia</h3>
<div class="paragraph">
<p><em>JavaScript</em> es un lenguaje de herencia prototipada, lo que significa que un objeto puede heredar directamente propiedades de otro objeto a partir de su prototipo, sin necesidad de crear clases.</p>
</div>
<div class="paragraph">
<p>Ya hemos visto que mediante la propiedad <code>prototype</code> podemos asociar atributos y métodos al prototipo de nuestras funciones constructor.</p>
</div>
<div class="paragraph">
<p>Retomemos el ejemplo del objeto <code>Persona</code> mediante la función constructor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">Persona</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">nombre</span><span class="tok-p">,</span> <span class="tok-nx">apellido1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-nx">nombre</span><span class="tok-p">;</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span> <span class="tok-o">=</span> <span class="tok-nx">apellido1</span><span class="tok-p">;</span>

  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombreCompleto</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
    <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
  <span class="tok-p">};</span>

  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">saluda</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">persona</span><span class="tok-p">)</span> <span class="tok-p">{</span>
    <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">persona</span> <span class="tok-k">instanceof</span> <span class="tok-nx">Persona</span><span class="tok-p">)</span> <span class="tok-p">{</span>
      <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span><span class="tok-p">();</span>
    <span class="tok-p">}</span> <span class="tok-k">else</span> <span class="tok-p">{</span>
      <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola colega&quot;</span><span class="tok-p">;</span>
    <span class="tok-p">}</span>
  <span class="tok-p">};</span>
<span class="tok-p">};</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Para mejorar el uso de la memoria y reducir la duplicidad de los métodos, hemos de llevar los métodos al prototipo. Para ello, crearemos descriptores de acceso para las propiedades y llevaremos los métodos al prototipo de la función constructor:</p>
</div>
<div class="listingblock">
<div class="title">Refactor OO - <a href="http://jsbin.com/racexa/1/edit?js" class="bare">http://jsbin.com/racexa/1/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">Persona</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">nombre</span><span class="tok-p">,</span> <span class="tok-nx">apellido1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-nx">nombre</span><span class="tok-p">;</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span> <span class="tok-o">=</span> <span class="tok-nx">apellido1</span><span class="tok-p">;</span>
<span class="tok-p">};</span>

<span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">defineProperties</span><span class="tok-p">(</span><span class="tok-nx">Persona</span><span class="tok-p">.</span><span class="tok-nx">prototype</span><span class="tok-p">,</span> <span class="tok-p">{</span>  <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="tok-nx">nombreCompleto</span><span class="tok-o">:</span> <span class="tok-p">{</span>
    <span class="tok-nx">get</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
    <span class="tok-p">},</span>
    <span class="tok-nx">enumerable</span><span class="tok-o">:</span> <span class="tok-kc">true</span>
  <span class="tok-p">}</span>
<span class="tok-p">});</span>

<span class="tok-nx">Persona</span><span class="tok-p">.</span><span class="tok-nx">prototype</span><span class="tok-p">.</span><span class="tok-nx">saluda</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">persona</span><span class="tok-p">)</span> <span class="tok-p">{</span>  <i class="conum" data-value="3"></i><b>(3)</b>
  <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">persona</span> <span class="tok-k">instanceof</span> <span class="tok-nx">Persona</span><span class="tok-p">)</span> <span class="tok-p">{</span>
    <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">nombreCompleto</span><span class="tok-p">;</span>
  <span class="tok-p">}</span> <span class="tok-k">else</span> <span class="tok-p">{</span>
    <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola colega&quot;</span><span class="tok-p">;</span>
  <span class="tok-p">}</span>
<span class="tok-p">};</span>

<span class="tok-kd">var</span> <span class="tok-nx">batman</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">Persona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Bruce&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Wayne&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">.</span><span class="tok-nx">nombreCompleto</span><span class="tok-p">);</span> <span class="tok-c1">// Bruce Wayne</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">.</span><span class="tok-nx">saluda</span><span class="tok-p">());</span> <span class="tok-c1">// Hola colega</span>
<span class="tok-kd">var</span> <span class="tok-nx">superman</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">Persona</span><span class="tok-p">(</span><span class="tok-s2">&quot;Clark&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Kent&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">batman</span><span class="tok-p">.</span><span class="tok-nx">saluda</span><span class="tok-p">(</span><span class="tok-nx">superman</span><span class="tok-p">));</span> <span class="tok-c1">// Hola Clark Kent</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Fijamos la definición de propiedades en el prototipo de la función constructor</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Añadimos una propiedad de acceso por cada propiedad</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Añadimos los métodos al prototipo</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Si queremos incluir los métodos como dentro de los descriptores de propiedades, podemos añadiros como valores:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">defineProperties</span><span class="tok-p">(</span><span class="tok-nx">Persona</span><span class="tok-p">.</span><span class="tok-nx">prototype</span><span class="tok-p">,</span> <span class="tok-p">{</span>
  <span class="tok-nx">nombreCompleto</span><span class="tok-o">:</span> <span class="tok-p">{</span>
    <span class="tok-nx">get</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
      <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
    <span class="tok-p">},</span>
    <span class="tok-nx">enumerable</span><span class="tok-o">:</span> <span class="tok-kc">true</span>
  <span class="tok-p">},</span>
  <span class="tok-nx">saluda</span><span class="tok-o">:</span> <span class="tok-p">{</span>
    <span class="tok-nx">value</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">persona</span><span class="tok-p">)</span> <span class="tok-p">{</span>  <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">persona</span> <span class="tok-k">instanceof</span> <span class="tok-nx">Persona</span><span class="tok-p">)</span> <span class="tok-p">{</span>
        <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">nombreCompleto</span><span class="tok-p">;</span>
      <span class="tok-p">}</span> <span class="tok-k">else</span> <span class="tok-p">{</span>
        <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola colega&quot;</span><span class="tok-p">;</span>
      <span class="tok-p">}</span>
    <span class="tok-p">},</span>
    <span class="tok-nx">enumerable</span><span class="tok-o">:</span> <span class="tok-kc">true</span>
  <span class="tok-p">}</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>El método saluda ahora es una propiedad cuyo valor es una función</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Para crear un objeto que utilice el prototipo de otro hemos de hacer uso del método <code>Object.create(<em>objetoPrototipo</em>)</code>. De este modo, el <em>objetoPrototipo</em> se convierte en el prototipo del objeto devuelto, y así podemos acceder al objeto padre mediante <code>Object.getPrototypeOf(<em>objetoPrototipo</em>)</code> o la propiedad <code>__proto__</code> (<em>deprecated</em>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">Empleado</span> <span class="tok-o">=</span> <span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">create</span><span class="tok-p">(</span><span class="tok-nx">Persona</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">Empleado</span><span class="tok-p">.</span><span class="tok-nx">hasOwnProperty</span><span class="tok-p">(</span><span class="tok-s1">&#39;nombreCompleto&#39;</span><span class="tok-p">));</span>  <span class="tok-c1">// false</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">Empleado</span><span class="tok-p">.</span><span class="tok-nx">__proto__</span> <span class="tok-o">===</span> <span class="tok-nx">Persona</span><span class="tok-p">);</span>  <span class="tok-c1">// true</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">getPrototypeOf</span><span class="tok-p">(</span><span class="tok-nx">Empleado</span><span class="tok-p">)</span> <span class="tok-o">===</span> <span class="tok-nx">Persona</span><span class="tok-p">);</span>  <span class="tok-c1">// true</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si queremos realizar herencia entre objetos, el proceso se realiza en dos pasos:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Heredar el constructor</p>
</li>
<li>
<p>Heredar el prototipo</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_herencia_de_constructor">2.7.1. Herencia de constructor</h4>
<div class="paragraph">
<p>Si usamos funciones constructor, podemos realizar herencia de constructor para que el hijo comparta las mismas propiedades que el padre. Para ello, el hijo debe realizar una llamada al padre y definir sus propios atributos.</p>
</div>
<div class="paragraph">
<p>Por ejemplo, supongamos que queremos crear un objeto <code>Empleado</code> que se base en <code>Persona</code>, pero añadiendo el campo <code>cargo</code> con el puesto laboral del empleado:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">Empleado</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">nombre</span><span class="tok-p">,</span> <span class="tok-nx">apellido1</span><span class="tok-p">,</span> <span class="tok-nx">cargo</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-nx">Persona</span><span class="tok-p">.</span><span class="tok-nx">call</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">,</span> <span class="tok-nx">nombre</span><span class="tok-p">,</span> <span class="tok-nx">apellido1</span><span class="tok-p">);</span>  <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">cargo</span> <span class="tok-o">=</span> <span class="tok-nx">cargo</span><span class="tok-p">;</span>
<span class="tok-p">};</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Llamamos al constructor del padre mediante <code>call</code> para que <code>this</code> tome el valor del hijo.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_herencia_de_prototipo">2.7.2. Herencia de prototipo</h4>
<div class="paragraph">
<p>Una vez heredado el constructor, necesitamos heredar el prototipo para compartir los métodos y si fuese el caso, sobrescribirlos.</p>
</div>
<div class="paragraph">
<p>Para ello, mediante <code>Object.create(<em>prototipo</em>, <em>propiedades</em>)</code> vamos a definir los métodos del hijo y si quisiéramos sobrescribir los métodos que queramos del padre:</p>
</div>
<div class="listingblock">
<div class="title">Herencia - <a href="http://jsbin.com/ledavu/1/edit?js" class="bare">http://jsbin.com/ledavu/1/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">Empleado</span><span class="tok-p">.</span><span class="tok-nx">prototype</span> <span class="tok-o">=</span> <span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">create</span><span class="tok-p">(</span><span class="tok-nx">Persona</span><span class="tok-p">.</span><span class="tok-nx">prototype</span><span class="tok-p">,</span> <span class="tok-p">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="tok-nx">saluda</span><span class="tok-o">:</span> <span class="tok-p">{</span>   <span class="tok-c1">// sobreescribimos los métodos que queremos</span>
    <span class="tok-nx">value</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">persona</span><span class="tok-p">)</span> <span class="tok-p">{</span>
      <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">persona</span> <span class="tok-k">instanceof</span> <span class="tok-nx">Persona</span><span class="tok-p">)</span> <span class="tok-p">{</span>
        <span class="tok-k">return</span> <span class="tok-nx">Persona</span><span class="tok-p">.</span><span class="tok-nx">prototype</span><span class="tok-p">.</span><span class="tok-nx">saluda</span><span class="tok-p">.</span><span class="tok-nx">call</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">)</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; (desde un empleado)&quot;</span><span class="tok-p">;</span>  <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="tok-p">}</span> <span class="tok-k">else</span> <span class="tok-p">{</span>
        <span class="tok-k">return</span> <span class="tok-s2">&quot;Hola trabajador&quot;</span><span class="tok-p">;</span>
      <span class="tok-p">}</span>
    <span class="tok-p">},</span>
    <span class="tok-nx">writable</span><span class="tok-o">:</span> <span class="tok-kc">false</span><span class="tok-p">,</span>  <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="tok-nx">enumerable</span><span class="tok-o">:</span> <span class="tok-kc">true</span>
  <span class="tok-p">},</span>
  <span class="tok-nx">nombreCompleto</span><span class="tok-o">:</span> <span class="tok-p">{</span>
    <span class="tok-nx">get</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span> <i class="conum" data-value="4"></i><b>(4)</b>
      <span class="tok-kd">var</span> <span class="tok-nx">desc</span> <span class="tok-o">=</span> <span class="tok-nb">Object</span><span class="tok-p">.</span><span class="tok-nx">getOwnPropertyDescriptor</span><span class="tok-p">(</span><span class="tok-nx">Persona</span><span class="tok-p">.</span><span class="tok-nx">prototype</span><span class="tok-p">,</span> <span class="tok-s2">&quot;nombreCompleto&quot;</span><span class="tok-p">);</span>  <i class="conum" data-value="5"></i><b>(5)</b>
      <span class="tok-k">return</span> <span class="tok-nx">desc</span><span class="tok-p">.</span><span class="tok-nx">get</span><span class="tok-p">.</span><span class="tok-nx">call</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">)</span> <span class="tok-o">+</span> <span class="tok-s2">&quot;, &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">cargo</span><span class="tok-p">;</span> <i class="conum" data-value="6"></i><b>(6)</b>
    <span class="tok-p">},</span>
    <span class="tok-nx">enumerable</span><span class="tok-o">:</span> <span class="tok-kc">true</span>
  <span class="tok-p">}</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Redefinimos el prototipo de <code>Empleado</code> con el de <code>Persona</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Dentro del método que sobreescribimos, podemos realizar una llamada al mismo método pero del padre, haciendo uso de <code>call</code> para redefinir el objeto <code>this</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Podemos marcar el método como no modificable para evitar que se pueda sobreescribir</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Si queremos, también podemos sobreescribir los descritores de propiedades</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Para acceder a una propiedad del padre hemos de hacerlo mediante <code>Object.getOwnPropertyDescriptor</code></td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Igual que en punto 2, accedemos al descriptor pero asociándole el objeto <code>this</code> del hijo al padre.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Un artículo interesante sobre la OO y la herencia en <em>JavaScript</em> es <em>OOP in JavaScript: What you NEED to know</em>:
<a href="http://javascriptissexy.com/oop-in-javascript-what-you-need-to-know/" class="bare">http://javascriptissexy.com/oop-in-javascript-what-you-need-to-know/</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__code_this_code_y_el_patrón_invocación">2.8. <code>this</code> y el patrón invocación</h3>
<div class="paragraph">
<p>Una de las cosas que diferencia <em>JavaScript</em> de otros lenguajes de programación es que la variable <code>this</code> toma diferentes valores dependiendo de cómo se invoque la función o fragmento donde se encuentra.</p>
</div>
<div class="paragraph">
<p>A la hora de invocar una función lo podemos hacer de cuatro maneras, las cuales se conocen como el <em>patrón invocación</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>El patrón de invocación como método</p>
</li>
<li>
<p>El patrón de invocación como función</p>
</li>
<li>
<p>El patrón de invocación como constructor</p>
</li>
<li>
<p>El patrón de invocación con <em>apply</em> y <em>call</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Este patrón define como se inicializa <code>this</code> en cada caso.</p>
</div>
<div class="sect3">
<h4 id="_invocación_como_método">2.8.1. Invocación como método</h4>
<div class="paragraph">
<p>Se conoce como método a aquella función que se almacena como una propiedad de un objeto. En este caso <code>this</code> se inicializa con el objeto al que pertenece la función.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">obj</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
	<span class="tok-nx">valor</span> <span class="tok-o">:</span> <span class="tok-mi">0</span><span class="tok-p">,</span>
	<span class="tok-nx">incrementar</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">inc</span><span class="tok-p">){</span>
		<span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">valor</span> <span class="tok-o">+=</span> <span class="tok-nx">inc</span><span class="tok-p">;</span>
	<span class="tok-p">}</span>
<span class="tok-p">};</span>

<span class="tok-nx">obj</span><span class="tok-p">.</span><span class="tok-nx">incrementar</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">obj</span><span class="tok-p">.</span><span class="tok-nx">valor</span><span class="tok-p">);</span> <span class="tok-c1">// 3</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Al asociarse el valor de <code>this</code> en tiempo de invocación (y no de compilación), fomenta que el código sea altamente reutilizable.</p>
</div>
<div class="paragraph">
<p>Los métodos que hacen uso de <code>this</code> para obtener el contexto del objeto se conocen como <em>métodos públicos</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_invocación_como_función">2.8.2. Invocación como Función</h4>
<div class="paragraph">
<p>Cuando una función no es una propiedad de un objeto, se invoca como función, y <code>this</code> se inicializa con el objeto global (al trabajar con un navegador, el objeto <code>window</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">suma</span><span class="tok-p">(</span><span class="tok-nx">a</span><span class="tok-p">,</span><span class="tok-nx">b</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">a</span><span class="tok-o">+</span><span class="tok-nx">b</span><span class="tok-p">);</span>
	<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">);</span>
<span class="tok-p">}</span>
<span class="tok-nx">suma</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">5</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Y por la consola aparece tanto el resultado como todo el objeto <code>window</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="console"><span class="tok-go">8</span>
<span class="tok-go">Window {top: Window, window: Window, location: Location, ... }</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Esto puede ser un problema, ya que cuando llamamos a una función dentro de otra, <code>this</code> sigue referenciando al objeto global y si queremos acceder al <code>this</code> de la función padre tenemos que almacenarlo previamente en una variable:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">obj</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
  <span class="tok-nx">valor</span><span class="tok-o">:</span> <span class="tok-mi">0</span><span class="tok-p">,</span>
  <span class="tok-nx">incrementar</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">inc</span><span class="tok-p">)</span> <span class="tok-p">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tok-kd">var</span> <span class="tok-nx">that</span> <span class="tok-o">=</span> <span class="tok-k">this</span><span class="tok-p">;</span>

    <span class="tok-kd">function</span> <span class="tok-nx">otraFuncion</span><span class="tok-p">(</span><span class="tok-nx">unValor</span><span class="tok-p">)</span> <span class="tok-p">{</span>  <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="tok-nx">that</span><span class="tok-p">.</span><span class="tok-nx">valor</span> <span class="tok-o">+=</span> <span class="tok-nx">unValor</span><span class="tok-p">;</span>
    <span class="tok-p">}</span>

    <span class="tok-nx">otraFuncion</span><span class="tok-p">(</span><span class="tok-nx">inc</span><span class="tok-p">);</span>
  <span class="tok-p">}</span>
<span class="tok-p">};</span>

<span class="tok-nx">obj</span><span class="tok-p">.</span><span class="tok-nx">incrementar</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">obj</span><span class="tok-p">.</span><span class="tok-nx">valor</span><span class="tok-p">);</span> <span class="tok-c1">// 3</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Se invoca como método y <code>this</code> referencia al propio objeto</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Se invoca como función y <code>this</code> referencia al objeto global</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Y si hacemos uso de <code>call</code> podemos conseguir lo mismo pero sin necesidad de almacenar <code>this</code> en una variable auxiliar:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">objBind</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
  <span class="tok-nx">valor</span><span class="tok-o">:</span> <span class="tok-mi">0</span><span class="tok-p">,</span>
  <span class="tok-nx">incrementar</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">inc</span><span class="tok-p">)</span> <span class="tok-p">{</span>
    <span class="tok-kd">function</span> <span class="tok-nx">otraFuncion</span><span class="tok-p">(</span><span class="tok-nx">unValor</span><span class="tok-p">)</span> <span class="tok-p">{</span>
      <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">valor</span> <span class="tok-o">+=</span> <span class="tok-nx">unValor</span><span class="tok-p">;</span>
    <span class="tok-p">}</span>
    <span class="tok-nx">otraFuncion</span><span class="tok-p">.</span><span class="tok-nx">call</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">,</span> <span class="tok-nx">inc</span><span class="tok-p">);</span>  <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="tok-p">}</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Al invocar a una función, le indicamos que toma la referencia <code>this</code> del objeto en vez del global</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_invocación_como_constructor">2.8.3. Invocación como constructor</h4>
<div class="paragraph">
<p>Ya hemos visto que <em>JavaScript</em> ofrece una sintaxis similar a la creación de objetos en Java. Dicho esto, cuando invocamos una función mediante <code>new</code> se creará un objeto con una referencia al valor de la propiedad <code>prototype</code> de la función (también llamado constructor) y <code>this</code> tendrá una referencia a este nuevo objeto.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">Persona</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span> <span class="tok-c1">// constructor</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;Aitor&#39;</span><span class="tok-p">;</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Medrano&quot;</span><span class="tok-p">;</span>
<span class="tok-p">}</span>

<span class="tok-nx">Persona</span><span class="tok-p">.</span><span class="tok-nx">prototype</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(){</span>
  <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
<span class="tok-p">}</span>

<span class="tok-kd">var</span> <span class="tok-nx">p</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">Persona</span><span class="tok-p">();</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">p</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span><span class="tok-p">());</span> <span class="tok-c1">// Aitor Medrano</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="invocacion-apply">2.8.4. Invocación con <code>apply</code></h4>
<div class="paragraph">
<p>Como <em>JavaScript</em> es un lenguaje orientado a objetos funcional, las funciones pueden contener métodos.</p>
</div>
<div class="paragraph">
<p>El método <code>apply</code> nos permite, además de construir un <em>array</em> de argumentos que usaremos al invocar una función, elegir el valor que tendrá <code>this</code>, lo cual permite reescribir el valor de <code>this</code> en tiempo de ejecución.</p>
</div>
<div class="paragraph">
<p>Para ello, <code>apply</code> recibe 2 parámetros, el primero es el valor para <code>this</code> y el segundo es un <em>array</em> de parámetros.</p>
</div>
<div class="paragraph">
<p>Usando el ejemplo anterior de prototipado, vamos a cambiar el <code>this</code> utilizando <em>apply</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">Persona</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span> <span class="tok-c1">// constructor</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Aitor&quot;</span><span class="tok-p">;</span>
  <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Medrano&quot;</span><span class="tok-p">;</span>
<span class="tok-p">}</span>

<span class="tok-nx">Persona</span><span class="tok-p">.</span><span class="tok-nx">prototype</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(){</span>
  <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">apellido1</span><span class="tok-p">;</span>
<span class="tok-p">}</span>

<span class="tok-kd">var</span> <span class="tok-nx">otraPersona</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
  <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Rubén&quot;</span><span class="tok-p">,</span>
  <span class="tok-nx">apellido1</span><span class="tok-o">:</span> <span class="tok-s2">&quot;Inoto&quot;</span>
<span class="tok-p">}</span>

<span class="tok-kd">var</span> <span class="tok-nx">p</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">Persona</span><span class="tok-p">();</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">p</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span><span class="tok-p">());</span> <span class="tok-c1">// Aitor Medrano</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">p</span><span class="tok-p">.</span><span class="tok-nx">getNombreCompleto</span><span class="tok-p">().</span><span class="tok-nx">apply</span><span class="tok-p">(</span><span class="tok-nx">otraPersona</span><span class="tok-p">));</span> <span class="tok-c1">// Rubén Inoto</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Así pues, el método <code>apply</code> realiza una llamada a una función pasándole tanto el objeto que va a tomar el papel de <code>this</code> como un <em>array</em> con los parámetros que va a utilizar la función.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Autoevaluación - <code>this</code></div>
<div class="paragraph">
<p>¿Cual es el resultado del siguiente fragmento de código? <span class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</span></p>
</div>
<div class="listingblock">
<div class="title"><a href="http://jsbin.com/xuzuhu/1/edit?js" class="bare">http://jsbin.com/xuzuhu/1/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;Bruce Wayne&#39;</span><span class="tok-p">;</span>
<span class="tok-kd">var</span> <span class="tok-nx">obj</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
  <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-s1">&#39;Bruno Díaz&#39;</span><span class="tok-p">,</span>
  <span class="tok-nx">prop</span><span class="tok-o">:</span> <span class="tok-p">{</span>
    <span class="tok-nx">nombre</span><span class="tok-o">:</span> <span class="tok-s1">&#39;Aitor Medrano&#39;</span><span class="tok-p">,</span>
    <span class="tok-nx">getNombre</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
      <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">nombre</span><span class="tok-p">;</span>
    <span class="tok-p">}</span>
  <span class="tok-p">}</span>
<span class="tok-p">};</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">obj</span><span class="tok-p">.</span><span class="tok-nx">prop</span><span class="tok-p">.</span><span class="tok-nx">getNombre</span><span class="tok-p">());</span>
<span class="tok-kd">var</span> <span class="tok-nx">test</span> <span class="tok-o">=</span> <span class="tok-nx">obj</span><span class="tok-p">.</span><span class="tok-nx">prop</span><span class="tok-p">.</span><span class="tok-nx">getNombre</span><span class="tok-p">;</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">test</span><span class="tok-p">());</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_arrays">2.9. Arrays</h3>
<div class="paragraph">
<p>Se trata de un tipo predefinido que, a diferencia de otros lenguajes, es un objeto. Del mismo modo que los tipos básicos, lo podemos crear de la siguiente manera:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">cosas</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nb">Array</span><span class="tok-p">();</span>
<span class="tok-kd">var</span> <span class="tok-nx">tresTipos</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nb">Array</span><span class="tok-p">(</span><span class="tok-mi">11</span><span class="tok-p">,</span> <span class="tok-s2">&quot;hola&quot;</span><span class="tok-p">,</span> <span class="tok-kc">true</span><span class="tok-p">);</span>
<span class="tok-kd">var</span> <span class="tok-nx">longitud</span> <span class="tok-o">=</span> <span class="tok-nx">tresTipos</span><span class="tok-p">.</span><span class="tok-nx">length</span><span class="tok-p">;</span>	<span class="tok-c1">// 3</span>
<span class="tok-kd">var</span> <span class="tok-nx">once</span> <span class="tok-o">=</span> <span class="tok-nx">tresTipos</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">];</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Podemos observar que en <em>JavaScript</em> los arrays pueden contener tipos diferentes, que el primer elemento es el 0 y que podemos obtener su longitud mediante la propiedad <code>length</code>.</p>
</div>
<div class="paragraph">
<p>Igual que antes, aunque se pueden crear los arrays de este modo, realmente se crean e inicializan con la notación de corchetes de JSON:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">tresTipos</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">11</span><span class="tok-p">,</span> <span class="tok-s2">&quot;hola&quot;</span><span class="tok-p">,</span> <span class="tok-kc">true</span><span class="tok-p">];</span>
<span class="tok-kd">var</span> <span class="tok-nx">once</span> <span class="tok-o">=</span> <span class="tok-nx">tresTipos</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">];</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Podemos añadir elementos sobre la marcha y en la posiciones que queramos (aunque se recomienda añadir los elementos en posiciones secuenciales).</p>
</div>
<div class="listingblock">
<div class="title">Accediendo a arrays - <a href="http://jsbin.com/zegepa/2/edit?js" class="bare">http://jsbin.com/zegepa/2/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">tresTipos</span><span class="tok-p">[</span><span class="tok-mi">3</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-mi">15</span><span class="tok-p">;</span>
<span class="tok-nx">tresTipos</span><span class="tok-p">[</span><span class="tok-nx">tresTipos</span><span class="tok-p">.</span><span class="tok-nx">length</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Bruce&quot;</span><span class="tok-p">;</span>
<span class="tok-kd">var</span> <span class="tok-nx">longitud2</span> <span class="tok-o">=</span> <span class="tok-nx">tresTipos</span><span class="tok-p">.</span><span class="tok-nx">length</span><span class="tok-p">;</span> <span class="tok-c1">// 5</span>
<span class="tok-nx">tresTipos</span><span class="tok-p">[</span><span class="tok-mi">8</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Wayne&quot;</span><span class="tok-p">;</span>
<span class="tok-kd">var</span> <span class="tok-nx">longitud3</span> <span class="tok-o">=</span> <span class="tok-nx">tresTipos</span><span class="tok-p">.</span><span class="tok-nx">length</span><span class="tok-p">;</span> <span class="tok-c1">// 9</span>
<span class="tok-kd">var</span> <span class="tok-nx">nada</span> <span class="tok-o">=</span> <span class="tok-nx">tresTipos</span><span class="tok-p">[</span><span class="tok-mi">7</span><span class="tok-p">];</span> <span class="tok-c1">// undefined</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Cabe destacar que si accedemos a un elemento que no contiene ningún dato obtendremos <code>undefined</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Autoevaluación</div>
<div class="paragraph">
<p>¿Sabes cual es el contenido del array <code>tiposTres</code> tras ejecutar todas las instrucciones? <span class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnote_2" title="View footnote.">2</a>]</span></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Por lo tanto, si añadimos elementos en posiciones mayores al tamaño del array, éste crecerá con valores <code>undefined</code> hasta el elemento que añadamos.</p>
</div>
<div class="paragraph">
<p>Si en algún momento quisiéramos eliminar un elemento del array, hemos de usar el operador <code>delete</code> sobre el elemento en cuestión.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-k">delete</span> <span class="tok-nx">tresTipos</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">];</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>El problema es que <code>delete</code> deja el hueco, y por tanto, la longitud del array no se ve reducida, asignándole <code>undefined</code> al elemento en cuestión.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Array de palabras</div>
<div class="paragraph">
<p>Al trabajar con una cadena de texto, una operación que se utiliza mucho es, dividirla en trozos a partir de un separador. Al utilizar el método <code>String.split(separador)</code>, éste devolverá un array de cadenas con cada uno de los trozos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">frase</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Yo soy Batman&quot;</span><span class="tok-p">;</span>
<span class="tok-kd">var</span> <span class="tok-nx">arrayPalabras</span> <span class="tok-o">=</span> <span class="tok-nx">frase</span><span class="tok-p">.</span><span class="tok-nx">split</span><span class="tok-p">(</span><span class="tok-s2">&quot; &quot;</span><span class="tok-p">);</span>
<span class="tok-kd">var</span> <span class="tok-nx">yo</span> <span class="tok-o">=</span> <span class="tok-nx">arrayPalabras</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">];</span>
<span class="tok-kd">var</span> <span class="tok-nx">soy</span> <span class="tok-o">=</span> <span class="tok-nx">arrayPalabras</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">];</span>
<span class="tok-kd">var</span> <span class="tok-nx">Batman</span> <span class="tok-o">=</span> <span class="tok-nx">arrayPalabras</span><span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">];</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_manipulación">2.9.1. Manipulación</h4>
<div class="paragraph">
<p>Los arrays soportan los siguientes métodos para trabajar con elementos individuales:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Métodos</th>
<th class="tableblock halign-left valign-top">Propósito</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">pop()</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extrae y devuelve el último elemento del array</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">push(<em>elemento</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Añade el <em>elemento</em> en la última posición</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">shift()</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extrae y devuelve el primer elemento del array</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">unshift(<em>elemento</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Añade el <em>elemento</em> en la primera posición</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Modificando un array - <a href="http://jsbin.com/kefexa/6/edit?js" class="bare">http://jsbin.com/kefexa/6/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">notas</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s1">&#39;Suspenso&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;Aprobado&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;Bien&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;Notable&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;Sobresaliente&#39;</span><span class="tok-p">];</span>

<span class="tok-nx">notas</span><span class="tok-p">.</span><span class="tok-nx">push</span><span class="tok-p">(</span><span class="tok-s1">&#39;Matrícula de Honor&#39;</span><span class="tok-p">);</span>
<span class="tok-kd">var</span> <span class="tok-nx">matricula</span> <span class="tok-o">=</span> <span class="tok-nx">notas</span><span class="tok-p">.</span><span class="tok-nx">pop</span><span class="tok-p">();</span> <span class="tok-c1">// &quot;Matrícula de Honor&quot;</span>
<span class="tok-kd">var</span> <span class="tok-nx">suspenso</span> <span class="tok-o">=</span> <span class="tok-nx">notas</span><span class="tok-p">.</span><span class="tok-nx">shift</span><span class="tok-p">();</span> <span class="tok-c1">// &quot;Suspenso&quot;</span>
<span class="tok-nx">notas</span><span class="tok-p">.</span><span class="tok-nx">unshift</span><span class="tok-p">(</span><span class="tok-s1">&#39;Suspendido&#39;</span><span class="tok-p">);</span>

<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">notas</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Además, podemos usar los siguiente métodos que modifican los arrays en su conjunto:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Métodos</th>
<th class="tableblock halign-left valign-top">Propósito</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">concat(<em>array2</em>[,&#8230;&#8203;, <em>arrayN</em>])</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Une dos o más arrays</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">join(<em>separador</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Concatena las partes de un array en una cadena, indicándole como parámetro el <em>separador</em> a utilizar</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">reverse()</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invierte el orden de los elementos del array, mutando el array</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">sort()</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordena los elementos del array alfabéticamente, mutando el array</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">sort(<em>fcomparacion</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordena los elementos del array mediante la función <em>fcomparacion</em></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">slice(<em>inicio</em>, <em>fin</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Devuelve un nuevo array con una copia con los elementos comprendidos entre <em>inicio</em> y <em>fin</em> (con índice <code>0</code>, y sin incluir <em>fin</em>).</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">splice(<em>índice</em>, <em>cantidad</em>, <em>elem1</em>[, &#8230;&#8203;, <em>elemN</em>])</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modifica el contenido del array, añadiendo nuevos elementos mientras elimina los antiguos seleccionando a partir de <em>índice</em> la <em>cantidad</em> de elementos indicados. Si <em>cantidad</em> es 0, sólo inserta los nuevos elementos.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Hay que tener en cuenta que los métodos mutables modifican el array sobre el que se realiza la operación:</p>
</div>
<div class="listingblock">
<div class="title">Modificando un array - <a href="http://jsbin.com/kefexa/6/edit?js" class="bare">http://jsbin.com/kefexa/6/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">notas</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s1">&#39;Suspenso&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;Aprobado&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;Bien&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;Notable&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;Sobresaliente&#39;</span><span class="tok-p">];</span>

<span class="tok-nx">notas</span><span class="tok-p">.</span><span class="tok-nx">reverse</span><span class="tok-p">();</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">notas</span><span class="tok-p">);</span>  <span class="tok-c1">// [&quot;Sobresaliente&quot;, &quot;Notable&quot;, &quot;Bien&quot;, &quot;Aprobado&quot;, &quot;Suspenso&quot;]</span>

<span class="tok-nx">notas</span><span class="tok-p">.</span><span class="tok-nx">sort</span><span class="tok-p">();</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">notas</span><span class="tok-p">);</span>  <span class="tok-c1">// [&quot;Aprobado&quot;, &quot;Bien&quot;, &quot;Notable&quot;, &quot;Sobresaliente&quot;, &quot;Suspenso&quot;]</span>

<span class="tok-nx">notas</span><span class="tok-p">.</span><span class="tok-nx">splice</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-mi">4</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Apto&quot;</span><span class="tok-p">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">notas</span><span class="tok-p">);</span> <span class="tok-c1">// [&quot;Apto&quot;, &quot;Suspenso&quot;]</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A partir de la posición 0, borra 4 elementos y añade <code>"Apto"</code>.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Autoevaluación</div>
<div class="paragraph">
<p>¿Cual es el valor de la variables <code>iguales</code>? <span class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnote_3" title="View footnote.">3</a>]</span></p>
</div>
<div class="listingblock">
<div class="title">Arrays Autoevaluación - <a href="http://jsbin.com/gawaju/1/edit?js" class="bare">http://jsbin.com/gawaju/1/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">nombreChicos</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s2">&quot;Juan&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Antonio&quot;</span><span class="tok-p">];</span>
<span class="tok-nx">nombreChicos</span><span class="tok-p">.</span><span class="tok-nx">push</span><span class="tok-p">(</span><span class="tok-s2">&quot;Pedro&quot;</span><span class="tok-p">);</span>
<span class="tok-kd">var</span> <span class="tok-nx">nombreChicas</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s2">&quot;Ana&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Laura&quot;</span><span class="tok-p">];</span>
<span class="tok-kd">var</span> <span class="tok-nx">nombres</span> <span class="tok-o">=</span> <span class="tok-nx">nombreChicos</span><span class="tok-p">.</span><span class="tok-nx">concat</span><span class="tok-p">(</span><span class="tok-nx">nombreChicas</span><span class="tok-p">);</span>
<span class="tok-kd">var</span> <span class="tok-nx">separadoConGuiones</span> <span class="tok-o">=</span> <span class="tok-nx">nombres</span><span class="tok-p">.</span><span class="tok-nx">join</span><span class="tok-p">(</span><span class="tok-s2">&quot;-&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">nombres</span><span class="tok-p">.</span><span class="tok-nx">reverse</span><span class="tok-p">();</span>
<span class="tok-kd">var</span> <span class="tok-nx">alfa</span> <span class="tok-o">=</span> <span class="tok-nx">nombres</span><span class="tok-p">[</span><span class="tok-mi">3</span><span class="tok-p">];</span>
<span class="tok-nx">nombres</span><span class="tok-p">.</span><span class="tok-nx">sort</span><span class="tok-p">();</span>
<span class="tok-kd">var</span> <span class="tok-nx">iguales</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-nx">alfa</span> <span class="tok-o">==</span> <span class="tok-nx">nombres</span><span class="tok-p">[</span><span class="tok-mi">2</span><span class="tok-p">]);</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Una operación muy usual es querer ordenar un array de objetos por un determinado campo del objeto. Supongamos que tenemos los siguientes datos:</p>
</div>
<div class="listingblock">
<div class="title">Ordenando Array de Objetos - <a href="http://jsbin.com/toluxe/edit?js" class="bare">http://jsbin.com/toluxe/edit?js</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">personas</span> <span class="tok-o">=</span> <span class="tok-p">[</span>
  <span class="tok-p">{</span><span class="tok-nx">nombre</span><span class="tok-o">:</span><span class="tok-s2">&quot;Aitor&quot;</span><span class="tok-p">,</span> <span class="tok-nx">apellido1</span><span class="tok-o">:</span><span class="tok-s2">&quot;Medrano&quot;</span><span class="tok-p">},</span>
  <span class="tok-p">{</span><span class="tok-nx">nombre</span><span class="tok-o">:</span><span class="tok-s2">&quot;Domingo&quot;</span><span class="tok-p">,</span> <span class="tok-nx">apellido1</span><span class="tok-o">:</span><span class="tok-s2">&quot;Gallardo&quot;</span><span class="tok-p">},</span>
  <span class="tok-p">{</span><span class="tok-nx">nombre</span><span class="tok-o">:</span><span class="tok-s2">&quot;Alejandro&quot;</span><span class="tok-p">,</span> <span class="tok-nx">apellido1</span><span class="tok-o">:</span><span class="tok-s2">&quot;Such&quot;</span><span class="tok-p">}</span>
<span class="tok-p">];</span>

<span class="tok-nx">personas</span><span class="tok-p">.</span><span class="tok-nx">sort</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">a</span><span class="tok-p">,</span><span class="tok-nx">b</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">a</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">&lt;</span> <span class="tok-nx">b</span><span class="tok-p">.</span><span class="tok-nx">nombre</span><span class="tok-p">)</span>
    <span class="tok-k">return</span> <span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">;</span>
  <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">a</span><span class="tok-p">.</span><span class="tok-nx">nombre</span> <span class="tok-o">&gt;</span> <span class="tok-nx">b</span><span class="tok-p">.</span><span class="tok-nx">nombre</span><span class="tok-p">)</span>
    <span class="tok-k">return</span> <span class="tok-mi">1</span><span class="tok-p">;</span>
  <span class="tok-k">return</span> <span class="tok-mi">0</span><span class="tok-p">;</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Por lo tanto, la función de comparación siempre tendrá la siguiente forma:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">compare</span><span class="tok-p">(</span><span class="tok-nx">a</span><span class="tok-p">,</span> <span class="tok-nx">b</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">a</span> <span class="tok-nx">es</span> <span class="tok-nx">menor</span> <span class="tok-nx">que</span> <span class="tok-nx">b</span> <span class="tok-nx">seg</span><span class="tok-err">ú</span><span class="tok-nx">n</span> <span class="tok-nx">criterio</span> <span class="tok-nx">de</span> <span class="tok-nx">ordenamiento</span><span class="tok-p">)</span> <span class="tok-p">{</span>
    <span class="tok-k">return</span> <span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">;</span>
  <span class="tok-p">}</span>
  <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">a</span> <span class="tok-nx">es</span> <span class="tok-nx">mayor</span> <span class="tok-nx">que</span> <span class="tok-nx">b</span> <span class="tok-nx">seg</span><span class="tok-err">ú</span><span class="tok-nx">n</span> <span class="tok-nx">criterio</span> <span class="tok-nx">de</span> <span class="tok-nx">ordenamiento</span><span class="tok-p">)</span> <span class="tok-p">{</span>
    <span class="tok-k">return</span> <span class="tok-mi">1</span><span class="tok-p">;</span>
  <span class="tok-p">}</span>
  <span class="tok-c1">// a debe ser igual b</span>
  <span class="tok-k">return</span> <span class="tok-mi">0</span><span class="tok-p">;</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Finalmente, vamos a estudiar los métodos <code>slice</code> y <code>splice</code> que son menos comunes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">frutas</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s2">&quot;naranja&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;pera&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;manzana&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;uva&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;fresa&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;naranja&quot;</span><span class="tok-p">];</span>
<span class="tok-kd">var</span> <span class="tok-nx">arrayUvaFresa</span> <span class="tok-o">=</span> <span class="tok-nx">frutas</span><span class="tok-p">.</span><span class="tok-nx">slice</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-mi">5</span><span class="tok-p">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-kd">var</span> <span class="tok-nx">uvaFresa</span> <span class="tok-o">=</span> <span class="tok-nx">frutas</span><span class="tok-p">.</span><span class="tok-nx">splice</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-s2">&quot;piña&quot;</span><span class="tok-p">);</span> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Crea un nuevo array con los elementos comprendidos entre el tercero y el quinto, quedando <code>["uva", "fresa"]</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Tras borrar dos elementos a partir de la posición tres, añade <code>piña</code>. En <code>uvaFresa</code> se almacena un array con los elementos eliminados (<code>["uva", "fresa"]</code>), mientras que <code>frutas</code> se queda con <code>["naranja", "pera", "manzana", "piña", "naranja"]</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Si lo que queremos es buscar un determinado elemento dentro de un array:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Método</th>
<th class="tableblock halign-left valign-top">Propósito</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">indexOf(<em>elem</em>[, <em>inicio</em>])</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Devuelve la primera posición (0..n-1) del elemento comenzando desde el principio o desde <em>inicio</em></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">lastIndexOf(<em>elem</em>[, <em>inicio</em>])</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Igual que <code>indexOf</code> pero buscando desde el final hasta el principio</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>En ambos casos, si no encuentra el elemento, devuelve <code>-1</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Autoevaluación</div>
<div class="paragraph">
<p>¿Cual es el valor de la variable <code>ultima</code>?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">frutas</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s2">&quot;naranja&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;pera&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;manzana&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;uva&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;fresa&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;naranja&quot;</span><span class="tok-p">];</span>
<span class="tok-kd">var</span> <span class="tok-nx">primera</span> <span class="tok-o">=</span> <span class="tok-nx">frutas</span><span class="tok-p">.</span><span class="tok-nx">indexOf</span><span class="tok-p">(</span><span class="tok-s2">&quot;naranja&quot;</span><span class="tok-p">);</span>
<span class="tok-kd">var</span> <span class="tok-nx">ultima</span> <span class="tok-o">=</span> <span class="tok-nx">frutas</span><span class="tok-p">.</span><span class="tok-nx">lastIndexOf</span><span class="tok-p">(</span><span class="tok-s2">&quot;naranja&quot;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_iteración">2.9.2. Iteración</h4>
<div class="paragraph">
<p>Los siguiente métodos aceptan una función <em>callback</em> como primer argumento e invocan dicha función para cada elemento del array. La función que le pasamos a los métodos reciben tres parámetros:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>El valor del elemento del array</p>
</li>
<li>
<p>El índice del elemento</p>
</li>
<li>
<p>El propio array</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>La mayoría de las veces sólo necesitamos utilizar el valor.</p>
</div>
<div class="paragraph">
<p>Los métodos que podemos utilizar son:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Método</th>
<th class="tableblock halign-left valign-top">Propósito</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">forEach(<em>función</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ejecuta la función para cada elemento del array</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">map(<em>función</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ejecuta la función para cada elemento del array, y el nuevo valor se inserta como un elemento del nuevo array que devuelve.</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">every(<em>función</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verdadero si la función se cumple para todos los valores. Falso en caso contrario (Similar a una conjunción &#8594; Y)</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">some(<em>función</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verdadero si la función se cumple para al menos un valor. Falso si no se cumple para ninguno de los elementos (Similar a un disyunción &#8594; O)</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">filter(<em>función</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Devuelve un nuevo array con los elementos que cumplen la función</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">reduce(<em>función</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ejecuta la función para un acumulador y cada valor del array (de inicio a fin) se reduce a un único valor</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A continuación vamos a estudiar algunos de estos métodos mediante ejemplos.</p>
</div>
<div class="paragraph">
<p>Si queremos pasar a mayúsculas todos los elementos del array, podemos usar la función <code>map()</code>, la cual se ejecuta para cada elemento del array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">heroes</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s2">&quot;Batman&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Superman&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Ironman&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Thor&quot;</span><span class="tok-p">];</span>

<span class="tok-kd">function</span> <span class="tok-nx">mayus</span><span class="tok-p">(</span><span class="tok-nx">valor</span><span class="tok-p">,</span> <span class="tok-nx">indice</span><span class="tok-p">,</span> <span class="tok-nx">array</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-nx">valor</span><span class="tok-p">.</span><span class="tok-nx">toUpperCase</span><span class="tok-p">();</span>
<span class="tok-p">}</span>

<span class="tok-kd">var</span> <span class="tok-nx">heroesMayus</span> <span class="tok-o">=</span> <span class="tok-nx">heroes</span><span class="tok-p">.</span><span class="tok-nx">map</span><span class="tok-p">(</span><span class="tok-nx">mayus</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">heroesMayus</span><span class="tok-p">);</span> <span class="tok-c1">// [&quot;BATMAN&quot;, &quot;SUPERMAN&quot;, &quot;IRONMAN&quot;, &quot;THOR&quot;]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>O si queremos mostrar todos los elementos del array, podemos hacer uso del método <code>forEach</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">heroes</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s2">&quot;Batman&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Superman&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Ironman&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;Thor&quot;</span><span class="tok-p">];</span>
<span class="tok-nx">heroes</span><span class="tok-p">.</span><span class="tok-nx">forEach</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">valor</span><span class="tok-p">,</span> <span class="tok-nx">indice</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;[&quot;</span><span class="tok-p">,</span> <span class="tok-nx">indice</span><span class="tok-p">,</span> <span class="tok-s2">&quot;]=&quot;</span><span class="tok-p">,</span> <span class="tok-nx">valor</span><span class="tok-p">);</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>O si tenemos un array con números también podemos sumarlos mediante <code>forEach</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">numeros</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-mi">5</span><span class="tok-p">,</span> <span class="tok-mi">7</span><span class="tok-p">,</span> <span class="tok-mi">9</span><span class="tok-p">];</span>
<span class="tok-kd">var</span> <span class="tok-nx">suma</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-p">;</span>
<span class="tok-nx">numeros</span><span class="tok-p">.</span><span class="tok-nx">forEach</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">valor</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-nx">suma</span> <span class="tok-o">+=</span> <span class="tok-nx">valor</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si queremos comprobar si todos los elementos de un array son cadenas, podemos utilizar el método <code>every()</code>. Para ello, crearemos una función <code>esCadena</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">esCadena</span><span class="tok-p">(</span><span class="tok-nx">valor</span><span class="tok-p">,</span> <span class="tok-nx">indice</span><span class="tok-p">,</span> <span class="tok-nx">array</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-k">typeof</span> <span class="tok-nx">valor</span> <span class="tok-o">===</span> <span class="tok-s2">&quot;string&quot;</span><span class="tok-p">;</span>
<span class="tok-p">}</span>

<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">frutas</span><span class="tok-p">.</span><span class="tok-nx">every</span><span class="tok-p">(</span><span class="tok-nx">esCadena</span><span class="tok-p">));</span> <span class="tok-c1">// true</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si tenemos un array con datos mezclados con textos y números, podemos quedarnos con los elementos que son cadenas mediante la función <code>filter()</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">mezcladillo</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-s2">&quot;dos&quot;</span><span class="tok-p">,</span> <span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-s2">&quot;cuatro&quot;</span><span class="tok-p">,</span> <span class="tok-mi">5</span><span class="tok-p">,</span> <span class="tok-s2">&quot;seis&quot;</span><span class="tok-p">];</span>

<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">mezcladillo</span><span class="tok-p">.</span><span class="tok-nx">filter</span><span class="tok-p">(</span><span class="tok-nx">esCadena</span><span class="tok-p">));</span> <span class="tok-c1">// [&quot;dos&quot;, &quot;cuatro&quot;, &quot;seis&quot;]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Finalmente, mediante la función <code>reduce</code> podemos realizar un cálculo sobre los elementos del array, por ejemplo, podemos contar cuantas veces aparece una ocurrencia dentro de un array o sumar sus elementos. Para ello, la función recibe dos parámetros con el valor anterior y el actual:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">numeros</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-mi">5</span><span class="tok-p">,</span> <span class="tok-mi">7</span><span class="tok-p">,</span> <span class="tok-mi">9</span><span class="tok-p">];</span>
<span class="tok-kd">var</span> <span class="tok-nx">suma</span> <span class="tok-o">=</span> <span class="tok-nx">numeros</span><span class="tok-p">.</span><span class="tok-nx">reduce</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">anterior</span><span class="tok-p">,</span> <span class="tok-nx">actual</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-nx">anterior</span> <span class="tok-o">+</span> <span class="tok-nx">actual</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En el primer paso, como no hay valor anterior, se pasan el primer y el segundo elemento del array (los valores 1 y 3). En siguientes iteraciones, el valor <code>anterior</code> es lo que devuelve el código, y el <code>actual</code> es el siguiente elemento del array. De este modo, estamos cogiendo el valor actual y sumándoselo al valor anterior (el total acumulado)</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title"><code>arguments</code> a array</div>
<div class="paragraph">
<p>Si queremos convertir el pseudo-array <code>arguments</code> de una función a un array verdadero para poder utilizar sus métodos, podemos hacer uso del prototipo del array, para obtener una copia de los los argumentos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">args</span> <span class="tok-o">=</span> <span class="tok-nb">Array</span><span class="tok-p">.</span><span class="tok-nx">prototype</span><span class="tok-p">.</span><span class="tok-nx">slice</span><span class="tok-p">.</span><span class="tok-nx">call</span><span class="tok-p">(</span><span class="tok-nx">arguments</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_destructurar">2.10. Destructurar</h3>
<div class="paragraph">
<p>Una novedad que ofrece ES6 es la posibilidad de destructurar tanto arrays como objetos para transformar una estructura de datos compuesta, tales como objetos y arrays, en diferentes datos individuales. Así pues, en vez de asignar una a una las asignaciones para cada variable mediante múltiples sentencias, al destructurar podemos asignar los valores a múltiples variables en una única sentencia.</p>
</div>
<div class="paragraph">
<p>En el caso de los arrays, hemos de asignar un array a las variables entre corchetes (<code>[]</code>):</p>
</div>
<div class="listingblock">
<div class="title">Destructurando de array a variables</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">numeros</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">10</span><span class="tok-p">,</span> <span class="tok-mi">20</span><span class="tok-p">];</span>
<span class="tok-kd">var</span> <span class="tok-p">[</span><span class="tok-nx">n1</span><span class="tok-p">,</span> <span class="tok-nx">n2</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-nx">numeros</span><span class="tok-p">;</span>   <span class="tok-c1">// destructurando</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">n1</span><span class="tok-p">);</span>          <span class="tok-c1">// 10</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">n2</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>De la misma manera, si queremos extraer los datos de un objeto, lo haremos mediante llaves (<code>{}</code>):</p>
</div>
<div class="listingblock">
<div class="title">Destructurando de objeto a variables</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">posicion</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-nx">x</span><span class="tok-o">:</span> <span class="tok-mi">50</span><span class="tok-p">,</span> <span class="tok-nx">y</span><span class="tok-o">:</span> <span class="tok-mi">100</span><span class="tok-p">};</span>
<span class="tok-kd">var</span> <span class="tok-p">{</span><span class="tok-nx">x</span><span class="tok-p">,</span> <span class="tok-nx">y</span><span class="tok-p">}</span> <span class="tok-o">=</span> <span class="tok-nx">posicion</span><span class="tok-p">;</span>           <span class="tok-c1">// destructurando</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">x</span><span class="tok-p">);</span>                  <span class="tok-c1">// 50</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">y</span><span class="tok-p">);</span>                  <span class="tok-c1">// 100</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>La sintaxis de destructurar también permite emplear su uso como parámetros de las funciones declaración, ya sea un objeto o un array.</p>
</div>
<div class="listingblock">
<div class="title">Destructurando un objeto como parámetro de una función</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">saluda</span><span class="tok-p">(</span><span class="tok-nx">persona2</span><span class="tok-p">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-nx">persona</span><span class="tok-p">.</span><span class="tok-nx">saluda</span><span class="tok-p">({</span><span class="tok-nx">nombre</span><span class="tok-p">,</span> <span class="tok-nx">apellido1</span><span class="tok-p">});</span> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Recibe un objeto como parámetro, y por tanto dentro de la función saluda accederá a los elementos mediante <code>persona2.nombre</code> y <code>persona2.apellido1</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Recibe un objeto destructurado como parámetro, y por tanto dentro de la función saluda accederá a los elementos mediante <code>nombre</code> y <code>apellido1</code> directamente</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Más información en <a href="https://developer.mozilla.org/es/docs/Web/JavaScript/Referencia/Operadores/Destructuring_assignment" class="bare">https://developer.mozilla.org/es/docs/Web/JavaScript/Referencia/Operadores/Destructuring_assignment</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_ejercicios">2.11. Ejercicios</h3>
<div class="sect3">
<h4 id="__0_4_ptos_ejercicio_21_objeto_usuario">2.11.1. (0.4 ptos) Ejercicio 21. Objeto Usuario</h4>
<div class="paragraph">
<p>A partir del siguiente objeto el cual se crea mediante una función factoría:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">crearUsuario</span><span class="tok-p">(</span><span class="tok-nx">usu</span><span class="tok-p">,</span> <span class="tok-nx">pas</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">return</span> <span class="tok-p">{</span>
    <span class="tok-nx">login</span><span class="tok-o">:</span> <span class="tok-nx">usu</span><span class="tok-p">,</span>
    <span class="tok-nx">password</span><span class="tok-o">:</span> <span class="tok-nx">pas</span><span class="tok-p">,</span>
    <span class="tok-nx">autenticar</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">usu</span><span class="tok-p">,</span> <span class="tok-nx">pas</span><span class="tok-p">)</span> <span class="tok-p">{</span>
      <span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">login</span> <span class="tok-o">===</span> <span class="tok-nx">usu</span> <span class="tok-o">&amp;&amp;</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">password</span> <span class="tok-o">==</span> <span class="tok-nx">pas</span><span class="tok-p">;</span>
    <span class="tok-p">}</span>
  <span class="tok-p">};</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Refactoriza el código utilizando una función constructor que haga uso de descriptores de datos y acceso, de manera que no permita consultar el <em>password</em> una vez creado el objeto <code>Usuario</code>.</p>
</div>
<div class="paragraph">
<p>Un ejemplo de ejecución sería:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">usuario</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nx">Usuario</span><span class="tok-p">(</span><span class="tok-s2">&quot;l1&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;p1&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;login: &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">usuario</span><span class="tok-p">.</span><span class="tok-nx">login</span><span class="tok-p">);</span> <span class="tok-c1">// l1</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;password: &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">usuario</span><span class="tok-p">.</span><span class="tok-nx">password</span><span class="tok-p">);</span> <span class="tok-c1">// undefined</span>
<span class="tok-nx">usuario</span><span class="tok-p">.</span><span class="tok-nx">password</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;p2&quot;</span><span class="tok-p">;</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;password: &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">usuario</span><span class="tok-p">.</span><span class="tok-nx">password</span><span class="tok-p">);</span> <span class="tok-c1">// undefined</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;auth? &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">usuario</span><span class="tok-p">.</span><span class="tok-nx">autenticar</span><span class="tok-p">(</span><span class="tok-s2">&quot;l1&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;l1&quot;</span><span class="tok-p">));</span> <span class="tok-c1">// false</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;auth? &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">usuario</span><span class="tok-p">.</span><span class="tok-nx">autenticar</span><span class="tok-p">(</span><span class="tok-s2">&quot;l1&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;p1&quot;</span><span class="tok-p">));</span> <span class="tok-c1">// true</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>El método <code>autenticar</code> quedará como un método el objeto, es decir, no como una propiedad <em>get/set</em>.</p>
</div>
<div class="paragraph">
<p>El objeto se almacenará en una archivo denominado <code>ej21.js</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="__0_4_ptos_ejercicio_22_herencia">2.11.2. (0.4 ptos) Ejercicio 22. Herencia</h4>
<div class="paragraph">
<p>Crea un objeto <code>Persona</code> que herede de <code>Usuario</code>, pero que añada atributos para almacenar el <em>nombre</em> y el <em>email</em>.</p>
</div>
<div class="paragraph">
<p>Al recuperar el nombre de una persona, si no tiene ninguno, debe devolver el login del usuario.</p>
</div>
<div class="paragraph">
<p>Tanto el objeto <code>Usuario</code> como el objeto <code>Persona</code> se almacenarán en un archivo denominado <code>ej22.js</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="__0_3_ptos_ejercicio_23_code_string_repetir_code">2.11.3. (0.3 ptos) Ejercicio 23. <code>String.repetir()</code></h4>
<div class="paragraph">
<p>Define una función <code>repetir</code> dentro del objeto <code>String</code> para que, haciendo uso del prototipo, acepte un entero con el número de ocasiones que tiene que repetir la cadena. Por ejemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Viva JavaScript &quot;</span><span class="tok-p">.</span><span class="tok-nx">repetir</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">));</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En el caso de recibir un tipo inesperado o negativo, deberá lanzar un error informativo.</p>
</div>
<div class="paragraph">
<p>La función se almacenará en una archivo denominado <code>ej23.js</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="__0_4_ptos_ejercicio_24_arrays">2.11.4. (0.4 ptos) Ejercicio 24. Arrays</h4>
<div class="paragraph">
<p>Sin utilizar las instrucciones <code>for</code> ni <code>while</code>, realiza las siguientes funciones:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Función <code>reverseCopia(array)</code> que a partir de un array, devuelva una copia del mismo pero en orden inverso (no se puede utilizar el método <code>reverse</code>)</p>
</li>
<li>
<p>Función <code>union(array1, array2 [,&#8230;&#8203;arrayN])</code> que a partir de un número variable de arrays, devuelva un array con la unión de sus elementos.. Cada elemento sólo debe aparecer una única vez.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Por ejemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">frutas</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s2">&quot;naranja&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;pera&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;manzana&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;uva&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;fresa&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;kiwi&quot;</span><span class="tok-p">];</span>
<span class="tok-kd">var</span> <span class="tok-nx">saturf</span> <span class="tok-o">=</span> <span class="tok-nx">miReverse</span><span class="tok-p">(</span><span class="tok-nx">frutas</span><span class="tok-p">);</span>

<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">frutas</span><span class="tok-p">);</span> <span class="tok-c1">// [&quot;naranja&quot;, &quot;pera&quot;, &quot;manzana&quot;, &quot;uva&quot;, &quot;fresa&quot;, &quot;kiwi&quot;]</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">saturf</span><span class="tok-p">);</span> <span class="tok-c1">// [&quot;kiwi&quot;, &quot;fresa&quot;, &quot;uva&quot;, &quot;manzana&quot;, &quot;pera&quot;, &quot;naranja&quot;]</span>

<span class="tok-kd">var</span> <span class="tok-nx">zumos</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s2">&quot;piña&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;melocotón&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;manzana&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;naranja&quot;</span><span class="tok-p">];</span>
<span class="tok-kd">var</span> <span class="tok-nx">batidos</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s2">&quot;fresa&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;coco&quot;</span><span class="tok-p">,</span> <span class="tok-s2">&quot;chocolate&quot;</span><span class="tok-p">];</span>

<span class="tok-kd">var</span> <span class="tok-nx">sabores</span> <span class="tok-o">=</span> <span class="tok-nx">union</span><span class="tok-p">(</span><span class="tok-nx">frutas</span><span class="tok-p">,</span> <span class="tok-nx">zumos</span><span class="tok-p">,</span> <span class="tok-nx">batidos</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">sabores</span><span class="tok-p">);</span> <span class="tok-c1">// [&quot;naranja&quot;, &quot;pera&quot;, &quot;manzana&quot;, &quot;uva&quot;, &quot;fresa&quot;, &quot;kiwi&quot;, &quot;piña&quot;, &quot;melocotón&quot;, &quot;coco&quot;, &quot;chocolate&quot;]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>La funciones se almacenarán en una archivo denominado <code>ej24.js</code>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. <code>"Aitor Medrano"</code> y <code>"Bruce Wayne"</code>, en el primer <code>console.log()</code>, <code>getNombre()</code> se invoca como un método de <code>obj.prop</code>, por lo que <code>this</code> toma el valor de la propiedad <code>obj.prop.nombre</code>. En el segundo <code>console.log()</code>, al invocarse como función, la variable <code>test</code> forma parte del objeto global, por ello, la función devuelve el valor de la propiedad <code>nombre</code> del objeto <code>window</code>
</div>
<div class="footnote" id="_footnote_2">
<a href="#_footnoteref_2">2</a>. [11, "hola", true, 15, "Bruce", undefined, undefined, undefined, "Wayne"&#93;
</div>
<div class="footnote" id="_footnote_3">
<a href="#_footnoteref_3">3</a>. <code>false</code>, porque tras darle la vuelta los valores son <code>["Laura, Ana, Pedro, Antonio, Juan"]</code> y al ordenarlos quedan como <code>["Ana, Antonio, Juan, Laura, Pedro"]</code>, por lo que a <code>alfa</code> se asigna el valor <code>Antonio</code>, mientras que <code>nombres[2]</code> queda como <code>Juan</code>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2016-02-23 21:54:11 CET
</div>
</div>
</body>
</html>