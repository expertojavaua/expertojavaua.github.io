<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<meta name="author" content="Aitor Medrano">
<title>JavaScript</title>
<style>/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 97%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: #6f6f6f; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #1164be; text-decoration: none; line-height: inherit; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.4; margin-bottom: 1em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: bold; font-style: normal; color: #1c355e; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #6f6f6f; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: bold; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.4; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 2.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }

blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

/*@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }*/
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; border-bottom: 1px solid #dddddd }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 3px 2px 1px 2px; background-color: #eeeeee; border: 1px solid #dddddd; -webkit-border-radius: 0; border-radius: 0; line-height: inherit; font-weight: normal; }

pre, pre > code { line-height: 1.4; color: black; font-family: monospace, serif; font-weight: normal; }

.keyseq { color: #555555; }

kbd { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: #090909; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: black; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #dddddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #dddddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #dddddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #555555; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #6f6f6f; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #6f6f6f; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: black; border-bottom: 1px solid #dddddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#floating {
  position: fixed;
  z-index: 1000;
  padding: 0.5em;
  right: 0;
  top: 0;
  background: white;
  box-shadow: 0 0 1em #777777;
  -webkit-box-shadow: 0 0 1em #777777;
  -moz-box-shadow: 0 0 1em #777777;
  -webkit-border-bottom-left-radius: 5px;
  -moz-border-radius-bottomleft: 5px;
  max-height: 80%;
  overflow: auto;
}

#floating #full { display: none; } /* Hide the full TOC by default */

#floating:hover #full{
  display: block; /* Show it on hover */
}


#toc { border-bottom: 1px solid #dddddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; list-style-type: none; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #6f6f6f; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f2f2f2; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }

#footer-text { color: #dddddd; line-height: 1.44; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { .sect1 { padding-bottom: 1.25em; } }
.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #222222; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #151515; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: black; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #555555; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #6f6f6f; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eeeeee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px solid #cccccc; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; padding: 0.8em 0.8em 0.65em 0.8em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #eeeeee; background-color: black; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 0.8em 0.8em 0.65em 0.8em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #6f6f6f; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #6f6f6f; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #555555; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #6f6f6f; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.05em; color: #555555; }

.quoteblock.abstract { margin: 0 0 1.25em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.spread { width: 100%; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dddddd; }

table.grid-all th.tableblock, table.grid-all td.tableblock { border-width: 0 1px 1px 0; }

table.grid-all tfoot > tr > th.tableblock, table.grid-all tfoot > tr > td.tableblock { border-width: 1px 1px 0 0; }

table.grid-cols th.tableblock, table.grid-cols td.tableblock { border-width: 0 1px 0 0; }

table.grid-all * > tr > .tableblock:last-child, table.grid-cols * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-rows th.tableblock, table.grid-rows td.tableblock { border-width: 0 0 1px 0; }

table.grid-all tbody > tr:last-child > th.tableblock, table.grid-all tbody > tr:last-child > td.tableblock, table.grid-all thead:last-child > tr > th.tableblock, table.grid-rows tbody > tr:last-child > th.tableblock, table.grid-rows tbody > tr:last-child > td.tableblock, table.grid-rows thead:last-child > tr > th.tableblock { border-bottom-width: 0; }

table.grid-rows tfoot > tr > th.tableblock, table.grid-rows tfoot > tr > td.tableblock { border-width: 1px 0 0 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: whitesmoke; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222222; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 2.5em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-check-square-o:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .75em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 0.75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
span.footnote a:active, span.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #207c98; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

.literalblock pre, .listingblock pre { background: #eeeeee; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
<style>.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments  { background: #f8f8f8; }
.listingblock .pygments .tok-c { color: #408080; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
.listingblock .pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #B00040 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #666666 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #BA2121 } /* Literal.String */
.listingblock .pygments .tok-na { color: #7D9029 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #008000 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #880000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #0000FF } /* Name.Function */
.listingblock .pygments .tok-nl { color: #A0A000 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #19177C } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
.listingblock .pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #008000 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
.listingblock .pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>JavaScript</h1>
<div class="details">
<span id="author" class="author">Aitor Medrano</span><br>
<span id="email" class="email">&lt;<a href="mailto:aitor.medrano@ua.es">aitor.medrano@ua.es</a>&gt;</span><br>
<span id="revnumber">version 1.1</span>
<br><span id="revremark">movido 'Promesas' a js08</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Índice de contenidos</div>
<ul class="sectlevel1">
<li><a href="#sesion07">7. jQuery Avanzado</a>
<ul class="sectlevel2">
<li><a href="#_efectos">7.1. Efectos</a>
<ul class="sectlevel3">
<li><a href="#_mostrar_y_ocultar">7.1.1. Mostrar y ocultar</a></li>
<li><a href="#_aparecer_y_desvanecer">7.1.2. Aparecer y desvanecer</a></li>
<li><a href="#_enrollar_y_desenrollar">7.1.3. Enrollar y desenrollar</a></li>
<li><a href="#_creando_animaciones">7.1.4. Creando animaciones</a></li>
<li><a href="#_ejemplo_carrusel">7.1.5. Ejemplo carrusel</a></li>
<li><a href="#_deshabilitando_los_efectos">7.1.6. Deshabilitando los efectos</a></li>
</ul>
</li>
<li><a href="#_ajax">7.2. AJAX</a>
<ul class="sectlevel3">
<li><a href="#__code_ajax_code">7.2.1. <code>$.ajax()</code></a></li>
<li><a href="#__code_load_code">7.2.2. <code>load()</code></a></li>
<li><a href="#_recibiendo_informaci%C3%B3n_del_servidor">7.2.3. Recibiendo información del servidor</a></li>
<li><a href="#_enviando_informaci%C3%B3n_al_servidor">7.2.4. Enviando información al servidor</a></li>
<li><a href="#_tipos_de_datos">7.2.5. Tipos de datos</a></li>
<li><a href="#_manejadores_de_eventos_ajax">7.2.6. Manejadores de eventos AJAX</a></li>
</ul>
</li>
<li><a href="#_utilidades">7.3. Utilidades</a>
<ul class="sectlevel3">
<li><a href="#_comprobaci%C3%B3n_de_tipos">7.3.1. Comprobación de tipos</a></li>
<li><a href="#_manipulaci%C3%B3n_de_colecciones">7.3.2. Manipulación de colecciones</a></li>
<li><a href="#_copiando_objetos">7.3.3. Copiando objetos</a></li>
</ul>
</li>
<li><a href="#_plugins">7.4. Plugins</a>
<ul class="sectlevel3">
<li><a href="#_creando_un_plugin">7.4.1. Creando un plugin</a></li>
<li><a href="#_funciones_globales">7.4.2. Funciones globales</a></li>
<li><a href="#_m%C3%A9todos_de_objeto">7.4.3. Métodos de objeto</a></li>
</ul>
</li>
<li><a href="#_rendimiento">7.5. Rendimiento</a>
<ul class="sectlevel3">
<li><a href="#_consejos_de_rendimiento">7.5.1. Consejos de rendimiento</a></li>
</ul>
</li>
<li><a href="#_ejercicios">7.6. Ejercicios</a>
<ul class="sectlevel3">
<li><a href="#__0_4_ptos_ejercicio_71_apuntes_2_0">7.6.1. (0.4 ptos) Ejercicio 71. Apuntes 2.0</a></li>
<li><a href="#__0_5_ptos_ejercicio_72_star_wars_em_jquery_em">7.6.2. (0.5 ptos) Ejercicio 72. Star Wars <em>jQuery</em></a></li>
<li><a href="#__0_3_ptos_ejercicio_73_em_plugin_em_canificador">7.6.3. (0.3 ptos) Ejercicio 73. <em>Plugin</em> Canificador</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="sesion07">7. jQuery Avanzado</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_efectos">7.1. Efectos</h3>
<div class="paragraph">
<p>jQuery facilita el uso de animaciones y efectos consiguiendo grandes resultados con apenas un par de líneas, como por ejemplo:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mostrar y ocultar elementos</p>
</li>
<li>
<p>Efectos de aparecer y desvanecer elementos</p>
</li>
<li>
<p>Mover elementos a través de la pantalla</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Podemos consultar todos los efectos disponibles en <a href="http://api.jquery.com/category/effects/" class="bare">http://api.jquery.com/category/effects/</a></p>
</div>
<div class="sect3">
<h4 id="_mostrar_y_ocultar">7.1.1. Mostrar y ocultar</h4>
<div class="paragraph">
<p>Tanto mostrar como ocultar elementos son acciones comunes y sencillas que podemos realizar de manera inmediata o durante un período de tiempo.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Método</th>
<th class="tableblock halign-left valign-top">Propósito</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">show()</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Muestra cada elemento del conjunto de resultados, si estaban ocultos</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">show(<em>velocidad</em>[,<em>callback</em>])</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Muestra todos los elementos del conjunto del resultados mediante una animación, y opcionalmente lanza un <em>callback</em> tras completar la animación</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">hide()</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oculta cada elemento del conjunto de resultados, si estaban visibles</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">hide(<em>velocidad</em>[,<em>callback</em>])</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oculta todos los elementos del conjunto del resultados mediante una animación, y opcionalmente lanza un <em>callback</em> tras completar la animación</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">toggle()</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cambia la visualización (visible u oculto, de manera contraria a su estado) para cada elemento del conjunto de resultados</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">toggle(<em>switch</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cambia la visualización para cada elemento del conjunto de resultados dependiendo del <em>switch</em> (verdadero muestra todos los elementos, falso para ocultarlos)</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">toggle(<em>velocidad</em>[,<em>callback</em>])</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cambia la visualización de todos los elementos del conjunto del resultados mediante una animación, y opcionalmente lanza un <em>callback</em> tras completar la animación</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
En aquellos métodos que aceptan una <em>velocidad</em> como parámetro, la podemos indicar de manera númerica, especificando la cantidad de milisegundos de duración del efecto, o mediante una cadena con los posibles valores a <code>slow</code> (lento - 600ms), <code>normal</code> (400ms) o <code>fast</code> (rápido - 200ms).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Por ejemplo, supongamos que tenemos un cuadrado con varios botones para cambiar su visualización:</p>
</div>
<div class="listingblock">
<div class="title">Ejemplo Mostrar y Ocultar - <a href="http://jsbin.com/zakaga/1/edit?html,css,js,output" class="bare">http://jsbin.com/zakaga/1/edit?html,css,js,output</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-cp">&lt;!DOCTYPE html&gt;</span>
<span class="tok-nt">&lt;html</span> <span class="tok-na">lang=</span><span class="tok-s">&quot;es&quot;</span><span class="tok-nt">&gt;</span>
<span class="tok-nt">&lt;head&gt;</span>
	<span class="tok-nt">&lt;title&gt;</span>Mostrar y Ocultar<span class="tok-nt">&lt;/title&gt;</span>
	<span class="tok-nt">&lt;meta</span> <span class="tok-na">charset=</span><span class="tok-s">&quot;UTF-8&quot;</span><span class="tok-nt">&gt;</span>
	<span class="tok-nt">&lt;style </span><span class="tok-na">type=</span><span class="tok-s">&quot;text/css&quot;</span><span class="tok-nt">&gt;</span>
	<span class="tok-nt">div</span><span class="tok-nf">#laCapa</span> <span class="tok-p">{</span>
		<span class="tok-k">width</span><span class="tok-o">:</span> <span class="tok-m">250px</span><span class="tok-p">;</span> <span class="tok-k">height</span><span class="tok-o">:</span> <span class="tok-m">180px</span><span class="tok-p">;</span> <span class="tok-k">margin</span><span class="tok-o">:</span> <span class="tok-m">10px</span><span class="tok-p">;</span> <span class="tok-k">padding</span><span class="tok-o">:</span> <span class="tok-m">20px</span><span class="tok-p">;</span>
		<span class="tok-k">background</span><span class="tok-o">:</span> <span class="tok-nb">blue</span><span class="tok-p">;</span> <span class="tok-k">border</span><span class="tok-o">:</span> <span class="tok-m">2px</span> <span class="tok-k">solid</span> <span class="tok-nb">black</span><span class="tok-p">;</span> <span class="tok-k">cursor</span><span class="tok-o">:</span> <span class="tok-k">pointer</span><span class="tok-p">;</span>
	<span class="tok-p">}</span>
	<span class="tok-nt">p</span><span class="tok-o">,</span> <span class="tok-nt">span</span> <span class="tok-p">{</span>
		<span class="tok-k">font-size</span><span class="tok-o">:</span> <span class="tok-m">16pt</span><span class="tok-p">;</span>
	<span class="tok-p">}</span>
	<span class="tok-nt">button</span> <span class="tok-p">{</span>
		<span class="tok-k">margin</span><span class="tok-o">:</span> <span class="tok-m">5px</span><span class="tok-p">;</span>
	<span class="tok-p">}</span>
	<span class="tok-nt">&lt;/style&gt;</span>
<span class="tok-nt">&lt;/head&gt;</span>
<span class="tok-nt">&lt;body&gt;</span>
	<span class="tok-nt">&lt;p&gt;</span>Mostrando y Ocultando un elemento<span class="tok-nt">&lt;/p&gt;</span>
	<span class="tok-nt">&lt;div</span> <span class="tok-na">id=</span><span class="tok-s">&quot;laCapa&quot;</span><span class="tok-nt">&gt;&lt;/div&gt;</span>
	<span class="tok-nt">&lt;button</span> <span class="tok-na">id=</span><span class="tok-s">&quot;mostrar&quot;</span><span class="tok-nt">&gt;</span>Mostrar<span class="tok-nt">&lt;/button&gt;</span>
	<span class="tok-nt">&lt;button</span> <span class="tok-na">id=</span><span class="tok-s">&quot;ocultar&quot;</span><span class="tok-nt">&gt;</span>Ocultar<span class="tok-nt">&lt;/button&gt;</span>
	<span class="tok-nt">&lt;button</span> <span class="tok-na">id=</span><span class="tok-s">&quot;cambiar&quot;</span><span class="tok-nt">&gt;</span>Cambiar (Toggle)<span class="tok-nt">&lt;/button&gt;</span>
<span class="tok-nt">&lt;/body&gt;</span>
<span class="tok-nt">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Y el código para cambiar el estado de visualización con una pequeña animación:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#mostrar&quot;</span><span class="tok-p">).</span><span class="tok-nx">click</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#laCapa&quot;</span><span class="tok-p">).</span><span class="tok-nx">show</span><span class="tok-p">(</span><span class="tok-s2">&quot;normal&quot;</span><span class="tok-p">);</span>
	<span class="tok-p">});</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#ocultar&quot;</span><span class="tok-p">).</span><span class="tok-nx">click</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#laCapa&quot;</span><span class="tok-p">).</span><span class="tok-nx">hide</span><span class="tok-p">(</span><span class="tok-mi">2000</span><span class="tok-p">);</span>	<span class="tok-c1">// ms</span>
	<span class="tok-p">});</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#cambiar&quot;</span><span class="tok-p">).</span><span class="tok-nx">click</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#laCapa&quot;</span><span class="tok-p">).</span><span class="tok-nx">toggle</span><span class="tok-p">(</span><span class="tok-s2">&quot;slow&quot;</span><span class="tok-p">);</span>
	<span class="tok-p">});</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_aparecer_y_desvanecer">7.1.2. Aparecer y desvanecer</h4>
<div class="paragraph">
<p>Los efectos más comunes se basan en la aparición progresiva y desvanecimiento del contenido de manera completa o hasta una determinada opacidad. jQuery ofrece un conjunto de métodos para estos efectos:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Método</th>
<th class="tableblock halign-left valign-top">Propósito</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">fadeIn(<em>velocidad</em>[,<em>callback</em>])</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">El contenido aparece a la <em>velocidad</em> indicada para cada elemento del conjunto de resultados, y opcionalmente lanza un <em>callback</em> tras completar la animación</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">fadeOut(<em>velocidad</em>[,<em>callback</em>])</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">El contenido se desvanece a la <em>velocidad</em> indicada para cada elemento del conjunto de resultados, y opcionalmente lanza un <em>callback</em> tras completar la animación</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">fadeTo(<em>velocidad</em>,<em>opacidad</em>[,<em>callback</em>])</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">El contenido cambia a la <em>opacidad</em> y <em>velocidad</em> indicadas para cada elemento del conjunto de resultados, y opcionalmente lanza un <em>callback</em> tras completar la animación</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Ya hemos visto que si queremos que se ejecute una función cuando termine la ejecución, la pasaremos como <em>callback</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">).</span><span class="tok-nx">fadeOut</span><span class="tok-p">(</span><span class="tok-mi">1000</span><span class="tok-p">,</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
	<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;He acabado&quot;</span><span class="tok-p">);</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Por ejemplo, para simular un efecto <em>toggle</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">).</span><span class="tok-nx">fadeOut</span><span class="tok-p">(</span><span class="tok-mi">500</span><span class="tok-p">,</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">).</span><span class="tok-nx">delay</span><span class="tok-p">(</span><span class="tok-mi">2000</span><span class="tok-p">).</span><span class="tok-nx">fadeIn</span><span class="tok-p">(</span><span class="tok-mi">500</span><span class="tok-p">);</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si hubiésemos puesto la función fuera del parámetro del <code>fadeOut</code>, se hubiese ejecutado justamente después de iniciarse la animación, y no al finalizar la misma.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">).</span><span class="tok-nx">fadeOut</span><span class="tok-p">(</span><span class="tok-mi">500</span><span class="tok-p">).</span><span class="tok-nx">css</span><span class="tok-p">(</span><span class="tok-s2">&quot;margin&quot;</span><span class="tok-p">,</span><span class="tok-s2">&quot;50 px&quot;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>De manera similar al ejemplo anterior, vamos a dibujar un cuadrado con 4 botones para mostrar estos efectos:</p>
</div>
<div class="listingblock">
<div class="title">Ejemplo Aparecer y Desvanecer - <a href="http://jsbin.com/holumo/1/edit?html,css,js,output" class="bare">http://jsbin.com/holumo/1/edit?html,css,js,output</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-cp">&lt;!DOCTYPE html&gt;</span>
<span class="tok-nt">&lt;html</span> <span class="tok-na">lang=</span><span class="tok-s">&quot;es&quot;</span><span class="tok-nt">&gt;</span>
<span class="tok-nt">&lt;head&gt;</span>
	<span class="tok-nt">&lt;title&gt;</span>Aparecer y Desvanecer<span class="tok-nt">&lt;/title&gt;</span>
	<span class="tok-nt">&lt;meta</span> <span class="tok-na">charset=</span><span class="tok-s">&quot;UTF-8&quot;</span><span class="tok-nt">&gt;</span>
	<span class="tok-nt">&lt;style </span><span class="tok-na">type=</span><span class="tok-s">&quot;text/css&quot;</span><span class="tok-nt">&gt;</span>
		<span class="tok-nt">div</span><span class="tok-nf">#laCapa</span> <span class="tok-p">{</span>
			<span class="tok-k">width</span><span class="tok-o">:</span> <span class="tok-m">250px</span><span class="tok-p">;</span> <span class="tok-k">height</span><span class="tok-o">:</span> <span class="tok-m">180px</span><span class="tok-p">;</span> <span class="tok-k">margin</span><span class="tok-o">:</span> <span class="tok-m">10px</span><span class="tok-p">;</span> <span class="tok-k">padding</span><span class="tok-o">:</span> <span class="tok-m">20px</span><span class="tok-p">;</span>
			<span class="tok-k">background</span><span class="tok-o">:</span> <span class="tok-nb">blue</span><span class="tok-p">;</span> <span class="tok-k">border</span><span class="tok-o">:</span> <span class="tok-m">2px</span> <span class="tok-k">solid</span> <span class="tok-nb">black</span><span class="tok-p">;</span> <span class="tok-k">cursor</span><span class="tok-o">:</span> <span class="tok-k">pointer</span><span class="tok-p">;</span>
		<span class="tok-p">}</span>
		<span class="tok-nt">p</span><span class="tok-o">,</span> <span class="tok-nt">span</span> <span class="tok-p">{</span>
			<span class="tok-k">font-size</span><span class="tok-o">:</span> <span class="tok-m">16pt</span><span class="tok-p">;</span>
		<span class="tok-p">}</span>
		<span class="tok-nt">button</span> <span class="tok-p">{</span>
			<span class="tok-k">margin</span><span class="tok-o">:</span> <span class="tok-m">5px</span><span class="tok-p">;</span>
		<span class="tok-p">}</span>
	<span class="tok-nt">&lt;/style&gt;</span>
<span class="tok-nt">&lt;/head&gt;</span>
<span class="tok-nt">&lt;body&gt;</span>
	<span class="tok-nt">&lt;p&gt;</span>Aparecer y Desvanecer un elemento<span class="tok-nt">&lt;/p&gt;</span>
	<span class="tok-nt">&lt;div</span> <span class="tok-na">id=</span><span class="tok-s">&quot;laCapa&quot;</span><span class="tok-nt">&gt;&lt;/div&gt;</span>
	<span class="tok-nt">&lt;button</span> <span class="tok-na">id=</span><span class="tok-s">&quot;aparecer&quot;</span><span class="tok-nt">&gt;</span>Aparecer<span class="tok-nt">&lt;/button&gt;</span>
	<span class="tok-nt">&lt;button</span> <span class="tok-na">id=</span><span class="tok-s">&quot;desvanecer&quot;</span><span class="tok-nt">&gt;</span>Desvanecer<span class="tok-nt">&lt;/button&gt;</span>
	<span class="tok-nt">&lt;button</span> <span class="tok-na">id=</span><span class="tok-s">&quot;fade03&quot;</span><span class="tok-nt">&gt;</span>Opacidad hasta .3<span class="tok-nt">&lt;/button&gt;</span>
	<span class="tok-nt">&lt;button</span> <span class="tok-na">id=</span><span class="tok-s">&quot;fade10&quot;</span><span class="tok-nt">&gt;</span>Opacidad hasta 1.0<span class="tok-nt">&lt;/button&gt;</span>
<span class="tok-nt">&lt;/body&gt;</span>
<span class="tok-nt">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Y el código para cambiar el estado de visualización con una pequeña animación:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#aparecer&quot;</span><span class="tok-p">).</span><span class="tok-nx">click</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#laCapa&quot;</span><span class="tok-p">).</span><span class="tok-nx">fadeIn</span><span class="tok-p">(</span><span class="tok-mi">300</span><span class="tok-p">);</span>
	<span class="tok-p">});</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#desvanecer&quot;</span><span class="tok-p">).</span><span class="tok-nx">click</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#laCapa&quot;</span><span class="tok-p">).</span><span class="tok-nx">fadeOut</span><span class="tok-p">(</span><span class="tok-s2">&quot;normal&quot;</span><span class="tok-p">);</span>
	<span class="tok-p">});</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#fade03&quot;</span><span class="tok-p">).</span><span class="tok-nx">click</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#laCapa&quot;</span><span class="tok-p">).</span><span class="tok-nx">fadeTo</span><span class="tok-p">(</span><span class="tok-s2">&quot;slow&quot;</span><span class="tok-p">,</span> <span class="tok-mf">0.3</span><span class="tok-p">);</span>
	<span class="tok-p">});</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#fade10&quot;</span><span class="tok-p">).</span><span class="tok-nx">click</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#laCapa&quot;</span><span class="tok-p">).</span><span class="tok-nx">fadeTo</span><span class="tok-p">(</span><span class="tok-s2">&quot;slow&quot;</span><span class="tok-p">,</span> <span class="tok-mf">1.0</span><span class="tok-p">);</span>
	<span class="tok-p">});</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enrollar_y_desenrollar">7.1.3. Enrollar y desenrollar</h4>
<div class="paragraph">
<p>jQuery ofrece un conjunto de métodos para enrollar y desenrolar los elementos a modo de persiana:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Método</th>
<th class="tableblock halign-left valign-top">Propósito</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">slideDown(<em>velocidad</em>[,<em>callback</em>])</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">El contenido se desenrolla a la <em>velocidad</em> indicada modificando la altura de cada elemento del conjunto de resultados , y opcionalmente lanza un <em>callback</em> tras completar la animación</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">slideUp(<em>velocidad</em>[,<em>callback</em>])</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">El contenido se enrolla a la <em>velocidad</em> indicada modificando la altura de cada elemento del conjunto de resultados , y opcionalmente lanza un <em>callback</em> tras completar la animación</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">slideToggle(<em>velocidad</em>[,<em>callback</em>])</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cambia la visualización del contenido enrollando o desenrollando el contenido a la <em>velocidad</em> indicada modificando la altura de cada elemento del conjunto de resultados, y opcionalmente lanza un <em>callback</em> tras completar la animación</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>De manera similar al ejemplo anterior, vamos a dibujar un cuadrado con 3 botones para mostrar estos efectos:</p>
</div>
<div class="listingblock">
<div class="title">Ejemplo Enrollar y Desenrollar - <a href="http://jsbin.com/hunoq/1/edit?html,css,js,output" class="bare">http://jsbin.com/hunoq/1/edit?html,css,js,output</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-cp">&lt;!DOCTYPE html&gt;</span>
<span class="tok-nt">&lt;html</span> <span class="tok-na">lang=</span><span class="tok-s">&quot;es&quot;</span><span class="tok-nt">&gt;</span>
<span class="tok-nt">&lt;head&gt;</span>
	<span class="tok-nt">&lt;title&gt;</span>Enrollar y Desenrollar<span class="tok-nt">&lt;/title&gt;</span>
	<span class="tok-nt">&lt;meta</span> <span class="tok-na">charset=</span><span class="tok-s">&quot;UTF-8&quot;</span><span class="tok-nt">&gt;</span>
	<span class="tok-nt">&lt;style </span><span class="tok-na">type=</span><span class="tok-s">&quot;text/css&quot;</span><span class="tok-nt">&gt;</span>
		<span class="tok-nt">div</span><span class="tok-nf">#laCapa</span> <span class="tok-p">{</span>
			<span class="tok-k">width</span><span class="tok-o">:</span> <span class="tok-m">250px</span><span class="tok-p">;</span> <span class="tok-k">height</span><span class="tok-o">:</span> <span class="tok-m">180px</span><span class="tok-p">;</span> <span class="tok-k">margin</span><span class="tok-o">:</span> <span class="tok-m">10px</span><span class="tok-p">;</span> <span class="tok-k">padding</span><span class="tok-o">:</span> <span class="tok-m">20px</span><span class="tok-p">;</span>
			<span class="tok-k">background</span><span class="tok-o">:</span> <span class="tok-nb">blue</span><span class="tok-p">;</span> <span class="tok-k">border</span><span class="tok-o">:</span> <span class="tok-m">2px</span> <span class="tok-k">solid</span> <span class="tok-nb">black</span><span class="tok-p">;</span> <span class="tok-k">cursor</span><span class="tok-o">:</span> <span class="tok-k">pointer</span><span class="tok-p">;</span>
		<span class="tok-p">}</span>
		<span class="tok-nt">p</span><span class="tok-o">,</span> <span class="tok-nt">span</span> <span class="tok-p">{</span>
			<span class="tok-k">font-size</span><span class="tok-o">:</span> <span class="tok-m">16pt</span><span class="tok-p">;</span>
		<span class="tok-p">}</span>
		<span class="tok-nt">button</span> <span class="tok-p">{</span>
			<span class="tok-k">margin</span><span class="tok-o">:</span> <span class="tok-m">5px</span><span class="tok-p">;</span>
		<span class="tok-p">}</span>
	<span class="tok-nt">&lt;/style&gt;</span>
<span class="tok-nt">&lt;/head&gt;</span>
<span class="tok-nt">&lt;body&gt;</span>
	<span class="tok-nt">&lt;p&gt;</span>Enrollando y Desenrollando un elemento<span class="tok-nt">&lt;/p&gt;</span>
	<span class="tok-nt">&lt;div</span> <span class="tok-na">id=</span><span class="tok-s">&quot;laCapa&quot;</span><span class="tok-nt">&gt;&lt;/div&gt;</span>
	<span class="tok-nt">&lt;button</span> <span class="tok-na">id=</span><span class="tok-s">&quot;enrollar&quot;</span><span class="tok-nt">&gt;</span>Enrollar<span class="tok-nt">&lt;/button&gt;</span>
	<span class="tok-nt">&lt;button</span> <span class="tok-na">id=</span><span class="tok-s">&quot;desenrollar&quot;</span><span class="tok-nt">&gt;</span>Desenrollar<span class="tok-nt">&lt;/button&gt;</span>
	<span class="tok-nt">&lt;button</span> <span class="tok-na">id=</span><span class="tok-s">&quot;cambiar&quot;</span><span class="tok-nt">&gt;</span>Cambiar (Toggle)<span class="tok-nt">&lt;/button&gt;</span>
<span class="tok-nt">&lt;/body&gt;</span>
<span class="tok-nt">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Y el código para enrollar y desenrollar con una pequeña animación:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#enrollar&quot;</span><span class="tok-p">).</span><span class="tok-nx">click</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#laCapa&quot;</span><span class="tok-p">).</span><span class="tok-nx">slideUp</span><span class="tok-p">(</span><span class="tok-s2">&quot;normal&quot;</span><span class="tok-p">);</span>
	<span class="tok-p">});</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#desenrollar&quot;</span><span class="tok-p">).</span><span class="tok-nx">click</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#laCapa&quot;</span><span class="tok-p">).</span><span class="tok-nx">slideDown</span><span class="tok-p">(</span><span class="tok-mi">2000</span><span class="tok-p">);</span>
	<span class="tok-p">});</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#cambiar&quot;</span><span class="tok-p">).</span><span class="tok-nx">click</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#laCapa&quot;</span><span class="tok-p">).</span><span class="tok-nx">slideToggle</span><span class="tok-p">(</span><span class="tok-s2">&quot;slow&quot;</span><span class="tok-p">);</span>
	<span class="tok-p">});</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_creando_animaciones">7.1.4. Creando animaciones</h4>
<div class="paragraph">
<p>Para crear animaciones personalizadas sobre las propiedades de los elementos llamaremos a la función <code>animate()</code>, y para detenerlas a <code>stop()</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Método</th>
<th class="tableblock halign-left valign-top">Propósito</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">animate(<em>parámetros</em>, <em>duración</em>, <em>easing</em>, <em>callback</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Crea una animación personalizada donde <em>parámetros</em> indica un objeto CSS con las propiedades a animar, con una <em>duración</em> y <em>easing</em> (linear o <em>swing</em>) determinados y lanza un <em>callback</em> tras completar la animación</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">animate(<em>parametros</em>, <em>opciones</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Crea una animación personalizada donde <em>parametros</em> indica las propiedades a animar y las <em>opciones</em> de las animación (<em>complete</em>, <em>step</em>, <em>queue</em>)</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">stop()</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detiene todas las animaciones en marcha para todos los elementos</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>De manera similar al ejemplo anterior, vamos a dibujar un cuadrado con 4 botones para cambiar el tamaño de un elemento, el tamaño del texto, mover el elemento y hacerlo todo a la vez:</p>
</div>
<div class="listingblock">
<div class="title">Ejemplo Animaciones - <a href="http://jsbin.com/wiyodo/2/edit?html,css,js,output" class="bare">http://jsbin.com/wiyodo/2/edit?html,css,js,output</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-cp">&lt;!DOCTYPE html&gt;</span>
<span class="tok-nt">&lt;html</span> <span class="tok-na">lang=</span><span class="tok-s">&quot;es&quot;</span><span class="tok-nt">&gt;</span>
<span class="tok-nt">&lt;head&gt;</span>
	<span class="tok-nt">&lt;title&gt;</span>Animaciones<span class="tok-nt">&lt;/title&gt;</span>
	<span class="tok-nt">&lt;meta</span> <span class="tok-na">charset=</span><span class="tok-s">&quot;UTF-8&quot;</span><span class="tok-nt">&gt;</span>
	<span class="tok-nt">&lt;style </span><span class="tok-na">type=</span><span class="tok-s">&quot;text/css&quot;</span><span class="tok-nt">&gt;</span>
		<span class="tok-nt">div</span><span class="tok-nf">#laCapa</span> <span class="tok-p">{</span>
			<span class="tok-k">position</span><span class="tok-o">:</span> <span class="tok-k">relative</span><span class="tok-p">;</span> <span class="tok-k">width</span><span class="tok-o">:</span> <span class="tok-m">250px</span><span class="tok-p">;</span> <span class="tok-k">height</span><span class="tok-o">:</span> <span class="tok-m">180px</span><span class="tok-p">;</span> <span class="tok-k">margin</span><span class="tok-o">:</span> <span class="tok-m">10px</span><span class="tok-p">;</span> <span class="tok-k">padding</span><span class="tok-o">:</span> <span class="tok-m">20px</span><span class="tok-p">;</span>
			<span class="tok-k">background</span><span class="tok-o">:</span> <span class="tok-nb">blue</span><span class="tok-p">;</span> <span class="tok-k">border</span><span class="tok-o">:</span> <span class="tok-m">2px</span> <span class="tok-k">solid</span> <span class="tok-nb">black</span><span class="tok-p">;</span> <span class="tok-k">cursor</span><span class="tok-o">:</span> <span class="tok-k">pointer</span><span class="tok-p">;</span>
		<span class="tok-p">}</span>
		<span class="tok-nt">p</span><span class="tok-o">,</span> <span class="tok-nt">span</span> <span class="tok-p">{</span>
			<span class="tok-k">font-size</span><span class="tok-o">:</span> <span class="tok-m">16pt</span><span class="tok-p">;</span>
		<span class="tok-p">}</span>
		<span class="tok-nt">button</span> <span class="tok-p">{</span>
			<span class="tok-k">margin</span><span class="tok-o">:</span> <span class="tok-m">5px</span><span class="tok-p">;</span>
		<span class="tok-p">}</span>
	<span class="tok-nt">&lt;/style&gt;</span>
<span class="tok-nt">&lt;/head&gt;</span>
<span class="tok-nt">&lt;body&gt;</span>
	<span class="tok-nt">&lt;p&gt;</span>Animaciones<span class="tok-nt">&lt;/p&gt;</span>
	<span class="tok-nt">&lt;div</span> <span class="tok-na">id=</span><span class="tok-s">&quot;laCapa&quot;</span><span class="tok-nt">&gt;</span>Anímame un poco!<span class="tok-nt">&lt;/div&gt;</span>
	<span class="tok-nt">&lt;button</span> <span class="tok-na">id=</span><span class="tok-s">&quot;derecha&quot;</span><span class="tok-nt">&gt;</span>Crecer a la derecha<span class="tok-nt">&lt;/button&gt;</span>
	<span class="tok-nt">&lt;button</span> <span class="tok-na">id=</span><span class="tok-s">&quot;texto&quot;</span><span class="tok-nt">&gt;</span>Texto grande<span class="tok-nt">&lt;/button&gt;</span>
	<span class="tok-nt">&lt;button</span> <span class="tok-na">id=</span><span class="tok-s">&quot;mover&quot;</span><span class="tok-nt">&gt;</span>Mover la capa<span class="tok-nt">&lt;/button&gt;</span>
	<span class="tok-nt">&lt;button</span> <span class="tok-na">id=</span><span class="tok-s">&quot;todo&quot;</span><span class="tok-nt">&gt;</span>Todo<span class="tok-nt">&lt;/button&gt;</span>
<span class="tok-nt">&lt;/body&gt;</span>
<span class="tok-nt">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Y el código para cambiar animar cada uno de los botones:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#derecha&quot;</span><span class="tok-p">).</span><span class="tok-nx">click</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
	  <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#laCapa&quot;</span><span class="tok-p">).</span><span class="tok-nx">animate</span><span class="tok-p">({</span> <span class="tok-nx">width</span><span class="tok-o">:</span> <span class="tok-s2">&quot;500px&quot;</span> <span class="tok-p">},</span> <span class="tok-mi">1000</span><span class="tok-p">);</span>
	<span class="tok-p">});</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#texto&quot;</span><span class="tok-p">).</span><span class="tok-nx">click</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
	  <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#laCapa&quot;</span><span class="tok-p">).</span><span class="tok-nx">animate</span><span class="tok-p">({</span> <span class="tok-nx">fontSize</span><span class="tok-o">:</span> <span class="tok-s2">&quot;24pt&quot;</span> <span class="tok-p">},</span> <span class="tok-mi">1000</span><span class="tok-p">);</span>
	<span class="tok-p">});</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#mover&quot;</span><span class="tok-p">).</span><span class="tok-nx">click</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
	  <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#laCapa&quot;</span><span class="tok-p">).</span><span class="tok-nx">animate</span><span class="tok-p">({</span> <span class="tok-nx">left</span><span class="tok-o">:</span> <span class="tok-s2">&quot;500&quot;</span> <span class="tok-p">},</span> <span class="tok-mi">1000</span><span class="tok-p">,</span> <span class="tok-s2">&quot;swing&quot;</span><span class="tok-p">);</span>
	<span class="tok-p">});</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#todo&quot;</span><span class="tok-p">).</span><span class="tok-nx">click</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#laCapa&quot;</span><span class="tok-p">).</span><span class="tok-nx">animate</span><span class="tok-p">({</span> <span class="tok-nx">width</span><span class="tok-o">:</span> <span class="tok-s2">&quot;500px&quot;</span><span class="tok-p">,</span> <span class="tok-nx">fontSize</span><span class="tok-o">:</span> <span class="tok-s2">&quot;24pt&quot;</span><span class="tok-p">,</span> <span class="tok-nx">left</span><span class="tok-o">:</span> <span class="tok-s2">&quot;500&quot;</span> <span class="tok-p">},</span> <span class="tok-mi">1000</span><span class="tok-p">,</span> <span class="tok-s2">&quot;swing&quot;</span><span class="tok-p">);</span>
	<span class="tok-p">});</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ejemplo_carrusel">7.1.5. Ejemplo carrusel</h4>
<div class="paragraph">
<p>Para poner estos efectos en practica y por comparar funcionalidad realizada en JavaScript respecto a la misma con jQuery, vamos a realizar un carrusel de imagenes de manera similar a la realizada en sesiones anteriores.</p>
</div>
<div class="paragraph">
<p>Para ello, vamos a definir una capa para cada una de las imágenes</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-cp">&lt;!DOCTYPE html&gt;</span>
<span class="tok-nt">&lt;html</span> <span class="tok-na">lang=</span><span class="tok-s">&quot;es&quot;</span><span class="tok-nt">&gt;</span>
<span class="tok-nt">&lt;head&gt;</span>
	<span class="tok-nt">&lt;title&gt;</span>Carrusel jQuery<span class="tok-nt">&lt;/title&gt;</span>
	<span class="tok-nt">&lt;meta</span> <span class="tok-na">charset=</span><span class="tok-s">&quot;UTF-8&quot;</span><span class="tok-nt">&gt;</span>
	<span class="tok-nt">&lt;style </span><span class="tok-na">type=</span><span class="tok-s">&quot;text/css&quot;</span><span class="tok-nt">&gt;</span>
		<span class="tok-nf">#carrusel</span> <span class="tok-p">{</span>
			<span class="tok-k">height</span><span class="tok-o">:</span><span class="tok-m">400px</span><span class="tok-p">;</span> <span class="tok-k">width</span><span class="tok-o">:</span><span class="tok-m">400px</span><span class="tok-p">;</span>
		<span class="tok-p">}</span>
		<span class="tok-nf">#carrusel</span> <span class="tok-nt">div</span> <span class="tok-p">{</span>
			<span class="tok-k">position</span><span class="tok-o">:</span><span class="tok-k">absolute</span><span class="tok-p">;</span> <span class="tok-k">z-index</span><span class="tok-o">:</span> <span class="tok-m">0</span><span class="tok-p">;</span>
		<span class="tok-p">}</span>
		<span class="tok-nf">#carrusel</span> <span class="tok-nt">div</span><span class="tok-nc">.anterior</span> <span class="tok-p">{</span>
			<span class="tok-k">z-index</span><span class="tok-o">:</span> <span class="tok-m">1</span><span class="tok-p">;</span>
		<span class="tok-p">}</span>
		<span class="tok-nf">#carrusel</span> <span class="tok-nt">div</span><span class="tok-nc">.actual</span> <span class="tok-p">{</span>
			<span class="tok-k">z-index</span><span class="tok-o">:</span> <span class="tok-m">2</span><span class="tok-p">;</span>
		<span class="tok-p">}</span>
	<span class="tok-nt">&lt;/style&gt;</span>
<span class="tok-nt">&lt;/head&gt;</span>
<span class="tok-nt">&lt;body&gt;</span>
<span class="tok-nt">&lt;h1&gt;</span>Carrusel jQuery<span class="tok-nt">&lt;/h1&gt;</span>
<span class="tok-nt">&lt;div</span> <span class="tok-na">id=</span><span class="tok-s">&quot;carrusel&quot;</span><span class="tok-nt">&gt;</span>
	<span class="tok-nt">&lt;div</span> <span class="tok-na">class=</span><span class="tok-s">&quot;actual&quot;</span><span class="tok-nt">&gt;&lt;img</span> <span class="tok-na">src=</span><span class="tok-s">&quot;imagenes/hierba.jpg&quot;</span> <span class="tok-na">width=</span><span class="tok-s">&quot;400&quot;</span> <span class="tok-na">height=</span><span class="tok-s">&quot;400&quot;</span> <span class="tok-na">class=</span><span class="tok-s">&quot;galeria&quot;</span> <span class="tok-nt">/&gt;&lt;/div&gt;</span>
	<span class="tok-nt">&lt;div&gt;&lt;img</span> <span class="tok-na">src=</span><span class="tok-s">&quot;imagenes/hoja.jpg&quot;</span>  <span class="tok-na">width=</span><span class="tok-s">&quot;400&quot;</span> <span class="tok-na">height=</span><span class="tok-s">&quot;400&quot;</span> <span class="tok-na">class=</span><span class="tok-s">&quot;galeria&quot;</span> <span class="tok-nt">/&gt;&lt;/div&gt;</span>
	<span class="tok-nt">&lt;div&gt;&lt;img</span> <span class="tok-na">src=</span><span class="tok-s">&quot;imagenes/primavera.jpg&quot;</span> <span class="tok-na">width=</span><span class="tok-s">&quot;400&quot;</span> <span class="tok-na">height=</span><span class="tok-s">&quot;400&quot;</span> <span class="tok-na">class=</span><span class="tok-s">&quot;galeria&quot;</span> <span class="tok-nt">/&gt;&lt;/div&gt;</span>
	<span class="tok-nt">&lt;div&gt;&lt;img</span> <span class="tok-na">src=</span><span class="tok-s">&quot;imagenes/agua.jpg&quot;</span> <span class="tok-na">width=</span><span class="tok-s">&quot;400&quot;</span> <span class="tok-na">height=</span><span class="tok-s">&quot;400&quot;</span> <span class="tok-na">class=</span><span class="tok-s">&quot;galeria&quot;</span> <span class="tok-nt">/&gt;&lt;/div&gt;</span>
<span class="tok-nt">&lt;/div&gt;</span>
<span class="tok-nt">&lt;/body&gt;</span>
<span class="tok-nt">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A continuación, añadimos el código <em>jQuery</em> para que cada 2 segundos cambie de imagen, teniendo en cuenta que al llegar a la última, vuelva a mostrar la primera:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-kd">function</span> <span class="tok-p">()</span> <span class="tok-p">{</span>
	<span class="tok-nx">setInterval</span><span class="tok-p">(</span><span class="tok-s2">&quot;carruselImagenes()&quot;</span><span class="tok-p">,</span> <span class="tok-mi">2000</span><span class="tok-p">);</span>
<span class="tok-p">});</span>

<span class="tok-kd">function</span> <span class="tok-nx">carruselImagenes</span><span class="tok-p">()</span> <span class="tok-p">{</span>
	<span class="tok-kd">var</span> <span class="tok-nx">fotoActual</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s1">&#39;#carrusel div.actual&#39;</span><span class="tok-p">);</span>
	<span class="tok-kd">var</span> <span class="tok-nx">fotoSig</span> <span class="tok-o">=</span> <span class="tok-nx">fotoActual</span><span class="tok-p">.</span><span class="tok-nx">next</span><span class="tok-p">();</span>
	<span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">fotoSig</span><span class="tok-p">.</span><span class="tok-nx">length</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">)</span> <span class="tok-p">{</span>
		<span class="tok-nx">fotoSig</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s1">&#39;#carrusel div:first&#39;</span><span class="tok-p">);</span>	<i class="conum" data-value="1"></i><b>(1)</b>
	<span class="tok-p">}</span>
	<span class="tok-nx">fotoActual</span><span class="tok-p">.</span><span class="tok-nx">removeClass</span><span class="tok-p">(</span><span class="tok-s1">&#39;actual&#39;</span><span class="tok-p">).</span><span class="tok-nx">addClass</span><span class="tok-p">(</span><span class="tok-s1">&#39;anterior&#39;</span><span class="tok-p">);</span>	<i class="conum" data-value="2"></i><b>(2)</b>
	<span class="tok-nx">fotoSig</span><span class="tok-p">.</span><span class="tok-nx">css</span><span class="tok-p">({</span> <span class="tok-nx">opacity</span><span class="tok-o">:</span> <span class="tok-mf">0.0</span> <span class="tok-p">}).</span><span class="tok-nx">addClass</span><span class="tok-p">(</span><span class="tok-s1">&#39;actual&#39;</span><span class="tok-p">)</span>	<i class="conum" data-value="3"></i><b>(3)</b>
		<span class="tok-p">.</span><span class="tok-nx">animate</span><span class="tok-p">({</span> <span class="tok-nx">opacity</span><span class="tok-o">:</span> <span class="tok-mf">1.0</span> <span class="tok-p">},</span> <span class="tok-mi">1000</span><span class="tok-p">,</span> <i class="conum" data-value="4"></i><b>(4)</b>
			<span class="tok-kd">function</span> <span class="tok-p">()</span> <span class="tok-p">{</span> <span class="tok-nx">fotoActual</span><span class="tok-p">.</span><span class="tok-nx">removeClass</span><span class="tok-p">(</span><span class="tok-s1">&#39;anterior&#39;</span><span class="tok-p">);</span> <span class="tok-p">});</span>	<i class="conum" data-value="5"></i><b>(5)</b>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Si la siguiente foto es la última, seleccionamos la primera foto</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Cambiamos la clase CSS de la foto actual para que se posicione detrás y se oculte</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>La siguiente foto la hacemos transparente, la marcamos como actual</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Le añadimos una animación de 1 segundo en la que pasa de transparente a visible</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Al terminar la animación, le quitamos la clase de <code>anterior</code> para que pase al frente</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_deshabilitando_los_efectos">7.1.6. Deshabilitando los efectos</h4>
<div class="paragraph">
<p>Si el sistema donde corre nuestra aplicación es poco potente, podemos deshabilitar todos los efectos y animaciones haciendo uso de la propiedad booleana <code>jQuery.fx.off</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">fx</span><span class="tok-p">.</span><span class="tok-nx">off</span> <span class="tok-o">=</span> <span class="tok-kc">true</span><span class="tok-p">;</span>
<span class="tok-c1">// Volvemos a activar los efectos</span>
<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">fx</span><span class="tok-p">.</span><span class="tok-nx">off</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Al estar deshabilitadas, los elementos aparecerán y desaparecer sin ningún tipo de animación.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ajax">7.2. AJAX</h3>
<div class="paragraph">
<p>Todas las peticiones AJAX realizadas con <em>jQuery</em> se realizan con el método <code>$.ajax()</code> (<a href="http://api.jquery.com/category/ajax/" class="bare">http://api.jquery.com/category/ajax/</a>).</p>
</div>
<div class="paragraph">
<p>Para simplificar el trabajo, <em>jQuery</em> ofrece varios métodos que realmente son sobrecargas sobre el método <code>$.ajax()</code>. Si comprobamos el código fuente de este función podremos ver como es mucho más complejo que lo que estudiamos en la sesión de <em>JavaScript</em>.</p>
</div>
<div class="paragraph">
<p>Los métodos que ofrece <em>jQuery</em> son:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Método</th>
<th class="tableblock halign-left valign-top">Propósito</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock"><em>selector</em>.load(url)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Incrustra el contenido crudo de la <em>url</em> sobre el <em>selector</em></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.get(url, callback, tipoDatos)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Realiza una petición GET a la <em>url</em>. Una vez recuperada la respuesta, se invocará el <em>callback</em> el cual recuperará los datos del <em>tipoDatos</em></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.getJSON(url, callback)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Similar a <code>$.get()</code> pero recuperando datos en formato JSON</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.getScript(url, callback)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Carga un archivo <em>JavaScript</em> de la <em>url</em> mediante un petición GET, y lo ejecuta.</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.post(url, datos, callback)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Realiza una petición POST a la <em>url</em>, enviando los datos como parámetros de la petición</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Todos estos métodos devuelven un objeto <code>jqXHR</code> el cual  abstrae el mecanismo de conexión, ya sea un objeto <code>HTMLHttpRequest</code>, un objeto <code>XMLHTTP</code> o una etiqueta <code>&lt;script&gt;</code>.</p>
</div>
<div class="sect3">
<h4 id="__code_ajax_code">7.2.1. <code>$.ajax()</code></h4>
<div class="paragraph">
<p>Ya hemos comentado que el método <code>$.ajax()</code> es el que centraliza todas las llamadas AJAX. Pese a que normalmente no lo vamos a emplear directamente, conviene conocer todas las posibilidades que ofrece. Para ello, recibe como parámetro un objeto con las siguientes propiedades:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Propiedad</th>
<th class="tableblock halign-left valign-top">Propósito</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">url</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL a la que se realiza la petición</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tipo de petición (GET o POST)</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">dataType</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tipo de datos que devuelve la petición, ya sea texto o binario.</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">success</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Callback</em> que se invoca cuando la petición ha sido exitosa y que recibe los datos de respuesta como parámetro</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">error</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Callback</em> que se invoca cuando la petición ha fallado</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">complete</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Callback</em> que se invoca cuando la petición ha finalizado</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Por ejemplo, si quisieramos recuperar el archivo <code>fichero.txt</code>, realizaríamos una llamada del siguiente modo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">ajax</span><span class="tok-p">({</span>
	<span class="tok-nx">url</span><span class="tok-o">:</span> <span class="tok-s2">&quot;fichero.txt&quot;</span><span class="tok-p">,</span>
	<span class="tok-nx">type</span><span class="tok-o">:</span> <span class="tok-s2">&quot;GET&quot;</span><span class="tok-p">,</span>
	<span class="tok-nx">dataType</span><span class="tok-o">:</span> <span class="tok-s2">&quot;text&quot;</span><span class="tok-p">,</span>
	<span class="tok-nx">success</span><span class="tok-o">:</span> <span class="tok-nx">todoOK</span><span class="tok-p">,</span>
	<span class="tok-nx">error</span><span class="tok-o">:</span> <span class="tok-nx">fallo</span><span class="tok-p">,</span>
	<span class="tok-nx">complete</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">xhr</span><span class="tok-p">,</span> <span class="tok-nx">estado</span><span class="tok-p">)</span> <span class="tok-p">{</span>
		<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Peticion finalizada &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">estado</span><span class="tok-p">);</span>
	<span class="tok-p">}</span>
<span class="tok-p">});</span>

<span class="tok-kd">function</span> <span class="tok-nx">todoOK</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Todo ha ido bien &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">datos</span><span class="tok-p">);</span>
<span class="tok-p">}</span>

<span class="tok-kd">function</span> <span class="tok-nx">fallo</span><span class="tok-p">(</span><span class="tok-nx">xhr</span><span class="tok-p">,</span> <span class="tok-nx">estado</span><span class="tok-p">,</span> <span class="tok-nx">msjErr</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Algo ha fallado &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">msjErr</span><span class="tok-p">);</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si quisiéramos incrustar el contenido recibido por la petición, en vez de sacarlo por consola, lo podríamos añadir a una capa o un párrafo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">todoOK</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#resultado&quot;</span><span class="tok-p">).</span><span class="tok-nx">append</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">);</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__code_load_code">7.2.2. <code>load()</code></h4>
<div class="paragraph">
<p>Si queremos incrustrar contenido proveniente de una URL, con la misma funcionalidad que un <em>include</em> estático en JSP, usaremos el método <code>load(url)</code>. Por ejemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;body&quot;</span><span class="tok-p">).</span><span class="tok-nx">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;contacto.html&quot;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>De este modo incluiríamos hasta la cabecera del documento html. Para indicarle que estamos interesados en una parte del documento, podemos indicar que cargue el elemento cuya clase CSS sea <code>contenido</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;body&quot;</span><span class="tok-p">).</span><span class="tok-nx">load</span><span class="tok-p">(</span><span class="tok-s2">&quot;contacto.html .contenido&quot;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Mediante este método vamos a poder incluir contenido de manera dinámica al lanzarse un evento. Supongamos que tenemos un enlace a <code>contacto.html</code>. Vamos a modificarlo para que en vez de redirigir a la página, incruste el contenido:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;a</span> <span class="tok-na">href=</span><span class="tok-s">&quot;contacto.html&quot;</span><span class="tok-nt">&gt;</span>Contacto<span class="tok-nt">&lt;/a&gt;</span>
<span class="tok-nt">&lt;div</span> <span class="tok-na">id=</span><span class="tok-s">&quot;contenedor&quot;</span><span class="tok-nt">&gt;&lt;/div&gt;</span>

<span class="tok-nt">&lt;script&gt;</span>
<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s1">&#39;a&#39;</span><span class="tok-p">).</span><span class="tok-nx">on</span><span class="tok-p">(</span><span class="tok-s1">&#39;click&#39;</span><span class="tok-p">,</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">evt</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-kd">var</span> <span class="tok-nx">href</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">).</span><span class="tok-nx">attr</span><span class="tok-p">(</span><span class="tok-s1">&#39;href&#39;</span><span class="tok-p">);</span>	<i class="conum" data-value="1"></i><b>(1)</b>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s1">&#39;#contenedor&#39;</span><span class="tok-p">).</span><span class="tok-nx">load</span><span class="tok-p">(</span><span class="tok-nx">href</span> <span class="tok-o">+</span> <span class="tok-s1">&#39; .contenido&#39;</span><span class="tok-p">);</span>	<i class="conum" data-value="2"></i><b>(2)</b>
	<span class="tok-nx">evt</span><span class="tok-p">.</span><span class="tok-nx">preventDefault</span><span class="tok-p">();</span>	<i class="conum" data-value="3"></i><b>(3)</b>
<span class="tok-p">});</span>
<span class="tok-nt">&lt;/script&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Obtenemos el documento que queremos incluir</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Incrustamos el contenido del documento dentro de la capa con id <code>contenedor</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Evitamos que cargue el enlace</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_recibiendo_información_del_servidor">7.2.3. Recibiendo información del servidor</h4>
<div class="paragraph">
<p>Mediante <code>$.get(url [,datos], callBack(datosRespuesta) [,tipoDatosRespuesta])</code> se envía una petición GET con <code>datos</code> como parámetro. Tras responder el servidor, se ejecutará el <em>callBack</em> con los datos recibidos cuyo tipo son del <code>tipoDatosRespuesta</code>.</p>
</div>
<div class="paragraph">
<p>Así pues, el mismo ejemplo visto anteriormente puede quedar reducido al siguiente fragmento:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">get</span><span class="tok-p">(</span><span class="tok-s2">&quot;fichero.txt&quot;</span><span class="tok-p">,</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">);</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>En el caso de <strong><em>XML</em></strong>, seguiremos usando el mismo método pero hemos de tener en cuenta el formato del documento. Supongamos que tenemos el siguiente documento <code>heroes.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="xml"><span class="tok-nt">&lt;heroe&gt;</span>
	<span class="tok-nt">&lt;nombre&gt;</span>Batman<span class="tok-nt">&lt;/nombre&gt;</span>
	<span class="tok-nt">&lt;email&gt;</span>batman@heroes.com<span class="tok-nt">&lt;/email&gt;</span>
<span class="tok-nt">&lt;/heroe&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Para poder recuperar el contenido hemos de tener el cuenta que trabajaremos con las funciones DOM que ya conocemos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">get</span><span class="tok-p">(</span><span class="tok-s2">&quot;heroes.xml&quot;</span><span class="tok-p">,</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-kd">var</span> <span class="tok-nx">nombre</span> <span class="tok-o">=</span> <span class="tok-nx">datos</span><span class="tok-p">.</span><span class="tok-nx">getElementsByTagName</span><span class="tok-p">(</span><span class="tok-s2">&quot;nombre&quot;</span><span class="tok-p">)[</span><span class="tok-mi">0</span><span class="tok-p">];</span>
	<span class="tok-kd">var</span> <span class="tok-nx">email</span> <span class="tok-o">=</span> <span class="tok-nx">datos</span><span class="tok-p">.</span><span class="tok-nx">getElementsByTagName</span><span class="tok-p">(</span><span class="tok-s2">&quot;email&quot;</span><span class="tok-p">)[</span><span class="tok-mi">0</span><span class="tok-p">];</span>
	<span class="tok-kd">var</span> <span class="tok-nx">val</span> <span class="tok-o">=</span> <span class="tok-nx">nombre</span><span class="tok-p">.</span><span class="tok-nx">firstChild</span><span class="tok-p">.</span><span class="tok-nx">nodeValue</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">email</span><span class="tok-p">.</span><span class="tok-nx">firstChild</span><span class="tok-p">.</span><span class="tok-nx">nodeValue</span><span class="tok-p">;</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#resultado&quot;</span><span class="tok-p">).</span><span class="tok-nx">append</span><span class="tok-p">(</span><span class="tok-nx">val</span><span class="tok-p">);</span>
<span class="tok-p">},</span><span class="tok-s2">&quot;xml&quot;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Si la información a recuperar es de tipo <strong><em>JSON</em></strong>, <em>jQuery</em> ofrece el método <code>$.getJSON(url [,datos], callBack(datosRespuesta))</code>.</p>
</div>
<div class="paragraph">
<p>Por ejemplo, supongamos que queremos acceder a <em>Flickr</em> para obtener las imágenes que tienen cierta etiqueta:</p>
</div>
<div class="listingblock">
<div class="title">Ejemplo getJSON Flickr - <a href="http://jsbin.com/hunape/1/edit?html,js,output" class="bare">http://jsbin.com/hunape/1/edit?html,js,output</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">flickrAPI</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?&quot;</span><span class="tok-p">;</span>
<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">getJSON</span><span class="tok-p">(</span> <span class="tok-nx">flickrAPI</span><span class="tok-p">,</span> <span class="tok-p">{</span>
	<span class="tok-nx">tags</span><span class="tok-o">:</span> <span class="tok-s2">&quot;proyecto víbora ii&quot;</span><span class="tok-p">,</span>
	<span class="tok-nx">tagmode</span><span class="tok-o">:</span> <span class="tok-s2">&quot;any&quot;</span><span class="tok-p">,</span>
	<span class="tok-nx">format</span><span class="tok-o">:</span> <span class="tok-s2">&quot;json&quot;</span>
<span class="tok-p">},</span> <span class="tok-nx">formateaImagenes</span><span class="tok-p">);</span>

<span class="tok-kd">function</span> <span class="tok-nx">formateaImagenes</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">each</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">.</span><span class="tok-nx">items</span><span class="tok-p">,</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">i</span><span class="tok-p">,</span> <span class="tok-nx">elemento</span><span class="tok-p">)</span> <span class="tok-p">{</span>	<i class="conum" data-value="1"></i><b>(1)</b>
		<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;&lt;img&gt;&quot;</span><span class="tok-p">).</span><span class="tok-nx">attr</span><span class="tok-p">(</span><span class="tok-s2">&quot;src&quot;</span><span class="tok-p">,</span> <span class="tok-nx">elemento</span><span class="tok-p">.</span><span class="tok-nx">media</span><span class="tok-p">.</span><span class="tok-nx">m</span><span class="tok-p">).</span><span class="tok-nx">appendTo</span><span class="tok-p">(</span><span class="tok-s2">&quot;#contenido&quot;</span><span class="tok-p">);</span>	<i class="conum" data-value="2"></i><b>(2)</b>
		<span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">i</span> <span class="tok-o">===</span> <span class="tok-mi">4</span><span class="tok-p">)</span> <span class="tok-p">{</span>	<i class="conum" data-value="3"></i><b>(3)</b>
			<span class="tok-k">return</span> <span class="tok-kc">false</span><span class="tok-p">;</span>
		<span class="tok-p">}</span>
	<span class="tok-p">});</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>la función <code>$.each(<em>colección</em>, <em>callback(índice, elemento)</em>)</code> recorre el array y realiza una llamada al <em>callback</em> para cada uno de los elementos</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Por cada imagen, la anexa al id <code>contenido</code> construyendo una etiqueta <code>img</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Limita el número de imágenes a mostrar en 5. Cuando el <em>callback</em> de <code>$.each()</code> devuelve <code>false</code>, detiene la iteración sobre el array</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">$.each()</div>
<div class="paragraph">
<p>La utilidad $.each() se trata de un método auxiliar que ofrece <em>jQuery</em> para iterar sobre una colección, ya sea:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>un array mediante <code>$.each(<em>colección</em>, <em>callback(índice, elemento)</em>)</code></p>
</li>
<li>
<p>un conjunto de selectores con <code>$(selector).each(<em>callback(índice, elemento)</em>)</code></p>
</li>
<li>
<p>o las propiedades de un objeto mediante <code>$.each(<em>objeto</em>, <em>callback(clave, valor)</em>)</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Se emplea mucho para tratar la respuesta de las peticiones AJAX.
Más información en <a href="http://api.jquery.com/jquery.each/" class="bare">http://api.jquery.com/jquery.each/</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Finalmente, en ocasiones necesitamos inyectar código adicional al vuelo. Para ello, podemos recuperar un archivo <strong><em>JavaScript</em></strong> y que lo ejecute a continuación mediante el método <code>$.getScript(urlScript, callback)</code>. Una vez finalizada la ejecución del script, se invocará al <em>callback</em>.</p>
</div>
<div class="paragraph">
<p>Supongamos que tenemos el siguiente código en <code>script.js</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Ejecutado dentro del script&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#resultado&quot;</span><span class="tok-p">).</span><span class="tok-nx">html</span><span class="tok-p">(</span><span class="tok-s2">&quot;&lt;strong&gt;getScript&lt;/strong&gt;&quot;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Y el código <em>jQuery</em> que ejecuta el script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">getScript</span><span class="tok-p">(</span><span class="tok-s2">&quot;script.js&quot;</span><span class="tok-p">,</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">,</span> <span class="tok-nx">statusTxt</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">statusTxt</span><span class="tok-p">);</span>
<span class="tok-p">})</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enviando_información_al_servidor">7.2.4. Enviando información al servidor</h4>
<div class="paragraph">
<p>La función <code>$.post(url, datos, callback(datosRespuesta))</code> permite enviar datos mediante una petición POST.</p>
</div>
<div class="paragraph">
<p>Una singularidad es la manera de adjuntar los datos en la petición, ya sea:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creando un objeto cuyos valores obtenemos mediante <code>val()</code>.</p>
</li>
<li>
<p>Serializando el formulario mediante el método <code>serialize()</code>, el cual codifica los elementos del formulario mediante una cadena de texto</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Vamos a crear un ejemplo con un formulario sencillo para realizar el envío mediante AJAX:</p>
</div>
<div class="listingblock">
<div class="title">Ejemplo AJAX POST</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-nt">&lt;form</span> <span class="tok-na">name=</span><span class="tok-s">&quot;formCliente&quot;</span> <span class="tok-na">id=</span><span class="tok-s">&quot;frmClnt&quot;</span> <span class="tok-na">action=</span><span class="tok-s">&quot;#&quot;</span><span class="tok-nt">&gt;</span>
<span class="tok-nt">&lt;fieldset</span> <span class="tok-na">id=</span><span class="tok-s">&quot;infoPersonal&quot;</span><span class="tok-nt">&gt;</span>
	<span class="tok-nt">&lt;legend&gt;</span>Datos Personales<span class="tok-nt">&lt;/legend&gt;</span>
	<span class="tok-nt">&lt;p&gt;&lt;label</span> <span class="tok-na">for=</span><span class="tok-s">&quot;nombre&quot;</span><span class="tok-nt">&gt;</span>Nombre<span class="tok-nt">&lt;/label&gt;</span>
		<span class="tok-nt">&lt;input</span> <span class="tok-na">type=</span><span class="tok-s">&quot;text&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;nombre&quot;</span> <span class="tok-na">id=</span><span class="tok-s">&quot;idNombre&quot;</span> <span class="tok-nt">/&gt;&lt;/p&gt;</span>
	<span class="tok-nt">&lt;p&gt;&lt;label</span> <span class="tok-na">for=</span><span class="tok-s">&quot;correo&quot;</span><span class="tok-nt">&gt;</span>Email<span class="tok-nt">&lt;/label&gt;</span>
		<span class="tok-nt">&lt;input</span> <span class="tok-na">type=</span><span class="tok-s">&quot;email&quot;</span> <span class="tok-na">name=</span><span class="tok-s">&quot;correo&quot;</span> <span class="tok-na">id=</span><span class="tok-s">&quot;idEmail&quot;</span> <span class="tok-nt">/&gt;&lt;/p&gt;</span>
<span class="tok-nt">&lt;/fieldset&gt;</span>
<span class="tok-nt">&lt;p&gt;&lt;button</span> <span class="tok-na">type=</span><span class="tok-s">&quot;submit&quot;</span><span class="tok-nt">&gt;</span>Guardar<span class="tok-nt">&lt;/button&gt;&lt;/p&gt;</span>
<span class="tok-nt">&lt;/form&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Y el código que se comunica con el servidor:</p>
</div>
<div class="listingblock">
<div class="title">Ejemplo <code>$.post()</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s1">&#39;form&#39;</span><span class="tok-p">).</span><span class="tok-nx">on</span><span class="tok-p">(</span><span class="tok-s1">&#39;submit&#39;</span><span class="tok-p">,</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">evt</span><span class="tok-p">)</span> <span class="tok-p">{</span>	<i class="conum" data-value="1"></i><b>(1)</b>
	<span class="tok-nx">evt</span><span class="tok-p">.</span><span class="tok-nx">preventDefault</span><span class="tok-p">();</span>		<i class="conum" data-value="2"></i><b>(2)</b>
	<span class="tok-c1">// var nom = $(this).find(&#39;#inputName&#39;).val();	</span><i class="conum" data-value="3"></i><b>(3)</b>
	<span class="tok-kd">var</span> <span class="tok-nx">datos</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">).</span><span class="tok-nx">serialize</span><span class="tok-p">();</span>	<span class="tok-c1">// nombre=asdf&amp;email=asdf</span>
	<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">post</span><span class="tok-p">(</span><span class="tok-s2">&quot;/GuardaFormServlet&quot;</span><span class="tok-p">,</span> <span class="tok-nx">datos</span><span class="tok-p">,</span> <span class="tok-kd">function</span> <span class="tok-p">(</span><span class="tok-nx">respuestaServidor</span><span class="tok-p">)</span> <span class="tok-p">{</span>	<i class="conum" data-value="4"></i><b>(4)</b>
		<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Completado &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">respuestaServidor</span><span class="tok-p">);</span>
	<span class="tok-p">});</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Escuchamos el evento de <em>submit</em></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Desactivar el envío por defecto del formulario</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Obtener el contenido de los campos, lo cual podemos hacerlo campo por campo como en la línea 3, u obtener una representación de los datos como parámetros de una URL mediante el método <code>serialize()</code> como en la línea 4.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Enviar el contenido a un script del servidor y recuperamos la respuesta. Mediante <code>$.post()</code> le pasaremos el destino del envío, los datos a envíar y una función <em>callback</em> que se llamará cuando el servidor finalice la petición.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tipos_de_datos">7.2.5. Tipos de datos</h4>
<div class="paragraph">
<p>Ya hemos visto que podemos trabajar con cuatro tipos de datos. A continuación vamos a estudiarlos para averiguar cuando conviene usar uno u otro:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Fragmentos <em>HTML</em></strong> necesitan poco para funcionar, ya que mediante <code>load()</code> podemos cargarlos sin necesidad de ejecutar ningún <em>callback</em>. Como inconveniente, los datos puede que no tengan ni la estructura ni el formato que necesitemos, con lo que estamos acoplando nuestro contenido con el externo.</p>
</li>
<li>
<p><strong>Archivos <em>JSON</em></strong>, que permiten estructurar la información para su reutilización. Compactos y fáciles de usar, donde la información es auto-explicativa y se puede manejar mediante objetos mediante <code>JSON.parse()</code> y <code>JSON.stringify()</code>. Hay que tener cuidado con errores en el contenido de los archivos ya que pueden provocar efectos colaterales.</p>
</li>
<li>
<p><strong>Archivos <em>JavaScript</em></strong>, ofrecen flexibilidad pero no son realmente un mecanismo de almacenamiento, ya que no podemos usarlos desde sistemas heterogéneos. La posibilidad de cargar scripts <em>JavaScripts</em> en caliente permite refactorizar el código en archivos externos, reduciendo el tamaño del código hasta que sea necesario.</p>
</li>
<li>
<p><strong>Archivos <em>XML</em></strong>, han perdido mercado en favor de JSON, pero se sigue utilizando para permitir que sistemas de terceros sin importar la tecnología de acceso puedan conectarse a nuestros sistemas.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A día de hoy, JSON tiene todas las de ganar, tanto por rendimiento en las comunicaciones como por el tamaño de la información a transmitir.</p>
</div>
</div>
<div class="sect3">
<h4 id="_manejadores_de_eventos_ajax">7.2.6. Manejadores de eventos AJAX</h4>
<div class="paragraph">
<p><em>jQuery</em> ofrece un conjunto de métodos globales para interactuar con los eventos que se lanzan al realizar una petición AJAX. Estos métodos no los llamamos dentro de la aplicación, sino que es el navegador el que realiza las llamadas.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Método</th>
<th class="tableblock halign-left valign-top">Propósito</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">ajaxComplete()</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registra un manejador que se invocará cuando la petición AJAX se complete</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">ajaxError()</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registra un manejador que se invocará cuando la petición AJAX se complete con un error</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">ajaxStart()</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registra un manejador que se invocará cuando la primera petición AJAX comience</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">ajaxStop()</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registra un manejador que se invocará cuando todas las peticiones AJAX hayan finalizado</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">ajaxSend()</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adjunta una función que se invocará antes de enviar la petición AJAX</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">ajaxSuccess()</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adjunta una función que se invocará cuando una petición AJAX finalice correctamente</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Recordad que estos métodos son globales y se ejecutan para todas las peticiones AJAX de nuestra aplicación, de ahí que se sólo se adjunten al objeto <code>document</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Por ejemplo, si antes de recuperar el archivo de texto registramos todos estos manejadores:</p>
</div>
<div class="listingblock">
<div class="title">Ejemplo Manejadores AJAX - <a href="http://jsbin.com/loqace/edit?js,console" class="bare">http://jsbin.com/loqace/edit?js,console</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-nb">document</span><span class="tok-p">).</span><span class="tok-nx">ready</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
  <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-nb">document</span><span class="tok-p">).</span><span class="tok-nx">ajaxStart</span><span class="tok-p">(</span><span class="tok-kd">function</span> <span class="tok-p">()</span> <span class="tok-p">{</span>
    <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;AJAX comenzando&quot;</span><span class="tok-p">);</span>
  <span class="tok-p">});</span>
  <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-nb">document</span><span class="tok-p">).</span><span class="tok-nx">ajaxStop</span><span class="tok-p">(</span><span class="tok-kd">function</span> <span class="tok-p">()</span> <span class="tok-p">{</span>
    <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;AJAX petición finalizada&quot;</span><span class="tok-p">);</span>
  <span class="tok-p">});</span>
  <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-nb">document</span><span class="tok-p">).</span><span class="tok-nx">ajaxSend</span><span class="tok-p">(</span><span class="tok-kd">function</span> <span class="tok-p">()</span> <span class="tok-p">{</span>
    <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Antes de enviar la información...&quot;</span><span class="tok-p">);</span>
  <span class="tok-p">});</span>
  <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-nb">document</span><span class="tok-p">).</span><span class="tok-nx">ajaxComplete</span><span class="tok-p">(</span><span class="tok-kd">function</span> <span class="tok-p">()</span> <span class="tok-p">{</span>
    <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Todo ha finalizado!&quot;</span><span class="tok-p">);</span>
  <span class="tok-p">});</span>
  <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-nb">document</span><span class="tok-p">).</span><span class="tok-nx">ajaxError</span><span class="tok-p">(</span><span class="tok-kd">function</span> <span class="tok-p">(</span><span class="tok-nx">evt</span><span class="tok-p">,</span> <span class="tok-nx">jqXHR</span><span class="tok-p">,</span> <span class="tok-nx">settings</span><span class="tok-p">,</span> <span class="tok-nx">err</span><span class="tok-p">)</span> <span class="tok-p">{</span>
    <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">error</span><span class="tok-p">(</span><span class="tok-s2">&quot;Houston, tenemos un problema: &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">evt</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; - jq:&quot;</span> <span class="tok-o">+</span> <span class="tok-nx">jqXHR</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; - settings :&quot;</span> <span class="tok-o">+</span> <span class="tok-nx">settings</span> <span class="tok-o">+</span> <span class="tok-s2">&quot; err:&quot;</span> <span class="tok-o">+</span> <span class="tok-nx">err</span><span class="tok-p">);</span>
  <span class="tok-p">});</span>
  <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-nb">document</span><span class="tok-p">).</span><span class="tok-nx">ajaxSuccess</span><span class="tok-p">(</span><span class="tok-kd">function</span> <span class="tok-p">()</span> <span class="tok-p">{</span>
    <span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Parece que ha funcionado todo!&quot;</span><span class="tok-p">);</span>
  <span class="tok-p">});</span>

  <span class="tok-nx">getDatos</span><span class="tok-p">();</span>
<span class="tok-p">});</span>

<span class="tok-kd">function</span> <span class="tok-nx">getDatos</span><span class="tok-p">()</span> <span class="tok-p">{</span>
	<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">getJSON</span><span class="tok-p">(</span><span class="tok-s2">&quot;http://www.omdbapi.com/?s=batman&amp;callback=?&quot;</span><span class="tok-p">,</span> <span class="tok-nx">todoOk</span><span class="tok-p">);</span>
<span class="tok-p">}</span>

<span class="tok-kd">function</span> <span class="tok-nx">todoOk</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Datos recibidos y adjuntándolos a resultado&quot;</span><span class="tok-p">);</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#resultado&quot;</span><span class="tok-p">).</span><span class="tok-nx">append</span><span class="tok-p">(</span><span class="tok-nx">JSON</span><span class="tok-p">.</span><span class="tok-nx">stringify</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">));</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Tras ejecutar el código, por la consola aparecerán los siguientes mensajes en el orden en el que se ejecutan:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/js07/js07EventosAJAX.jpg" alt="Eventos AJAX">
</div>
<div class="title">Figure 1. Eventos globales AJAX</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Autoevaluación</div>
<div class="paragraph">
<p>Si en el código renombramos la URL por la de un fichero que no encuentra, ¿Qué evento se lanza ahora y cual deja de lanzarse? <span class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</span>
¿Qué saldrá por consola? <span class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnote_2" title="View footnote.">2</a>]</span></p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_utilidades">7.3. Utilidades</h3>
<div class="paragraph">
<p>A continuación veremos un conjunto de utilidades que ofrece <em>jQuery</em>.</p>
</div>
<div class="sect3">
<h4 id="_comprobación_de_tipos">7.3.1. Comprobación de tipos</h4>
<div class="paragraph">
<p>El siguiente conjunto de funciones de comprobación de tipos, también conocidas como de introspección de objetos, nos van a permitir:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Determinar el tipo de un objeto</p>
</li>
<li>
<p>Gestionar el uso de parámetros opcionales</p>
</li>
<li>
<p>Validar parámetros</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Función</th>
<th class="tableblock halign-left valign-top">Propósito</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.isArray(<em>array</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determina si <em>array</em> es un <em>Array</em>. Si es un objeto <em>array-like</em> devolverá falso</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.isFunction(<em>función</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determina si <em>función</em> es una Función</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.isEmptyObject(<em>objeto</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determina si <em>objeto</em> esta vacío</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.isPlainObject(<em>objeto</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determina si <em>objeto</em> es un objeto sencillo, creado como un objeto literal (mediante las llaves) o mediante <code>new objeto</code>.</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.isXmlDoc(<em>documento</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determina si el <em>documento</em> es un documento XML o un nodo XML</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.isNumeric(<em>objeto</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determina si <em>objeto</em> es un valor numérico escalar.</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.isWindow(<em>objeto</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determina si <em>objeto</em> representa una ventana de navegador</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.type(<em>objeto</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obtiene la clase <em>Javascript</em> del <em>objeto</em>. Los posibles valores son <code>boolean</code>, <code>number</code>, <code>string</code>, <code>function</code>, <code>array</code>, <code>date</code>, <code>regexp</code>, <code>object</code>, <code>undefined</code> o <code>null</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Para ver estas utilidades en funcionamiento, vamos a crear un ejemplo sobre un fragmento de código que realiza una llamada a una función:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">llamaOtraFuncion</span><span class="tok-p">(</span><span class="tok-nx">veces</span><span class="tok-p">,</span> <span class="tok-nx">retraso</span><span class="tok-p">,</span> <span class="tok-nx">funcion</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-kd">var</span> <span class="tok-nx">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-p">;</span>
	<span class="tok-p">(</span> <span class="tok-kd">function</span> <span class="tok-nx">bucle</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-nx">i</span><span class="tok-o">++</span><span class="tok-p">;</span>
		<span class="tok-nx">funcion</span><span class="tok-p">();</span>
		<span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">i</span> <span class="tok-o">&lt;</span> <span class="tok-nx">veces</span><span class="tok-p">)</span> <span class="tok-p">{</span>
			<span class="tok-nx">setTimeout</span><span class="tok-p">(</span><span class="tok-nx">bucle</span><span class="tok-p">,</span> <span class="tok-nx">retraso</span><span class="tok-p">);</span>
		<span class="tok-p">}</span>
	<span class="tok-p">})();</span>
<span class="tok-p">}</span>

<span class="tok-kd">function</span> <span class="tok-nx">saluda</span><span class="tok-p">()</span> <span class="tok-p">{</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#resultado&quot;</span><span class="tok-p">).</span><span class="tok-nx">append</span><span class="tok-p">(</span><span class="tok-s2">&quot;Saludando desde la función &lt;br /&gt;&quot;</span><span class="tok-p">);</span>
<span class="tok-p">}</span>

<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
	<span class="tok-nx">llamaOtraFuncion</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-mi">500</span><span class="tok-p">,</span> <span class="tok-nx">saluda</span><span class="tok-p">);</span>
<span class="tok-p">});</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A continuación, vamos a modificarlo para asignar valores por defecto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">llamaOtraFuncion</span><span class="tok-p">(</span><span class="tok-nx">arg1</span><span class="tok-p">,</span> <span class="tok-nx">arg2</span><span class="tok-p">,</span> <span class="tok-nx">arg3</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-kd">var</span> <span class="tok-nx">veces</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">isNumeric</span><span class="tok-p">(</span><span class="tok-nx">arg1</span><span class="tok-p">)</span> <span class="tok-o">?</span> <span class="tok-nx">arg1</span> <span class="tok-o">:</span> <span class="tok-mi">5</span><span class="tok-p">;</span>
	<span class="tok-kd">var</span> <span class="tok-nx">retraso</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">isNumeric</span><span class="tok-p">(</span><span class="tok-nx">arg2</span><span class="tok-p">)</span> <span class="tok-o">?</span> <span class="tok-nx">arg2</span> <span class="tok-o">:</span> <span class="tok-mi">1000</span><span class="tok-p">;</span>
	<span class="tok-kd">var</span> <span class="tok-nx">funcion</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">isFunction</span><span class="tok-p">(</span><span class="tok-nx">arg1</span><span class="tok-p">)</span> <span class="tok-o">?</span> <span class="tok-nx">arg1</span> <span class="tok-o">:</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">isFunction</span><span class="tok-p">(</span><span class="tok-nx">arg2</span><span class="tok-p">)</span> <span class="tok-o">?</span> <span class="tok-nx">arg2</span> <span class="tok-o">:</span> <span class="tok-nx">arg3</span><span class="tok-p">;</span>

	<span class="tok-kd">var</span> <span class="tok-nx">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-p">;</span>
	<span class="tok-c1">// resto de código...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>De modo que ahora podemos realizar diferentes llamadas sobrecargando los parámetros:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">llamaOtraFuncion</span><span class="tok-p">(</span><span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-mi">500</span><span class="tok-p">,</span> <span class="tok-nx">saluda</span><span class="tok-p">);</span>	<span class="tok-c1">// 3 veces con retardo de 0,5 seg</span>
<span class="tok-nx">llamaOtraFuncion</span><span class="tok-p">(</span><span class="tok-nx">saluda</span><span class="tok-p">);</span>	<span class="tok-c1">// 5 veces con retardo de 1 seg</span>
<span class="tok-nx">llamaOtraFuncion</span><span class="tok-p">(</span><span class="tok-mi">7</span><span class="tok-p">,</span> <span class="tok-nx">saluda</span><span class="tok-p">);</span>	<span class="tok-c1">// 7 veces con retardo de 1 seg</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_manipulación_de_colecciones">7.3.2. Manipulación de colecciones</h4>
<div class="paragraph">
<p>El siguiente conjunto de funciones de manipulación de objetos nos permiten trabajar con <em>arrays</em> y objetos simplificando ciertas tareas:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Función</th>
<th class="tableblock halign-left valign-top">Propósito</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.makeArray(<em>objeto</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Convierte el <em>objeto</em> en un <em>array</em>. Se utiliza cuando necesitamos llamar a funciones que sólo soportan los <em>arrays</em>, como <code>join</code> o <code>reverse</code>, o cuando necesitamos pasar un parametro a una función como <em>array</em></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.inArray(<em>valor</em>, <em>array</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determina si el <em>array</em> contiene el <em>valor</em>. Devuelve <code>-1</code> o el índice que ocupa el <em>valor</em>. Un tercer parámetro opcional permite indicar el índice por el cual comienza la búsqueda.</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.unique(<em>array</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Elimina cualquier elemento duplicado que se encuentre en el <em>array</em></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.merge(<em>array1</em>, <em>array2</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Combina los contenidos de <em>array1</em> y <em>array2</em>, similar a la función <code>concat()</code>.</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.map(<em>array</em>, <em>callback</em>)</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Construye un nuevo array cuyo contenido es el resultado de llamar al <em>callback</em> para cada elemento, similar a la funcion <code>map()</code>.</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">$.grep(<em>array</em>, <em>callback</em> [,invertido])</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filtra el <em>array</em> mediante el <em>callback</em>, de modo que añadirá los elementos que pasen la función, la cual recibe un objeto DOM como parámetro, y devuelve un <em>array JavaScript</em>, similar a la función <code>filter()</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A continuación tenemos un fragmento de código con ejemplos de uso de estos métodos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">miArray</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-mi">3</span><span class="tok-p">,</span> <span class="tok-mi">4</span><span class="tok-p">,</span> <span class="tok-mi">4</span><span class="tok-p">,</span> <span class="tok-mi">5</span><span class="tok-p">];</span>
<span class="tok-kd">var</span> <span class="tok-nx">miArray2</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-mi">6</span><span class="tok-p">,</span> <span class="tok-mi">7</span><span class="tok-p">,</span> <span class="tok-mi">8</span><span class="tok-p">];</span>

<span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">inArray</span><span class="tok-p">(</span><span class="tok-mi">4</span><span class="tok-p">,</span> <span class="tok-nx">miArray</span><span class="tok-p">)</span> <span class="tok-o">!=</span> <span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;4 esta en el array&quot;</span><span class="tok-p">);</span>
<span class="tok-p">}</span>

<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">unique</span><span class="tok-p">(</span><span class="tok-nx">miArray</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">miArray</span><span class="tok-p">);</span> <span class="tok-c1">// [1, 2, 3, 4, 5]</span>

<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">merge</span><span class="tok-p">(</span><span class="tok-nx">miArray</span><span class="tok-p">,</span> <span class="tok-nx">miArray2</span><span class="tok-p">);</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">miArray</span><span class="tok-p">);</span>

<span class="tok-kd">var</span> <span class="tok-nx">miArrayDoble</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">map</span><span class="tok-p">(</span><span class="tok-nx">miArray</span><span class="tok-p">,</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">elem</span><span class="tok-p">,</span> <span class="tok-nx">indice</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-k">return</span> <span class="tok-nx">indice</span> <span class="tok-o">*</span> <span class="tok-mi">2</span><span class="tok-p">;</span>
<span class="tok-p">});</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">miArrayDoble</span><span class="tok-p">);</span>

<span class="tok-kd">var</span> <span class="tok-nx">miArrayFiltrado</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">grep</span><span class="tok-p">(</span><span class="tok-nx">miArray</span><span class="tok-p">,</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">elem</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-k">return</span> <span class="tok-nx">elem</span> <span class="tok-o">%</span> <span class="tok-mi">2</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">;</span>
<span class="tok-p">});</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-nx">miArrayFiltrado</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Autoevaluación</div>
<div class="paragraph">
<p>¿Qué saldrá por la consola tras ejecutar el método <code>$.merge()</code>? <span class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnote_3" title="View footnote.">3</a>]</span></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_copiando_objetos">7.3.3. Copiando objetos</h4>
<div class="paragraph">
<p>Si tenemos uno o varios objetos de los cuales queremos copiar sus propiedades en uno final, podemos hacer uso del método <code>$.extend(<em>destino</em>, <em>origen</em>)</code>;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">animal</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
	<span class="tok-nx">comer</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Comiendo&quot;</span><span class="tok-p">);</span>
	<span class="tok-p">}</span>
<span class="tok-p">}</span>
<span class="tok-kd">var</span> <span class="tok-nx">perro</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
	<span class="tok-nx">ladrar</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Ladrando&quot;</span><span class="tok-p">);</span>
	<span class="tok-p">}</span>
<span class="tok-p">}</span>

<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">extend</span><span class="tok-p">(</span><span class="tok-nx">perro</span><span class="tok-p">,</span> <span class="tok-nx">animal</span><span class="tok-p">);</span>
<span class="tok-nx">perro</span><span class="tok-p">.</span><span class="tok-nx">comer</span><span class="tok-p">();</span>	<span class="tok-c1">// Comiendo</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Es decir, permite copiar miembros de un objeto fuente en uno destino, sin realizar herencia, sólo clonando las propiedades. Si hay un conflicto, se sobreescribirán con las propiedades del objeto fuente, y si tenemos múltiples objetos fuentes, de izquierda a derecha.</p>
</div>
<div class="paragraph">
<p>Si los objetos que vamos a clonar contienen objetos anidados, necesitamos indicarle a <em>jQuery</em> que el clonado debe ser recursivo, mediante un booleano a  <code>true</code> como primer parámetro:</p>
</div>
<div class="listingblock">
<div class="title">Ejemplo $.extend() <a href="http://jsbin.com/vinawe/1/edit?js,console" class="bare">http://jsbin.com/vinawe/1/edit?js,console</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">animal</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
	<span class="tok-nx">acciones</span><span class="tok-o">:</span> <span class="tok-p">{</span>
		<span class="tok-nx">comer</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
			<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Comiendo&quot;</span><span class="tok-p">);</span>
		<span class="tok-p">},</span>
		<span class="tok-nx">sentar</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
			<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Sentando&quot;</span><span class="tok-p">);</span>
		<span class="tok-p">}</span>
	<span class="tok-p">}</span>
<span class="tok-p">};</span>
<span class="tok-kd">var</span> <span class="tok-nx">perro</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
	<span class="tok-nx">acciones</span><span class="tok-o">:</span> <span class="tok-p">{</span>
		<span class="tok-nx">ladrar</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
			<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Ladrando&quot;</span><span class="tok-p">);</span>
		<span class="tok-p">},</span>
		<span class="tok-nx">cavar</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
			<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Cavando&quot;</span><span class="tok-p">);</span>
		<span class="tok-p">}</span>
	<span class="tok-p">}</span>
<span class="tok-p">};</span>
<span class="tok-kd">var</span> <span class="tok-nx">perroCopia</span> <span class="tok-o">=</span> <span class="tok-p">{};</span>

<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">extend</span><span class="tok-p">(</span><span class="tok-nx">perroCopia</span><span class="tok-p">,</span> <span class="tok-nx">perro</span><span class="tok-p">);</span>	<i class="conum" data-value="1"></i><b>(1)</b>
<span class="tok-nx">perroCopia</span><span class="tok-p">.</span><span class="tok-nx">acciones</span><span class="tok-p">.</span><span class="tok-nx">ladrar</span><span class="tok-p">();</span>	<span class="tok-c1">// Ladrando</span>

<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">extend</span><span class="tok-p">(</span><span class="tok-kc">true</span><span class="tok-p">,</span> <span class="tok-nx">perroCopia</span><span class="tok-p">,</span> <span class="tok-nx">animal</span><span class="tok-p">);</span>	<i class="conum" data-value="2"></i><b>(2)</b>
<span class="tok-nx">perroCopia</span><span class="tok-p">.</span><span class="tok-nx">acciones</span><span class="tok-p">.</span><span class="tok-nx">comer</span><span class="tok-p">();</span>	<span class="tok-c1">// Comiendo</span>
<span class="tok-nx">perroCopia</span><span class="tok-p">.</span><span class="tok-nx">acciones</span><span class="tok-p">.</span><span class="tok-nx">ladrar</span><span class="tok-p">();</span>	<span class="tok-c1">// Ladrando</span>

<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">extend</span><span class="tok-p">(</span><span class="tok-nx">perro</span><span class="tok-p">,</span> <span class="tok-nx">animal</span><span class="tok-p">);</span>		<i class="conum" data-value="3"></i><b>(3)</b>
<span class="tok-nx">perro</span><span class="tok-p">.</span><span class="tok-nx">acciones</span><span class="tok-p">.</span><span class="tok-nx">comer</span><span class="tok-p">();</span>		<span class="tok-c1">// Comiendo</span>
<span class="tok-nx">perro</span><span class="tok-p">.</span><span class="tok-nx">acciones</span><span class="tok-p">.</span><span class="tok-nx">ladrar</span><span class="tok-p">();</span>	<span class="tok-c1">// error</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Copiamos los atributos de <code>perro</code> en <code>perroCopia</code>, con lo que podemos acceder a las propiedades</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Al hacer una copia recursiva, en vez de sustituir la propiedad <code>acciones</code> de <code>perroCopia</code> por la de <code>animal</code>, las fusiona</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>En cambio, si no hacemos la copia recursiva, podemos acceder a las propiedades de <code>animal</code> pero no a las de <code>perro</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Más información en <a href="http://api.jquery.com/jquery.extend/" class="bare">http://api.jquery.com/jquery.extend/</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_plugins">7.4. Plugins</h3>
<div class="paragraph">
<p>Aunque el núcleo de <em>jQuery</em> ya ofrece multitud de funcionalidad y utilidades, también soporta una arquitectura de plugins para extender la funcionalidad de la librería.</p>
</div>
<div class="paragraph">
<p>El <em>website</em> de <em>jQuery</em> ofrece un enorme repositorio de <em>plugins</em> en <a href="http://plugins.jquery.com/" class="bare">http://plugins.jquery.com/</a>, donde se listan con demos, código de ejemplo y tutoriales para facilitar su uso.</p>
</div>
<div class="paragraph">
<p>En la siguiente sesión estudiaremos el <em>plugin</em> <em>jQueryUI</em> como un ejemplo de complemento que extiende la librería.</p>
</div>
<div class="paragraph">
<p>Aunque <em>jQuery</em> ofrece múltitud de <em>plugins</em> que extienden el código, en ocasiones necesitamos ir un poco más allá y nos toca escribir nuestro propio código que podemos empaquetar como un nuevo plugin.</p>
</div>
<div class="paragraph">
<p>El archivo fuente que contenga nuestro <em>plugin</em> debería cumplir la siguiente convención de nombrado:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh">jquery.nombrePlugin.js
jquery.nombrePlugin-1.0.js</code></pre>
</div>
</div>
<div class="paragraph">
<p>Además, se recomienda añadir un comentario en la cabecera donde se visualice la versión del mismo.</p>
</div>
<div class="sect3">
<h4 id="_creando_un_plugin">7.4.1. Creando un plugin</h4>
<div class="paragraph">
<p>A la hora de crear un <em>plugin</em>, lo primero que asumimos es que <em>jQuery</em> ha cargado. Lo que no podemos asumir es que el alias <code>$</code> esté disponible. Por ello, dentro de nuestros plugins usaremos el nombre completo <code>jQuery</code> o definiremos el <code>$</code> por nosotros mismos.</p>
</div>
<div class="paragraph">
<p>Conviene recordar que podemos hacer uso de una <em>IIFE</em> para poder usar el <code>$</code> dentro de nuestro plugin:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">$</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-c1">// código del plugin</span>
<span class="tok-p">})(</span><span class="tok-nx">jQuery</span><span class="tok-p">);</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_funciones_globales">7.4.2. Funciones globales</h4>
<div class="paragraph">
<p>Del mismo modo que <em>jQuery</em> ofrece la función <code>$.ajax()</code>, la cual no necesita ningún objeto para funcionar, nosotros podemos extender el abanico de funciones de utilidades que ofrece <em>jQuery</em>.</p>
</div>
<div class="paragraph">
<p>Para añadir una función al espacio de nombre de <em>jQuery</em> únicamente hemos de asignar la función como una propiedad del objeto <code>jQuery</code>:</p>
</div>
<div class="listingblock">
<div class="title">Añadir función global en jQuery - <a href="http://jsbin.com/zohugu/1/edit?js,console" class="bare">http://jsbin.com/zohugu/1/edit?js,console</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">$</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">suma</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">array</span><span class="tok-p">)</span> <span class="tok-p">{</span>	<i class="conum" data-value="1"></i><b>(1)</b>
		<span class="tok-kd">var</span> <span class="tok-nx">total</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-p">;</span>
		<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">each</span><span class="tok-p">(</span><span class="tok-nx">array</span><span class="tok-p">,</span> <span class="tok-kd">function</span> <span class="tok-p">(</span><span class="tok-nx">indice</span><span class="tok-p">,</span> <span class="tok-nx">valor</span><span class="tok-p">)</span> <span class="tok-p">{</span>
			<span class="tok-nx">valor</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">trim</span><span class="tok-p">(</span><span class="tok-nx">valor</span><span class="tok-p">);</span>
			<span class="tok-nx">valor</span> <span class="tok-o">=</span> <span class="tok-nb">parseFloat</span><span class="tok-p">(</span><span class="tok-nx">valor</span><span class="tok-p">)</span> <span class="tok-o">||</span> <span class="tok-mi">0</span><span class="tok-p">;</span>

			<span class="tok-nx">total</span> <span class="tok-o">+=</span> <span class="tok-nx">valor</span><span class="tok-p">;</span>
		<span class="tok-p">});</span>
		<span class="tok-k">return</span> <span class="tok-nx">total</span><span class="tok-p">;</span>
	<span class="tok-p">};</span>
<span class="tok-p">})(</span><span class="tok-nx">jQuery</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Le asociamos la función a la propiedad de <em>jQuery</em></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>De este modo, vamos a poder llamar a esta función mediante:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">resultado</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">suma</span><span class="tok-p">([</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">]);</span>	<span class="tok-c1">// 10</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>También podríamos crear un nuevo espacio de nombres para las funciones globales que queramos añadir, y así evitar conflictos que puedan aparecer con otros plugins. Para ello, sólo hemos de asociar a nuestra función global un objeto el cual contenga como propiedades las funciones que queramos añadir como plugin:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">$</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">MathUtils</span> <span class="tok-o">=</span> <span class="tok-p">{</span>
		<span class="tok-nx">suma</span> <span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">array</span><span class="tok-p">)</span> <span class="tok-p">{</span>
			<span class="tok-c1">// código de la función</span>
		<span class="tok-p">},</span>
		<span class="tok-nx">media</span><span class="tok-o">:</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">array</span><span class="tok-p">)</span> <span class="tok-p">{</span>
			<span class="tok-c1">// código de la función</span>
		<span class="tok-p">}</span>
	<span class="tok-p">};</span>
<span class="tok-p">})(</span><span class="tok-nx">jQuery</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>De este modo, invocaremos a las funciones así:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">resultado</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">MathUtils</span><span class="tok-p">.</span><span class="tok-nx">suma</span><span class="tok-p">([</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">]);</span>
<span class="tok-kd">var</span> <span class="tok-nx">resultado</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">MathUtils</span><span class="tok-p">.</span><span class="tok-nx">media</span><span class="tok-p">([</span><span class="tok-mi">1</span><span class="tok-p">,</span><span class="tok-mi">2</span><span class="tok-p">,</span><span class="tok-mi">3</span><span class="tok-p">,</span><span class="tok-mi">4</span><span class="tok-p">]);</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_métodos_de_objeto">7.4.3. Métodos de objeto</h4>
<div class="paragraph">
<p>Si queremos extender las funciones de <em>jQuery</em>, mediante prototipos podemos crear métodos nuevos que se apliquen al objeto <code>jQuery</code> activo. <em>jQuery</em> utiliza el alias <code>fn</code> en vez <code>prototype</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">$</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">fn</span><span class="tok-p">.</span><span class="tok-nx">nombreNuevaFuncion</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-c1">// código nuevo</span>
	<span class="tok-p">};</span>
<span class="tok-p">})(</span><span class="tok-nx">jQuery</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Normalmente no sabemos si la función trabajará sobre un sólo objeto o sobre una colección, ya que un selector de <em>jQuery</em> puede devolver cero, uno o múltiples elementos. De modo que una buena práctica es plantear un escenario donde recibimos un array de datos.</p>
</div>
<div class="paragraph">
<p>La manera más facil de garantizar este comportamiento es iterar sobre la colección mediante el método <code>each()</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">fn</span><span class="tok-p">.</span><span class="tok-nx">nombreNuevaFuncion</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
	<span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">each</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-c1">// Hacemos algo con cada elemento</span>
	<span class="tok-p">});</span>
<span class="tok-p">};</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Así pues, si quisiéramos extender <em>jQuery</em> y ofrecer un nuevo método que le cambiase la clase CSS a un nodo haríamos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">$</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">fn</span><span class="tok-p">.</span><span class="tok-nx">cambiarClase</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">clase1</span><span class="tok-p">,</span> <span class="tok-nx">clase2</span><span class="tok-p">)</span> <span class="tok-p">{</span>
		<span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">each</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>	<i class="conum" data-value="1"></i><b>(1)</b>
			<span class="tok-kd">var</span> <span class="tok-nx">elem</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">);</span>	<i class="conum" data-value="2"></i><b>(2)</b>
			<span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">elem</span><span class="tok-p">.</span><span class="tok-nx">hasClass</span><span class="tok-p">(</span><span class="tok-nx">clase1</span><span class="tok-p">))</span> <span class="tok-p">{</span>
				<span class="tok-nx">elem</span><span class="tok-p">.</span><span class="tok-nx">removeClass</span><span class="tok-p">(</span><span class="tok-nx">clase1</span><span class="tok-p">).</span><span class="tok-nx">addClass</span><span class="tok-p">(</span><span class="tok-nx">clase2</span><span class="tok-p">);</span>
			<span class="tok-p">}</span> <span class="tok-k">else</span> <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">elem</span><span class="tok-p">.</span><span class="tok-nx">hasClass</span><span class="tok-p">(</span><span class="tok-nx">clase2</span><span class="tok-p">))</span> <span class="tok-p">{</span>
				<span class="tok-nx">elem</span><span class="tok-p">.</span><span class="tok-nx">removeClass</span><span class="tok-p">(</span><span class="tok-nx">clase2</span><span class="tok-p">).</span><span class="tok-nx">addClass</span><span class="tok-p">(</span><span class="tok-nx">clase1</span><span class="tok-p">);</span>
			<span class="tok-p">}</span>
		<span class="tok-p">});</span>
	<span class="tok-p">};</span>
<span class="tok-p">})(</span><span class="tok-nx">jQuery</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Recorremos la colección de objetos que nos devuelve el selector. En este punto <code>this</code> referencia al objeto devuelto por <em>jQuery</em></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Cacheamos la referencia al elemento en concreto sobre el que iteramos</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Esto permitirá que posteriormente realicemos una llamada al nuevo método mediante cualquier selector:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;div&quot;</span><span class="tok-p">).</span><span class="tok-nx">cambiarClase</span><span class="tok-p">(</span><span class="tok-s2">&quot;principal&quot;</span><span class="tok-p">,</span><span class="tok-s2">&quot;secundaria&quot;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_encadenar_funciones">Encadenar funciones</h5>
<div class="paragraph">
<p>Al crear una función prototipo, hemos de tener en cuenta que probablemente, después de llamar a nuestra función, es posible que el desarrollador quiera seguir encadenando llamadas.</p>
</div>
<div class="paragraph">
<p>Es por ello, que es muy importante que la función devuelva un objeto <code>jQuery</code> para permitir que continúe el encadenamiento. Este objeto normalmente es el mismo que <code>this</code>.</p>
</div>
<div class="paragraph">
<p>En nuestro caso, podemos modificar el plugin para devolver el objeto que iteramos:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">$</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">fn</span><span class="tok-p">.</span><span class="tok-nx">cambiarClase</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">clase1</span><span class="tok-p">,</span> <span class="tok-nx">clase2</span><span class="tok-p">)</span> <span class="tok-p">{</span>
		<span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">each</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>	<i class="conum" data-value="1"></i><b>(1)</b>
			<span class="tok-kd">var</span> <span class="tok-nx">elem</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">);</span>
			<span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">elem</span><span class="tok-p">.</span><span class="tok-nx">hasClass</span><span class="tok-p">(</span><span class="tok-nx">clase1</span><span class="tok-p">))</span> <span class="tok-p">{</span>
				<span class="tok-nx">elem</span><span class="tok-p">.</span><span class="tok-nx">removeClass</span><span class="tok-p">(</span><span class="tok-nx">clase1</span><span class="tok-p">).</span><span class="tok-nx">addClass</span><span class="tok-p">(</span><span class="tok-nx">clase2</span><span class="tok-p">);</span>
			<span class="tok-p">}</span> <span class="tok-k">else</span> <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">elem</span><span class="tok-p">.</span><span class="tok-nx">hasClass</span><span class="tok-p">(</span><span class="tok-nx">clase2</span><span class="tok-p">))</span> <span class="tok-p">{</span>
				<span class="tok-nx">elem</span><span class="tok-p">.</span><span class="tok-nx">removeClass</span><span class="tok-p">(</span><span class="tok-nx">clase2</span><span class="tok-p">).</span><span class="tok-nx">addClass</span><span class="tok-p">(</span><span class="tok-nx">clase1</span><span class="tok-p">);</span>
			<span class="tok-p">}</span>
		<span class="tok-p">});</span>
	<span class="tok-p">};</span>
<span class="tok-p">})(</span><span class="tok-nx">jQuery</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Al devolver cada objeto que iteramos, permitimos el encadenamiento</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Función como parámetro</div>
<div class="paragraph">
<p>Al encadenar funciones, si queremos que nuestro plugin reciba como párametro una función, por ejemplo para dar soporte a <em>callbacks</em>, para evitar un mal funcionamiento cuando no se pase ninguna función, hemos de comprobar si es una función e invocarla en dicho caso:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">fn</span><span class="tok-p">.</span><span class="tok-nx">pluginQueRecibeFuncion</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">funcionParam</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">isFunction</span><span class="tok-p">(</span><span class="tok-nx">funcionParam</span><span class="tok-p">))</span> <span class="tok-p">{</span>
		<span class="tok-nx">funcionParam</span><span class="tok-p">.</span><span class="tok-nx">call</span><span class="tok-p">(</span><span class="tok-k">this</span><span class="tok-p">);</span>
	<span class="tok-p">}</span>
	<span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">;</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_opciones">Opciones</h5>
<div class="paragraph">
<p>Conforme los <em>plugins</em> crecen, es una buena práctica permitir que el plugin reciba un objeto con las opciones de configuración del mismo.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">fn</span><span class="tok-p">.</span><span class="tok-nx">pluginConConf</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">opciones</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-kd">var</span> <span class="tok-nx">confFabrica</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-nx">prop</span><span class="tok-o">:</span> <span class="tok-s2">&quot;valorPorDefecto&quot;</span><span class="tok-p">};</span>
	<span class="tok-kd">var</span> <span class="tok-nx">conf</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">extend</span><span class="tok-p">(</span><span class="tok-nx">confFabrica</span><span class="tok-p">,</span> <span class="tok-nx">opciones</span><span class="tok-p">);</span>	<i class="conum" data-value="1"></i><b>(1)</b>

	<span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">each</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-c1">// código que trabaja con conf.prop </span><i class="conum" data-value="2"></i><b>(2)</b>
	<span class="tok-p">});</span>
<span class="tok-p">};</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Sobreescribe los valores de fabrica del objeto de configuración con el recibido como parámetro</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Dentro de la iteración, usamos los valores que contiene el objeto de configuración</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Además, es conveniente que permitamos modificar los valores de fabrica para permitir mayor flexibilidad. Para ello, extraemos los valores de fábrica del <em>plugin</em> a una propiedad del método:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">fn</span><span class="tok-p">.</span><span class="tok-nx">pluginConConf</span> <span class="tok-o">=</span> <span class="tok-kd">function</span><span class="tok-p">(</span><span class="tok-nx">opciones</span><span class="tok-p">)</span> <span class="tok-p">{</span>

	<span class="tok-kd">var</span> <span class="tok-nx">conf</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">extend</span><span class="tok-p">({},</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">fn</span><span class="tok-p">.</span><span class="tok-nx">pluginConConf</span><span class="tok-p">.</span><span class="tok-nx">confFabrica</span><span class="tok-p">,</span> <span class="tok-nx">opciones</span><span class="tok-p">);</span>	<i class="conum" data-value="1"></i><b>(1)</b>

	<span class="tok-k">return</span> <span class="tok-k">this</span><span class="tok-p">.</span><span class="tok-nx">each</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
		<span class="tok-c1">// código que trabaja con conf.prop</span>
	<span class="tok-p">});</span>
<span class="tok-p">};</span>

<span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">fn</span><span class="tok-p">.</span><span class="tok-nx">pluginConConf</span><span class="tok-p">.</span><span class="tok-nx">confFabrica</span> <span class="tok-o">=</span> <span class="tok-p">{</span><span class="tok-nx">prop</span><span class="tok-o">:</span> <span class="tok-s2">&quot;valorPorDefecto&quot;</span><span class="tok-p">};</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Creamos un nuevo objeto de configuración</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>De este modo, vamos a poder inicializar los valores de fábrica, incluso desde fuera de un bloque de <code>ready</code> mediante:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">fn</span><span class="tok-p">.</span><span class="tok-nx">pluginConConf</span><span class="tok-p">.</span><span class="tok-nx">confFabrica</span><span class="tok-p">.</span><span class="tok-nx">prop</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;nuevoValor&quot;</span><span class="tok-p">;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rendimiento">7.5. Rendimiento</h3>
<div class="paragraph">
<p>A la hora de escribir código <em>jQuery</em> es útil conocer la manera de que tenga el mejor rendimiento sin penalizar la comprensión ni mantenibilidad del código. Sin embargo, es importante tener en mente que la optimización prematura suele ser la raíz de todos los males.</p>
</div>
<div class="sect3">
<h4 id="_consejos_de_rendimiento">7.5.1. Consejos de rendimiento</h4>
<div class="paragraph">
<p>Una vez localizado el problema mediante el <em>profiling</em> del código que vimos en la sesión de <em>JavaScript</em>, llega el momento de optimizar el código. Para ello, deberemos:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Utilizar la <strong>última versión de <em>jQuery</em></strong>, ya que siempre contienen mejoras de rendimiento que repercutirán en nuestra aplicación.</p>
</li>
<li>
<p><strong>Cachear los selectores</strong>, para evitar búsquedas innecesarias. Por ejemplo, el siguiente fragmento realiza 1000 búsquedas:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">time</span><span class="tok-p">(</span><span class="tok-s2">&quot;Sin cachear&quot;</span><span class="tok-p">);</span>
<span class="tok-k">for</span> <span class="tok-p">(</span><span class="tok-kd">var</span> <span class="tok-nx">i</span><span class="tok-o">=</span><span class="tok-mi">0</span><span class="tok-p">;</span> <span class="tok-nx">i</span> <span class="tok-o">&lt;</span> <span class="tok-mi">1000</span><span class="tok-p">;</span> <span class="tok-nx">i</span><span class="tok-o">++</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-kd">var</span> <span class="tok-nx">s</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;div&quot;</span><span class="tok-p">);</span>
<span class="tok-p">}</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">timeEnd</span><span class="tok-p">(</span><span class="tok-s2">&quot;Sin cachear&quot;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Mientras que así sólo realizamos una:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">time</span><span class="tok-p">(</span><span class="tok-s2">&quot;Cacheando&quot;</span><span class="tok-p">);</span>
<span class="tok-kd">var</span> <span class="tok-nx">miCapa</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;div&quot;</span><span class="tok-p">);</span>
<span class="tok-k">for</span> <span class="tok-p">(</span><span class="tok-kd">var</span> <span class="tok-nx">i</span><span class="tok-o">=</span><span class="tok-mi">0</span><span class="tok-p">;</span> <span class="tok-nx">i</span> <span class="tok-o">&lt;</span> <span class="tok-mi">1000</span><span class="tok-p">;</span> <span class="tok-nx">i</span><span class="tok-o">++</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-kd">var</span> <span class="tok-nx">s</span> <span class="tok-o">=</span> <span class="tok-nx">miCapa</span><span class="tok-p">;</span>
<span class="tok-p">}</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">timeEnd</span><span class="tok-p">(</span><span class="tok-s2">&quot;Cacheando&quot;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Y por la consola tendremos que el fragmento que no cachea tarda 8.990ms mientras que el que cachea sólo 0.045ms, es decir, 200 veces menos.</p>
</div>
</li>
<li>
<p><strong>Cachear otros elementos</strong>, como llamadas a métodos o acceso a propiedades dentro de bucles. Por ejemplo, el siguiente fragmento recorre un conjunto de 1000 capas:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">time</span><span class="tok-p">(</span><span class="tok-s2">&quot;Sin cachear&quot;</span><span class="tok-p">);</span>
<span class="tok-kd">var</span> <span class="tok-nx">miCapa</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;div&quot;</span><span class="tok-p">);</span>
<span class="tok-kd">var</span> <span class="tok-nx">s</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-p">;</span>
<span class="tok-k">for</span> <span class="tok-p">(</span><span class="tok-kd">var</span> <span class="tok-nx">i</span><span class="tok-o">=</span><span class="tok-mi">0</span><span class="tok-p">;</span> <span class="tok-nx">i</span> <span class="tok-o">&lt;</span> <span class="tok-nx">miCapa</span><span class="tok-p">.</span><span class="tok-nx">length</span><span class="tok-p">;</span> <span class="tok-nx">i</span><span class="tok-o">++</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">s</span> <span class="tok-o">+=</span> <span class="tok-nx">i</span><span class="tok-p">;</span>
<span class="tok-p">}</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">timeEnd</span><span class="tok-p">(</span><span class="tok-s2">&quot;Sin cachear&quot;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Mientras que sí extraemos la llamada al método fuera del bucle, accederemos a la propiedad de longitud una sola vez:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">time</span><span class="tok-p">(</span><span class="tok-s2">&quot;Cacheando&quot;</span><span class="tok-p">);</span>
<span class="tok-kd">var</span> <span class="tok-nx">miCapa</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;div&quot;</span><span class="tok-p">);</span>
<span class="tok-kd">var</span> <span class="tok-nx">longitud</span> <span class="tok-o">=</span> <span class="tok-nx">miCapa</span><span class="tok-p">.</span><span class="tok-nx">length</span><span class="tok-p">;</span>
<span class="tok-kd">var</span> <span class="tok-nx">s</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-p">;</span>
<span class="tok-k">for</span> <span class="tok-p">(</span><span class="tok-kd">var</span> <span class="tok-nx">i</span><span class="tok-o">=</span><span class="tok-mi">0</span><span class="tok-p">;</span> <span class="tok-nx">i</span> <span class="tok-o">&lt;</span> <span class="tok-nx">longitud</span><span class="tok-p">;</span> <span class="tok-nx">i</span><span class="tok-o">++</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">s</span> <span class="tok-o">+=</span> <span class="tok-nx">i</span><span class="tok-p">;</span>
<span class="tok-p">}</span>
<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">timeEnd</span><span class="tok-p">(</span><span class="tok-s2">&quot;Cacheando&quot;</span><span class="tok-p">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>También podemos cachear llamadas AJAX del siguiente modo:</p>
</div>
<div class="listingblock">
<div class="title">Ejemplo cacheo llamadas AJAX - <a href="http://jsbin.com/kabuju/edit?js,console,output" class="bare">http://jsbin.com/kabuju/edit?js,console,output</a></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">function</span> <span class="tok-nx">getDatos</span><span class="tok-p">(</span><span class="tok-nx">id</span><span class="tok-p">)</span> <span class="tok-p">{</span>
  <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-o">!</span><span class="tok-nx">api</span><span class="tok-p">[</span><span class="tok-nx">id</span><span class="tok-p">])</span> <span class="tok-p">{</span>
		<span class="tok-kd">var</span> <span class="tok-nx">url</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;http://www.omdbapi.com/?s=&quot;</span> <span class="tok-o">+</span> <span class="tok-nx">busqueda</span> <span class="tok-o">+</span> <span class="tok-s2">&quot;&amp;callback=?&quot;</span><span class="tok-p">;</span>
		<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Petición a &quot;</span> <span class="tok-o">+</span> <span class="tok-nx">url</span><span class="tok-p">);</span>
		<span class="tok-nx">api</span><span class="tok-p">[</span><span class="tok-nx">id</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">getJSON</span><span class="tok-p">(</span><span class="tok-nx">url</span><span class="tok-p">);</span>
  <span class="tok-p">}</span>

  <span class="tok-nx">api</span><span class="tok-p">[</span><span class="tok-nx">id</span><span class="tok-p">].</span><span class="tok-nx">done</span><span class="tok-p">(</span><span class="tok-nx">todoOk</span><span class="tok-p">).</span><span class="tok-nx">fail</span><span class="tok-p">(</span><span class="tok-kd">function</span><span class="tok-p">()</span> <span class="tok-p">{</span>
    <span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#resultado&quot;</span><span class="tok-p">).</span><span class="tok-nx">html</span><span class="tok-p">(</span><span class="tok-s2">&quot;Error&quot;</span><span class="tok-p">);</span>
  <span class="tok-p">});</span>
<span class="tok-p">}</span>

<span class="tok-kd">function</span> <span class="tok-nx">todoOk</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">)</span> <span class="tok-p">{</span>
	<span class="tok-nx">console</span><span class="tok-p">.</span><span class="tok-nx">log</span><span class="tok-p">(</span><span class="tok-s2">&quot;Datos recibidos y adjuntándolos a resultado&quot;</span><span class="tok-p">);</span>
	<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#resultado&quot;</span><span class="tok-p">).</span><span class="tok-nx">append</span><span class="tok-p">(</span><span class="tok-nx">JSON</span><span class="tok-p">.</span><span class="tok-nx">stringify</span><span class="tok-p">(</span><span class="tok-nx">datos</span><span class="tok-p">));</span>
<span class="tok-p">}</span></code></pre>
</div>
</div>
</li>
<li>
<p>Cuando sea posible, <strong>utilizar propiedades de elementos</strong>. En vez de utilizar un método <em>jQuery</em>, en ocasiones, podemos obtener la misma información a partir de una propiedad. Por ejemplo, en vez de obtener el atributo <code>id</code> mediante el método <code>attr</code> hacerlo mediante su propiedad:</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">lento</span> <span class="tok-o">=</span> <span class="tok-nx">miCapa</span><span class="tok-p">.</span><span class="tok-nx">attr</span><span class="tok-p">(</span><span class="tok-s2">&quot;id&quot;</span><span class="tok-p">);</span>
<span class="tok-kd">var</span> <span class="tok-nx">rapido</span> <span class="tok-o">=</span> <span class="tok-nx">miCapa</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">].</span><span class="tok-nx">id</span><span class="tok-p">;</span></code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Hay que tener cuidado que normalmente al acceder mediante una propiedad el resultado deja de ser un objeto <em>jQuery</em>, con lo que no vamos a poder encadenar el resultado en una llamada posterior.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Estos y más consejos detallados los promueve <em>jQuery</em> en <a href="http://learn.jquery.com/performance/" class="bare">http://learn.jquery.com/performance/</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ejercicios">7.6. Ejercicios</h3>
<div class="sect3">
<h4 id="__0_4_ptos_ejercicio_71_apuntes_2_0">7.6.1. (0.4 ptos) Ejercicio 71. Apuntes 2.0</h4>
<div class="paragraph">
<p>A partir del ejercicio 62 realizado en la sesión anterior donde modificábamos la página de apuntes, vamos a mejorarlo de manera que:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Al cargar la página, todos los capítulos estén ocultos, incluidas las notas al pie.</p>
</li>
<li>
<p>Al pulsar sobre un enlace de la tabla de contenidos, se muestre el contenido de dicho capítulo. Si había un capítulo mostrado, debe ocultarse. Es decir, sólo puede visualizar en pantalla un único capítulo.</p>
</li>
<li>
<p>Tanto la aparición como la desaparición del contenido se debe realizar mediante una animación.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Al cargar la página la apariencia será similar a la siguiente imagen:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/js07/ejer71.jpg" alt="Apuntes 2.0">
</div>
<div class="title">Figure 2. Apuntes 2.0</div>
</div>
<div class="paragraph">
<p>Todo el código estará incluido en el archivo <code>ej71.js</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="__0_5_ptos_ejercicio_72_star_wars_em_jquery_em">7.6.2. (0.5 ptos) Ejercicio 72. Star Wars <em>jQuery</em></h4>
<div class="paragraph">
<p>A partir del ejercicio 51 sobre <em>Star Wars API</em>, vamos a basarnos en el mismo API pero escribiendo el código mediante <em>jQuery</em> y su API para AJAX.</p>
</div>
<div class="paragraph">
<p>Ahora vamos a mostrar un listado con todos los personajes. Al elegir uno de los disponibles se mostrará su információn básica, así como el título de las películas en las que aparece. Cuando se cambie el personaje, mediante una animación se ocultará la información del antiguo personaje (borrando sus datos) antes de mostrar sólo la información del nuevo.</p>
</div>
<div class="paragraph">
<p>Para ello, usaremos la siguiente plantilla:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="html"><span class="tok-cp">&lt;!DOCTYPE html&gt;</span>
<span class="tok-nt">&lt;html&gt;</span>
<span class="tok-nt">&lt;head</span> <span class="tok-na">lang=</span><span class="tok-s">&quot;es&quot;</span><span class="tok-nt">&gt;</span>
	<span class="tok-nt">&lt;meta</span> <span class="tok-na">charset=</span><span class="tok-s">&quot;UTF-8&quot;</span><span class="tok-nt">&gt;</span>
	<span class="tok-nt">&lt;title&gt;</span>Ejercicio 72<span class="tok-nt">&lt;/title&gt;</span>
<span class="tok-nt">&lt;/head&gt;</span>
<span class="tok-nt">&lt;body&gt;</span>
<span class="tok-nt">&lt;h1&gt;</span>Star Wars API<span class="tok-nt">&lt;/h1&gt;</span>
<span class="tok-nt">&lt;h2&gt;</span>Personajes - <span class="tok-nt">&lt;span</span> <span class="tok-na">id=</span><span class="tok-s">&#39;total&#39;</span><span class="tok-nt">&gt;&lt;/span&gt;&lt;/h2&gt;</span>
Elige entre los principales personajes: <span class="tok-nt">&lt;select</span> <span class="tok-na">id=</span><span class="tok-s">&#39;personajes&#39;</span><span class="tok-nt">&gt;&lt;/select&gt;</span>
<span class="tok-nt">&lt;br</span> <span class="tok-nt">/&gt;</span>
<span class="tok-nt">&lt;br</span> <span class="tok-nt">/&gt;</span>
<span class="tok-nt">&lt;div</span> <span class="tok-na">id=</span><span class="tok-s">&#39;personaje&#39;</span> <span class="tok-na">style=</span><span class="tok-s">&#39;display:none; background:ghostwhite&#39;</span><span class="tok-nt">&gt;</span>
	Nombre: <span class="tok-nt">&lt;span</span> <span class="tok-na">id=</span><span class="tok-s">&#39;nombre&#39;</span><span class="tok-nt">&gt;&lt;/span&gt;&lt;br</span> <span class="tok-nt">/&gt;</span>
	Sexo: <span class="tok-nt">&lt;span</span> <span class="tok-na">id=</span><span class="tok-s">&#39;sexo&#39;</span><span class="tok-nt">&gt;&lt;/span&gt;&lt;br</span> <span class="tok-nt">/&gt;</span>
	Especie: <span class="tok-nt">&lt;span</span> <span class="tok-na">id=</span><span class="tok-s">&#39;especie&#39;</span><span class="tok-nt">&gt;&lt;/span&gt;&lt;br</span> <span class="tok-nt">/&gt;</span>
	Películas: <span class="tok-nt">&lt;ul</span> <span class="tok-na">id=</span><span class="tok-s">&#39;peliculas&#39;</span><span class="tok-nt">&gt;&lt;/ul&gt;&lt;br</span> <span class="tok-nt">/&gt;</span>
<span class="tok-nt">&lt;/div&gt;</span>

<span class="tok-nt">&lt;script </span><span class="tok-na">src=</span><span class="tok-s">&quot;jquery-1.11.2.js&quot;</span><span class="tok-nt">&gt;&lt;/script&gt;</span>
<span class="tok-nt">&lt;script </span><span class="tok-na">src=</span><span class="tok-s">&quot;ej72.js&quot;</span><span class="tok-nt">&gt;&lt;/script&gt;</span>
<span class="tok-nt">&lt;/body&gt;</span>
<span class="tok-nt">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Al cargar a <em>Obi-Wan</em> la apariencia será similar a la siguiente imagen:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/js07/ejer72.jpg" alt="Star Wars jQuery">
</div>
<div class="title">Figure 3. Star Wars jQuery</div>
</div>
<div class="paragraph">
<p>Todo el código estará incluido en el archivo <code>ej72.js</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="__0_3_ptos_ejercicio_73_em_plugin_em_canificador">7.6.3. (0.3 ptos) Ejercicio 73. <em>Plugin</em> Canificador</h4>
<div class="paragraph">
<p>A partir del ejercicio 41 donde creamos el módulo <em>Canificador</em>, crear un <em>plugin</em> de <em>jQuery</em> que integre la misma funcionalidad, de modo que podamos utilizarlo tanto de manera global como si fuese un método de objeto:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="javascript"><span class="tok-kd">var</span> <span class="tok-nx">cadenaCaniada</span> <span class="tok-o">=</span> <span class="tok-nx">$</span><span class="tok-p">.</span><span class="tok-nx">toCani</span><span class="tok-p">(</span><span class="tok-s2">&quot;Mi cadena&quot;</span><span class="tok-p">);</span>
<span class="tok-nx">$</span><span class="tok-p">(</span><span class="tok-s2">&quot;#contenidoCani&quot;</span><span class="tok-p">).</span><span class="tok-nx">toCani</span><span class="tok-p">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>El <em>plugin</em> debe permitir modificar la configuración base para que el final de la cadena sea diferente a <code>HHH</code>.</p>
</div>
<div class="paragraph">
<p>Todo el código estará incluido en el archivo <code>jquery.canificador.js</code>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. Antes se lanzaba <code>ajaxSuccess</code> y ahora se lanza <code>ajaxError</code>
</div>
<div class="footnote" id="_footnote_2">
<a href="#_footnoteref_2">2</a>. AJAX Comenzando, Antes de enviar la información&#8230;&#8203;, GET url Not found, Houston tenemos un problema: Not found, Todo ha finalizado!, AJAX petición finalizada
</div>
<div class="footnote" id="_footnote_3">
<a href="#_footnoteref_3">3</a>. Un array con los valores: 5, 4, 3, 2, 1, 6, 7, 8
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.1<br>
Last updated 2016-02-23 21:54:11 CET
</div>
</div>
</body>
</html>