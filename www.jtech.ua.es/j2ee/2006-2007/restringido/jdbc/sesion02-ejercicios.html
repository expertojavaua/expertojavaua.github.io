<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.7">
<meta name="Forrest-skin-name" content="pelt">
<title>Ejercicios de consultas, movimientos y restricciones en la consulta</title>
<link type="text/css" href="skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="skin/print.css" rel="stylesheet">
<link type="text/css" href="skin/profile.css" rel="stylesheet">
<script src="skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<div class="header">
<div class="grouplogo">
<a href="http://www.jtech.ua.es/j2ee"><img class="logoImage" alt="J2EE" src="images/baner_j2ee_izq.gif" title="Curso Especialista Universitario J2EE"></a>
</div>
<div class="projectlogoA1">
<a href="http://www.dccia.ua.es/"><img class="logoImage" alt="Bases de datos con JDBC" src="images/baner_j2ee_der.gif" title="Bases de datos con JDBC"></a>
</div>
<ul id="tabs">
<li>
<a class="base-not-selected" href="../index.html">M&oacute;dulos</a>
</li>
<li class="current">
<a class="base-selected" href="index.html">Bases de datos con JDBC</a>
</li>
</ul>
</div>
</div>
<div id="main">
<div id="publishedStrip">
<div id="level2tabs"></div>
<script type="text/javascript"><!--
document.write("<text>Last Published:</text> " + document.lastModified);
//  --></script>
</div>
<div class="breadtrail">
             
             &nbsp;
           </div>
<div id="menu">
<div onclick="SwitchMenu('menu_selected_1.1', 'skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">Materiales</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="index.html" title="Bases de datos con JDBC">&Iacute;ndice</a>
</div>
<div onclick="SwitchMenu('menu_1.1.2', 'skin/')" id="menu_1.1.2Title" class="menutitle">Teor&iacute;a</div>
<div id="menu_1.1.2" class="menuitemgroup">
<div class="menuitem">
<a href="sesion01-apuntes.html">Sesion 1</a>
</div>
<div class="menuitem">
<a href="sesion02-apuntes.html">Sesion 2</a>
</div>
<div class="menuitem">
<a href="sesion03-apuntes.html">Sesion 3</a>
</div>
<div class="menuitem">
<a href="sesion04-apuntes.html">Sesion 4</a>
</div>
<div class="menuitem">
<a href="roadmap-apuntes.html">Roadmap</a>
</div>
</div>
<div onclick="SwitchMenu('menu_selected_1.1.3', 'skin/')" id="menu_selected_1.1.3Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">Ejercicios</div>
<div id="menu_selected_1.1.3" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="sesion01-ejercicios.html">Sesion 1</a>
</div>
<div class="menupage">
<div class="menupagetitle">Sesion 2</div>
</div>
<div class="menuitem">
<a href="sesion03-ejercicios.html">Sesion 3</a>
</div>
<div class="menuitem">
<a href="sesion04-ejercicios.html">Sesion 4</a>
</div>
</div>
</div>
<div id="credit"></div>
<div id="roundbottom">
<img style="display: none" class="corner" height="15" width="15" alt="" src="skin/images/rc-b-l-15-1body-2menu-3menu.png"></div>
<div id="credit2"></div>
</div>
<div id="content">
<div title="Portable Document Format" class="pdflink">
<a class="dida" href="sesion02-ejercicios.pdf"><img alt="PDF -icon" src="skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a>
</div>
<h1>Ejercicios de consultas, movimientos y restricciones en la consulta</h1>
<div id="minitoc-area">
<ul class="minitoc">
<li>
<a href="#Consulta+simple+de+una+BD">Consulta simple de una BD</a>
</li>
<li>
<a href="#Movimiento+por+el+ResultSet">Movimiento por el ResultSet</a>
</li>
<li>
<a href="#Actualizaci%C3%B3n+de+la+base+de+datos">Actualizaci&oacute;n de la base de datos</a>
</li>
</ul>
</div>

<a name="N1000C"></a><a name="Consulta+simple+de+una+BD"></a>
<h2 class="underlined_10">Consulta simple de una BD</h2>
<div class="section">
<p>En el proyecto ten&eacute;is una clase llamada <em>Consultas</em>. Deb&eacute;is implementar los 
m&eacute;todos correspondientes. Para ello, llamar&eacute;is al m&eacute;todo del DAO correspondiente y luego 
mostr&aacute;is por la consola el listado. Nota: para obtener 
  la fecha llamad a <em>getDate</em> y para la hora <em>getTime</em>.</p>
<p>Implementad tambi&eacute;n dos m&eacute;todos adicionales. El primero realiza una consulta
por el aeropuerto de salida y nos devuelve los vuelos que salen de ese aeropuerto. 
Se mostrar&aacute;n los vuelos obtenidos. Para indicar el valor de un campo hay que usar la
sentencia SQL <em>where nombre='pepito'</em>, usando las comillas simples en el caso 
de cadenas de caracteres.
Controlad si no ha habido datos en la consulta. El siguiente m&eacute;todo realiza una b&uacute;squeda
por nombre de hotel, permitiendo introducir un nombre parcial. Para ello, pod&eacute;is usar
<em>where nombre like '%ote%'</em>.</p>
</div>

<a name="N10028"></a><a name="Movimiento+por+el+ResultSet"></a>
<h2 class="underlined_10">Movimiento por el ResultSet</h2>
<div class="section">
<p>Vamos a realizar un ejercicio para ver c&oacute;mo nos podemos mover por el <em>ResultSet</em>.
Para ello, vamos a centrarnos en el DAO de usuario. Tendremos un objeto <em>ResultSet</em>
como miembro de la clase e implementaremos los siguientes m&eacute;todos:
</p>
<ul>
    
<li>
<em>public void consultaUsuarios ()</em>: crear&aacute; el <em>ResultSet</em> ejecutando
    una sentencia con el tipo de <em>scroll</em> <em>INSENSITIVE</em>.</li>
    
<li>
<em>public boolean isLastUsuario ()</em>: devuelve cierto si es el &uacute;ltimo 
    elemento del <em>ResultSet</em>.</li>
    
<li>
<em>public boolean isFirstUsuario ()</em>: devuelve cierto si es el primer 
    elemento del <em>ResultSet</em>.</li>
    
<li>
<em>public Usuario lastUsuario ()</em>: devuelve el &uacute;ltimo usuario.</li>
    
<li>
<em>public Usuario firstUsuario ()</em>: devuelve el primer usuario.</li>
	
<li>
<em>public Usuario getNextUsuario ()</em>: devuelve el siguiente usuario
	o <em>null</em> si el <em>ResultSet</em> est&aacute; vac&iacute;o.</li>
	
<li>
<em>public Usuario getPreviousUsuario ()</em>: devuelve el usuario anterior
	o <em>null</em> si el <em>ResultSet</em> est&aacute; vac&iacute;o.</li>

</ul>
<p>Para poder moveros por el <em>ResultSet</em> ten&eacute;is que crear la sentencia como 
<em>ResultSet.TYPE_SCROLL_INSENSITIVE</em> y <em>ResultSet.CONCUR_READ_ONLY</em>. 
El tipo de consulta <em>SENSITIVE</em> no funciona en la versi&oacute;n actual de MySQL o 
del driver.</p>
</div>

<a name="N10088"></a><a name="Actualizaci%C3%B3n+de+la+base+de+datos"></a>
<h2 class="underlined_10">Actualizaci&oacute;n de la base de datos</h2>
<div class="section">
<p>Vamos a realizar un ejercicio donde actualicemos la BD. Hay que realizar un m&eacute;todo, 
<em>void actualizaEuros()</em>, que cambiar&aacute; el valor en el campo <em>precio</em> de la 
tabla <em>hotel</em> convirti&eacute;ndolo a euros. Para ello, primero ten&eacute;is que convertir
la columna <em>precio</em> en real y luego realizar la conversi&oacute;n. Pod&eacute;is usar los 
siguientes comandos SQL:</p>
<ul>
    
<li>
<em>alter table hotel change precio precio double(10,3)</em>
</li>
    
<li>
<em>update hotel set precio = precio/166.386</em>
</li>

</ul>
<p>Deb&eacute;is implementar un m&eacute;todo en el DAO hotel. El m&eacute;todo devolver&aacute; los registros que
se han visto afectados y se mostrar&aacute;n por la salida est&aacute;ndar.</p>
</div>

</div>
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("<text>Last Published:</text> " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2006-2007 Depto. CCIA</div>
</div>
</body>
</html>
