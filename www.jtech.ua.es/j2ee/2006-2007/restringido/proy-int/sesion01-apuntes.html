<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.7">
<meta name="Forrest-skin-name" content="pelt">
<title>Caso de Estudio</title>
<link type="text/css" href="skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="skin/print.css" rel="stylesheet">
<link type="text/css" href="skin/profile.css" rel="stylesheet">
<script src="skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<div class="header">
<div class="grouplogo">
<a href="http://www.jtech.ua.es/j2ee"><img class="logoImage" alt="J2EE" src="images/baner_j2ee_izq.gif" title="Curso Especialista Universitario en Java Enterprise"></a>
</div>
<div class="projectlogoA1">
<a href="http://www.dccia.ua.es/"><img class="logoImage" alt="Proyecto de Integracion" src="images/baner_j2ee_der.gif" title="Proyecto de Integracion"></a>
</div>
<ul id="tabs">
<li>
<a class="base-not-selected" href="../index.html">M&oacute;dulos</a>
</li>
<li class="current">
<a class="base-selected" href="index.html">Proyecto de Integraci&oacute;n</a>
</li>
</ul>
</div>
</div>
<div id="main">
<div id="publishedStrip">
<div id="level2tabs"></div>
<script type="text/javascript"><!--
document.write("<text>Last Published:</text> " + document.lastModified);
//  --></script>
</div>
<div class="breadtrail">
             
             &nbsp;
           </div>
<div id="menu">
<div onclick="SwitchMenu('menu_selected_1.1', 'skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">Proyecto de Integraci&oacute;n</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="index.html" title="Proyecto de Integraci&oacute;n">&Iacute;ndice</a>
</div>
<div onclick="SwitchMenu('menu_selected_1.1.2', 'skin/')" id="menu_selected_1.1.2Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">Teor&iacute;a</div>
<div id="menu_selected_1.1.2" class="selectedmenuitemgroup" style="display: block;">
<div class="menupage">
<div class="menupagetitle">Sesi&oacute;n 1</div>
</div>
<div class="menuitem">
<a href="sesion02-apuntes.html" title="Sesi&oacute;n 2: DAO con JDBC">Sesi&oacute;n 2</a>
</div>
<div class="menuitem">
<a href="sesion03-apuntes.html" title="Sesi&oacute;n 3: Aplicaci&oacute;n web con servlets">Sesi&oacute;n 3</a>
</div>
<div class="menuitem">
<a href="sesion04-apuntes.html" title="Sesi&oacute;n 4: Aplicaci&oacute;n web con servlets y JSPs">Sesi&oacute;n 4</a>
</div>
<div class="menuitem">
<a href="sesion0506-apuntes.html" title="Sesiones 5 y 6: Aplicaci&oacute;n web con Struts">Sesi&oacute;n 5-6</a>
</div>
<div class="menuitem">
<a href="sesion07-apuntes.html" title="Sesi&oacute;n 7: Aplicaci&oacute;n web con Hibernate">Sesi&oacute;n 7</a>
</div>
<div class="menuitem">
<a href="sesion08-apuntes.html" title="Sesi&oacute;n 8: Proyecto web">Sesi&oacute;n 8</a>
</div>
<div class="menuitem">
<a href="sesion09-apuntes.html" title="Sesi&oacute;n 9: Spring">Sesi&oacute;n 9</a>
</div>
<div class="menuitem">
<a href="sesion10-apuntes.html" title="Sesi&oacute;n 10: Servidores de aplicaciones">Sesi&oacute;n 10</a>
</div>
<div class="menuitem">
<a href="sesion11-apuntes.html" title="Sesi&oacute;n 11: Componentes EJB">Sesi&oacute;n 11</a>
</div>
<div class="menuitem">
<a href="sesion12-apuntes.html" title="Sesi&oacute;n 12: Mensajes: JMS">Sesi&oacute;n 12</a>
</div>
<div class="menuitem">
<a href="sesion13-apuntes.html" title="Sesi&oacute;n 13: Servicios Web">Sesi&oacute;n 13</a>
</div>
<div class="menuitem">
<a href="sesion14-apuntes.html" title="Sesi&oacute;n 14: Proyecto Enterprise">Sesi&oacute;n 14</a>
</div>
</div>
</div>
<div id="credit"></div>
<div id="roundbottom">
<img style="display: none" class="corner" height="15" width="15" alt="" src="skin/images/rc-b-l-15-1body-2menu-3menu.png"></div>
<div id="credit2"></div>
</div>
<div id="content">
<div title="Portable Document Format" class="pdflink">
<a class="dida" href="sesion01-apuntes.pdf"><img alt="PDF -icon" src="skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a>
</div>
<h1>Caso de Estudio</h1>
<div id="minitoc-area">
<ul class="minitoc">
<li>
<a href="#Introducci%C3%B3n">Introducci&oacute;n</a>
</li>
<li>
<a href="#Ingenier%C3%ADa+de+Requisitos">Ingenier&iacute;a de Requisitos</a>
<ul class="minitoc">
<li>
<a href="#Casos+de+Uso">Casos de Uso</a>
</li>
</ul>
</li>
<li>
<a href="#An%C3%A1lisis+y+Dise%C3%B1o+OO">An&aacute;lisis y Dise&ntilde;o OO</a>
<ul class="minitoc">
<li>
<a href="#Modelo+de+Objetos">Modelo de Objetos</a>
</li>
<li>
<a href="#Modelo+de+Datos">Modelo de Datos</a>
</li>
</ul>
</li>
<li>
<a href="#Entorno+de+Desarrollo">Entorno de Desarrollo</a>
<ul class="minitoc">
<li>
<a href="#Estructura+del+Proyecto">Estructura del Proyecto</a>
</li>
<li>
<a href="#Gesti%C3%B3n+de+Logs">Gesti&oacute;n de Logs</a>
</li>
</ul>
</li>
<li>
<a href="#A+Entregar">A Entregar</a>
</li>
</ul>
</div>


<a name="N1000C"></a><a name="Introducci%C3%B3n"></a>
<h2 class="underlined_10">Introducci&oacute;n</h2>
<div class="section">
<p>A partir de un supuesto b&aacute;sico de la gesti&oacute;n de una biblioteca, vamos a crear un caso de estudio completo que evolucionar&aacute; conforme estudiemos las diferentes tecnolog&iacute;as de la plataforma Java Enterprise.</p>
<p>El objetivo de esta sesi&oacute;n es introducir el caso de estudio que vamos a desarrollar, definiendo el enunciado y el esqueleto inicial del problema.</p>
</div>


<a name="N10019"></a><a name="Ingenier%C3%ADa+de+Requisitos"></a>
<h2 class="underlined_10">Ingenier&iacute;a de Requisitos</h2>
<div class="section">
<p>El Instituto de Educaci&oacute;n Secundaria "jUA"  nos ha encargado que desarrollemos una aplicaci&oacute;n para la gesti&oacute;n de los pr&eacute;stamos realizados en la biblioteca del centro, lo que implica una gesti&oacute;n de los libros y de los alumnos y profesores que realizan estos prestamos.</p>
<p>Tras una serie de entrevistas y reuniones con diferente personal del centro, hemos llegado a recopilar esta informaci&oacute;n:</p>
<ul>

<li>Respecto a un <strong>usuario</strong>, nos interesa almacenar:
<ul>
    
<li>Nombre y apellidos</li>
    
<li>Login y password</li>
    
<li>
<p>Tipo de usuario. Posibles tipos:</p>
        
<ul>
            
<li>Administrador: encargado de configurar la aplicaci&oacute;n y gestionar los usuarios.</li>
            
<li>Bibliotecario: encargado de la gesti&oacute;n de prestamos y libros.</li>
            
<li>Profesor</li>
            
<li>Socio: ya sea un alumno o un familiar suyo</li>
        
</ul>
        
<p>Tanto los profesores como los socios van a poder realizar pr&eacute;stamos sobre los libros, pero con diferentes permisos, tanto en n&uacute;mero de libros como en duraci&oacute;n del pr&eacute;stamo.</p>
    
</li>
    
<li>
<p>Estado de un usuario: baja, activo, reserva, pr&eacute;stamo y moroso</p>
    
<p>
    Los usuarios, al crearlos tendr&aacute; un estado activo, e ir&aacute;n pasando de estado conforme realicen operaciones. En el caso de que un usuario tenga un pr&eacute;stamo y una reserva, se almacenar&aacute; el estado m&aacute;s importante, en este caso, el de reserva.</p>
    
</li>

</ul>

</li>

<li>Respecto a un <strong>libro</strong>, nos interesa almacenar:
    <ul>
    
<li>Titulo y autor</li>
    
<li>ISBN</li>
    
<li>N&uacute;mero de p&aacute;ginas</li>
    
</ul>

</li>

<li>Respecto a los <strong>prestamos</strong>, tras muchas entrevistas deducimos que tanto las reservas, como los prestamos y las multas tienen caracter&iacute;sticas comunes, como son:
<ul>

<li>Fecha de inicio y finalizaci&oacute;n</li>

<li>Usuario de la operaci&oacute;n</li>

<li>Libro de la operaci&oacute;n</li>

</ul>


</li>

</ul>
<p>Respecto a las reglas para calcular el n&uacute;mero de libros y la duraci&oacute;n de los prestamos es la siguiente:</p>
<table class="ForrestTable" cellspacing="1" cellpadding="4">

<tr>
<th colspan="1" rowspan="1"></th><th colspan="1" rowspan="1">N&uacute;mero M&aacute;ximo de Libros</th><th colspan="1" rowspan="1">D&iacute;as de Reserva</th><th colspan="1" rowspan="1">D&iacute;as de Prestamo</th>
</tr>

<tr>
<th colspan="1" rowspan="1">Socio</th><td colspan="1" rowspan="1">3</td><td colspan="1" rowspan="1">5</td><td colspan="1" rowspan="1">7</td>
</tr>

<tr>
<th colspan="1" rowspan="1">Profesor</th><td colspan="1" rowspan="1">10</td><td colspan="1" rowspan="1">10</td><td colspan="1" rowspan="1">30</td>
</tr>

</table>
<p>Por ejemplo, un socio solo puede reservar un m&aacute;ximo de 3 libros, teniendo 5 d&iacute;as para recoger el libro. Si a los 5 d&iacute;as de realizar la reserva no ha acudido a la biblioteca a formalizar el pr&eacute;stamo, se anular&aacute; la reserva, de modo que el libro quedar&aacute; disponible. En cuanto a los prestamos, deber&aacute; devolver el libro como mucho una semana despu&eacute;s.</p>
<p>En el momento que un usuario tenga una demora en la devoluci&oacute;n de un pr&eacute;stamo, se considerar&aacute; al usuario moroso y se le impondr&aacute; una penalizaci&oacute;n del doble de d&iacute;as de desfase durante los cuales no podr&aacute; ni reservar ni realizar pr&eacute;stamos de libros.</p>
<a name="N100BB"></a><a name="Casos+de+Uso"></a>
<h3 class="underlined_5">Casos de Uso</h3>
<p>En un principio, el n&uacute;mero de casos de uso es muy limitado. A lo largo del proyecto nos vamos a centrar en el desarrollo de los siguientes casos de uso:</p>
<p>
	
<img alt="Diagrama de Casos de Uso" content-width="13cm" src="imagenes/s1/CasosDeUso.gif" width="476">
</p>
<p>Destacar que la validaci&oacute;n de usuarios para todos los actores se considera una precondici&oacute;n que deben cumplir todos los casos de uso, y por lo tanto no se muestra en el diagrama.</p>
<p>M&aacute;s adelante, conforme cambien los requisitos del cliente (que siempre cambian), puede que el sistema permita renovar los prestamos a los alumnos, que los usuarios registrados puedan modificar su informaci&oacute;n de usuario, que los bibliotecarios obtengan informes sobre libros m&aacute;s prestados y/o reservados, etc...</p>
</div>


<a name="N100D5"></a><a name="An%C3%A1lisis+y+Dise%C3%B1o+OO"></a>
<h2 class="underlined_10">An&aacute;lisis y Dise&ntilde;o OO</h2>
<div class="section">
<p>Para simplificar el planteamiento de la aplicaci&oacute;n, vamos a partir de las siguientes premisas:</p>
<ul>

<li>No se permite m&aacute;s de una existencia de un libro. Es decir, s&oacute;lo hay un ejemplar de cada libro, y la aplicaci&oacute;n no permite libros repetidos.</li>

<li>Un libro s&oacute;lo tiene un autor.</li>

</ul>
<a name="N100E7"></a><a name="Modelo+de+Objetos"></a>
<h3 class="underlined_5">Modelo de Objetos</h3>
<p>A partir de los requisitos y tras unas sesiones de modelado, hemos llegado al siguiente modelo de objetos conceptual representado en el siguiente diagrama de clases:</p>
<p>
	
<img alt="Diagrama de Clases" content-width="16cm" src="imagenes/s1/ModeloDeObjetos.gif" width="558">
</p>
<p>El elemento central de nuestro sistema va a ser el objeto <span class="codefrag">Operacion</span>, el cual, dependiendo de un atributo enumerado, nos indicar&aacute; si el objeto es un pr&eacute;stamo, una reserva o una multa. Adem&aacute;s, se compone de un <span class="codefrag">Libro</span> y de un <span class="codefrag">Usuario</span>.</p>
<div class="frame note">
<div class="label">Alternativa</div>
<div class="content">
Otra forma de modelar este problema ser&iacute;a mediante una relaci&oacute;n de herencia entre una clase abstracta <span class="codefrag">Operacion</span>, del cual tuvi&eacute;semos las clases extendidas de <span class="codefrag">Reserva</span>, <span class="codefrag">Prestamo</span> y <span class="codefrag">Multa</span>.
</div>
</div>
<p>Estos objetos son <em>Transfer Objects</em> dentro del sistema, ya que realizan funciones de meros contenedores, los cuales viajar&aacute;n por las capas de la aplicaci&oacute;n.</p>
<p>Adem&aacute;s, para asegurarnos que todos nuestros TOs sean <span class="codefrag">Serializable</span>s y obtener r&aacute;pidamente una representaci&oacute;n del estado (mostrando los valores de todos los atributos), vamos a crear una clase abstracta que sobrecargue el m&eacute;todo <span class="codefrag">toString()</span> y que obligue a implementar en todos los <em>TOs</em> el m&eacute;todo <span class="codefrag">TransferObject getData()</span>
</p>
<pre class="code">
package es.ua.jtech.proyint.to;

import java.io.Serializable;

import org.apache.commons.lang.builder.ReflectionToStringBuilder;

/**
 * Clase que representa un Transfer Object
 * 
 * @author $Author: amedrano $
 * @version $Revision: 1.3 $
 */
public abstract class <strong>TransferObject</strong> implements <strong>Serializable</strong> {

	// <em>crea un nuevo TO a partir de los datos del objeto</em>
	public <strong>abstract TransferObject getData()</strong>;

	public <strong>String toString()</strong> {
		// <em>librer&iacute;a commons-lang de jakarta</em> 
		return ReflectionToStringBuilder.toString(this);
	}
	
}
</pre>
<p>Del c&oacute;digo hemos de destacar el uso de la librer&iacute;a <a class="external" href="http://jakarta.apache.org/commons/lang/">commons-lang</a> de <em>Jakarta</em>, la cual ofrece multitud de utilidades complementarias al API de <span class="codefrag">java.lang</span>, manipulaci&oacute;n de cadenas, <em>reflection</em>, serializaci&oacute;n, etc... En este caso utilizamos el m&eacute;todo <a class="external" href="http://jakarta.apache.org/commons/lang/api-release/org/apache/commons/lang/builder/ReflectionToStringBuilder.html#toString(java.lang.Object)"><span class="codefrag">ReflectionToStringBuilder.toString(Object o)</span></a> que nos devuelve una representaci&oacute;n mediante un String de un objeto (por <em>reflection</em>).</p>
<p>Todos los TOs los vamos a definir dentro del paquete <span class="codefrag">es.ua.jtech.proyint.to</span>, y utilizaremos el prefijo <span class="codefrag">TO</span> para indicar que un objeto de la aplicaci&oacute;n es un <em>Transfer Object</em>. Cada TOs se compone de 3 constructores (constructor vac&iacute;o, constructor de copia, y constructor con todos los atributos del objeto) y de todos los getter/setter que encapsulan al objeto. As&iacute; pues, por ejemplo, la representaci&oacute;n del <em>Transfer Object</em> <span class="codefrag">LibroTO</span> ser&iacute;a:</p>
<pre class="code">
package <strong>es.ua.jtech.proyint.to</strong>;

/**
 * Clase que representa un libro. Destacar que la app no permite 2 ejemplares de un mismo libro
 * 
 * @author $Author: amedrano $
 * @version $Revision: 1.3 $
 */
public class <strong>LibroTO</strong> extends <strong>TransferObject</strong> {

	private static final long serialVersionUID = 5874144497759547336L;

	private String isbn;
	private String titulo;
	private String autor;
	private int numPaginas;

	public <strong>LibroTO()</strong> {
		super();
	}

	public <strong>LibroTO(String isbn, String titulo, String autor, int numPaginas)</strong> {
		super();
		this.init(isbn, titulo, autor, numPaginas);

	}

	public <strong>LibroTO(LibroTO libro)</strong> {
		super();
		this.init(libro.isbn, libro.titulo, libro.autor, libro.numPaginas);
	}

	private void init(String isbn, String titulo, String autor, int numPaginas) {
		this.isbn = isbn;
		this.titulo = titulo;
		this.autor = autor;
		this.numPaginas = numPaginas;
	}

	@Override
	public <strong>LibroTO getData()</strong> {
		return new LibroTO(this);
	}

	public String getAutor() {
		return autor;
	}

	public void setAutor(String autor) {
		this.autor = autor;
	}

	// resto de getters/setters
	// ...

}
</pre>
<a name="N10183"></a><a name="Modelo+de+Datos"></a>
<h3 class="underlined_5">Modelo de Datos</h3>
<p>A partir del modelo de objetos, la representaci&oacute;n que vamos a utilizar del modelo EER es la siguiente:</p>
<p>
	
<img alt="Diagrama de Entidad Relaci&oacute;n" content-width="15cm" src="imagenes/s1/eer.jpg" width="635">
</p>
<p>Para permitir relaciones de muchos a muchos (M:N) entre Usuario y Libro hemos creado un campo autoincrementable en la tabla Operacion (el cual no aparece en el modelo de objetos). Mediante estos mecanismos vamos a permitir que un usuario realice un pr&eacute;stamo del mismo libro en fechas distintas. Para evitar este campo, podemos poner como clave primaria el conjunto de campos {login, isbn, fdesde}. </p>
<div class="frame warning">
<div class="label">Cuidado</div>
<div class="content">
Mucho cuidado con prestar el mismo libro 2 veces a 2 usuarios distintos en fechas solapadas. Tal como hemos definido el modelo, nuestra BD permite esta casu&iacute;stica.
</div>
</div>
<p>Destacar que las enumeraciones del modelo de objeto se han transformado en enumeraciones de la base de datos (esta es una caracter&iacute;stica propia de MySQL).</p>
<p>El script SQL de creaci&oacute;n de la Base de Datos lo puedes descargar desde <a href="recursos/biblioteca.sql.txt">aqu&iacute;</a>. Adem&aacute;s, para crear la base de datos, vamos a utilizar el siguiente <a href="recursos/build.xml">script Ant</a> que colocaremos en la carpeta db del proyecto.</p>
<pre class="code">
&lt;project name="BD"  default="initBD"  basedir="."&gt;
	
  &lt;target name="initBD"&gt;
	&lt;sql driver="com.mysql.jdbc.Driver"  
		url="jdbc:mysql://localhost/" 
		userid="root" password="" src="biblioteca.sql"&gt;
		&lt;classpath&gt;
		   &lt;pathelement location="./lib/mysql-connector-java-5.0.3-bin.jar"/&gt;
		&lt;/classpath&gt;
	&lt;/sql&gt;
  &lt;/target&gt;

&lt;/project&gt;
</pre>
</div>


<a name="N101B0"></a><a name="Entorno+de+Desarrollo"></a>
<h2 class="underlined_10">Entorno de Desarrollo</h2>
<div class="section">
<p>A lo largo del proyecto, vamos a basarnos en la plataforma Eclipse WTP 1.5 + MySQL 5.0 (entregados en el DVD de inicio de curso). M&aacute;s adelante, ya entrar&aacute;n en juego el servidor web (Apache Tomcat) y el servidor de Aplicaciones (Bea Weblogic).</p>
<p>Dentro de las pr&aacute;cticas comunes a lo largo del proyecto tenemos:</p>
<ul>
    
<li>una estructura de proyecto limpia y est&aacute;ndar</li>
    
<li>uso de logs para todo tipo de mensajes de debug y error</li>
    
<li>uso de convenciones de c&oacute;digo Java</li>
    
<li>fichero Ant de construcci&oacute;n del proyecto</li>

</ul>
<a name="N101CB"></a><a name="Estructura+del+Proyecto"></a>
<h3 class="underlined_5">Estructura del Proyecto</h3>
<p>La estructura que vamos a seguir a lo largo de todo el curso parte de la estructura que hemos utilizado al crear la estructura de un proyecto dentro de los ejercicios de <em>Ant</em>.</p>
<table class="ForrestTable" cellspacing="1" cellpadding="4">

<tr>

<td colspan="1" rowspan="1"><img alt="Estructura de Proyecto" content-width="7cm" src="imagenes/s1/proyecto.gif" width="240"></td>
<td colspan="1" rowspan="1">
<p>La organizaci&oacute;n de este proyecto es la siguiente</p>

<ul>

<li>
<strong>src</strong>: carpeta fuente que contiene las clases Java comunes tanto para una aplicaci&oacute;n web como para una aplicaci&oacute;n Swing.<br>
Destacar el prefijo de todos los paquetes: <span class="codefrag">es.ua.jtech.proyint</span>

</li>

<li>
<strong>test</strong>: carpeta fuente con clases de Java basadas en <em>JUnit</em> para realizar las pruebas de la aplicaci&oacute;n.</li>

<li>
<strong>resources</strong>: carpeta fuente con los ficheros de recursos que al desplegar la aplicaci&oacute;n deben estar en el classpath</li>

</ul>

<div class="frame note">
<div class="label">build</div>
<div class="content">Estas tres carpetas fuentes deben dejar las clases compiladas en la misma carpeta. Normalmente, en aplicaciones Java, se utiliza la carpeta <span class="codefrag">build</span>
</div>
</div>

<ul>

<li>
<strong>db</strong>: scripts para la creaci&oacute;n de la BD</li>

<li>
<strong>dist</strong>: aplicaci&oacute;n empaquetada en un JAR</li>

<li>
<strong>docs</strong>: documentaci&oacute;n Javadoc generada.</li>

<li>
<strong>lib</strong>: librer&iacute;as auxiliares utilizadas por el proyecto.
    <ul>
    
<li>
<span class="codefrag">commons-logging.jar</span>: envoltorio de logs</li>
    
<li>
<span class="codefrag">log4j-1.2.14.jar</span>: librer&iacute;a de log</li>
    
<li>
<span class="codefrag">mysql-connector-java-5.0.3-bin.java</span>: driver JDBC para MySQL</li>
    
<li>
<span class="codefrag">commons-lang-2.2.jar</span>: librer&iacute;a de utilidades</li>
    
</ul>

</li>

<li>
<strong>logs</strong>: logs de la aplicaci&oacute;n.</li>

<li>
<strong>build.xml</strong>: fichero Ant de construcci&oacute;n de la
librer&iacute;a.</li>

</ul>

</td>

</tr>

</table>
<a name="N10246"></a><a name="Gesti%C3%B3n+de+Logs"></a>
<h3 class="underlined_5">Gesti&oacute;n de Logs</h3>
<p>Para la gesti&oacute;n de logs, pese a saber que log4j es la mejor oferta actual que existe en el mercado, para evitar problemas, vamos a utilizar el envoltorio ofrecido por las librer&iacute;as commons de Jakarta, de modo que envolvamos a log4j.
</p>
<p>La gesti&oacute;n de logs debe permitir que el fichero de logs cambie cada d&iacute;a (<span class="codefrag">DailyRollingFileAppender</span>), y que cada mensaje de log muestre:</p>
<ul>
    
<li>timestamp</li>
    
<li>nivel</li>
    
<li>mensaje</li>

</ul>
<div class="frame note">
<div class="label">Recuerda</div>
<div class="content">
Es muy c&oacute;modo configurar donde se encuentra los javadocs de las librer&iacute;as para tener la documentaci&oacute;n sensible al contexto.
</div>
</div>
</div>


<a name="N10267"></a><a name="A+Entregar"></a>
<h2 class="underlined_10">A Entregar</h2>
<div class="section">
<p>En esta sesi&oacute;n vamos a preparar la base para el resto de sesiones. Por ellos, debemos crear un proyecto Eclipse, al que llamaremos <strong>proy-int-comun</strong>, el cual contenga:</p>
<ol>

<li>estructura de proyecto, siguiendo la nomenclatura definida en el apartado anterior</li>

<li>modelo de objetos dentro del paquete <span class="codefrag">es.ua.jtech.proyint.to</span>, implementando cada TO con los atributos representados en el diagrama UML, y teniendo en cuenta la relaci&oacute;n de herencia con la la clase <span class="codefrag">TransferObject</span> y los constructores necesarios.</li>

<li>prueba JUnit (<span class="codefrag">TransferObjectTest</span>) que compruebe que la representaci&oacute;n de 2 objetos con los mismos valores devuelve una representaci&oacute;n distinta (ya que son instancias diferentes). En cambio, si obtenemos la representaci&oacute;n del mismo objeto 2 veces, si que ser&aacute; la misma.</li>

<li>gesti&oacute;n de logs (<span class="codefrag">proy-int-comun.log</span>) con una pol&iacute;tica de cambios diarios</li>

<li>fichero <em>Ant</em> de construcci&oacute;n del proyecto, con los objetivos <span class="codefrag">compile</span>, <span class="codefrag">package</span>, <span class="codefrag">doc</span>, <span class="codefrag">clean</span> y <span class="codefrag">test</span>
</li>

<li>estructura y despliegue de la base de datos</li>

</ol>
<p>El trabajo a realizar se debe efectuar durante la sesi&oacute;n actual, por lo cual no deber&iacute;a ser necesario emplear tiempo extra. De todos modos, el <strong>plazo final</strong> de entrega ser&aacute; 2 d&iacute;as antes de la pr&oacute;xima sesi&oacute;n de integraci&oacute;n.</p>
</div>


<p class="pageBreakAfter"></p>


</div>
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("<text>Last Published:</text> " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2006-2007 Depto. CCIA</div>
</div>
</body>
</html>
