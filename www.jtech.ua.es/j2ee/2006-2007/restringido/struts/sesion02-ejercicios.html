<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.7">
<meta name="Forrest-skin-name" content="pelt">
<title>Ejercicios de la vista en Struts</title>
<link type="text/css" href="skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="skin/print.css" rel="stylesheet">
<link type="text/css" href="skin/profile.css" rel="stylesheet">
<script src="skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<div class="header">
<div class="grouplogo">
<a href="http://www.jtech.ua.es/j2ee"><img class="logoImage" alt="J2EE" src="images/baner_j2ee_izq.gif" title="Curso Especialista Universitario J2EE"></a>
</div>
<div class="projectlogoA1">
<a href="http://www.dccia.ua.es/"><img class="logoImage" alt="Struts y JSF" src="images/baner_j2ee_der.gif" title="Struts y JSF"></a>
</div>
<ul id="tabs">
<li>
<a class="base-not-selected" href="../index.html">M&oacute;dulos</a>
</li>
<li class="current">
<a class="base-selected" href="index.html">Struts y JSF</a>
</li>
</ul>
</div>
</div>
<div id="main">
<div id="publishedStrip">
<div id="level2tabs"></div>
<script type="text/javascript"><!--
document.write("<text>Last Published:</text> " + document.lastModified);
//  --></script>
</div>
<div class="breadtrail">
             
             &nbsp;
           </div>
<div id="menu">
<div onclick="SwitchMenu('menu_selected_1.1', 'skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">JSF y Struts</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="index.html" title="JSF y Struts">&Iacute;ndice</a>
</div>
<div onclick="SwitchMenu('menu_1.1.2', 'skin/')" id="menu_1.1.2Title" class="menutitle">Teor&iacute;a</div>
<div id="menu_1.1.2" class="menuitemgroup">
<div class="menuitem">
<a href="sesion01-jsf-apuntes.html">Sesion 1</a>
</div>
<div class="menuitem">
<a href="sesion02-jsf-apuntes.html">Sesion 2</a>
</div>
<div class="menuitem">
<a href="roadmap-jsf.html">Roadmap JSF</a>
</div>
<div class="menuitem">
<a href="sesion01-apuntes.html">Sesion 3</a>
</div>
<div class="menuitem">
<a href="sesion02-apuntes.html">Sesion 4</a>
</div>
</div>
<div onclick="SwitchMenu('menu_selected_1.1.3', 'skin/')" id="menu_selected_1.1.3Title" class="menutitle" style="background-image: url('skin/images/chapter_open.gif');">Ejercicios</div>
<div id="menu_selected_1.1.3" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="sesion01-jsf-ejercicios.html">Sesion 1</a>
</div>
<div class="menuitem">
<a href="sesion02-jsf-ejercicios.html">Sesion 2</a>
</div>
<div class="menuitem">
<a href="sesion01-ejercicios.html">Sesion 3</a>
</div>
<div class="menupage">
<div class="menupagetitle">Sesion 4</div>
</div>
</div>
</div>
<div id="credit"></div>
<div id="roundbottom">
<img style="display: none" class="corner" height="15" width="15" alt="" src="skin/images/rc-b-l-15-1body-2menu-3menu.png"></div>
<div id="credit2"></div>
</div>
<div id="content">
<div title="Portable Document Format" class="pdflink">
<a class="dida" href="sesion02-ejercicios.pdf"><img alt="PDF -icon" src="skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a>
</div>
<h1>Ejercicios de la vista en Struts</h1>
<div id="minitoc-area">
<ul class="minitoc">
<li>
<a href="#Uso+de">Uso de ActionForms</a>
</li>
<li>
<a href="#Uso+de+la">Uso de la taglib HTML de Struts</a>
</li>
<li>
<a href="#Uso+de+DynaActionForms+%28*%29">Uso de DynaActionForms (*)</a>
</li>
</ul>
</div>

<a name="N1000C"></a><a name="Uso+de"></a>
<h2 class="underlined_10">Uso de ActionForms</h2>
<div class="section">
<p>Se pide crear y utilizar un ActionForm en el caso de uso "registrar nuevo usuario". En la implementaci&oacute;n actual de la acci&oacute;n los datos del nuevo usuario se toman directamente de la petici&oacute;n HTTP, lo que hace que el c&oacute;digo para tomarlos sea engorroso y no se pueda hacer una validaci&oacute;n modular (hay que poner el c&oacute;digo de validaci&oacute;n dentro de la propia acci&oacute;n). Por tanto hay que:
</p>
<ol>

<li>Crear una nueva clase <span class="codefrag">amigosStruts.acciones.FormRegistro</span> que ser&aacute; el ActionForm para almacenar los datos del formulario de registro. Dicha clase tendr&aacute; una serie de m&eacute;todos get/set para recuperar/almacenar el login, el password y la confirmaci&oacute;n de password, el sexo, la fecha de nacimiento, la descripci&oacute;n y la localidad. Las propiedades se llamar&aacute;n respectivamente "login", "password1", "password2", "sexo", "fechaNac", "descripcion" y "localidad" ya que as&iacute; se llaman ahora los campos de formulario de registro.jsp. Todas las propiedades deben ser Strings.(</li>

<li>Crear un m&eacute;todo <span class="codefrag">validate</span> en el ActionForm para comprobar errores. Para simplificar, suponer que el &uacute;nico error posible es que los dos passwords no sean iguales</li>

<li>Asociar el ActionForm definido a la acci&oacute;n<span class="codefrag">amigosStruts.acciones.AccionRegistro</span>en fel fichero <span class="codefrag">struts-config.xml</span>
</li>

<li>Cambiar el c&oacute;digo de la acci&oacute;n <span class="codefrag">amigosStruts.acciones.AccionRegistro</span> para que tome los datos del ActionForm en lugar de tomarlos de la petici&oacute;n HTTP</li>

</ol>
</div>

<a name="N10035"></a><a name="Uso+de+la"></a>
<h2 class="underlined_10">Uso de la taglib HTML de Struts</h2>
<div class="section">
<p>Para evitar que el usuario tenga que volver a rellenar los datos del formulario si ha cometido alg&uacute;n error, sustituir las etiquetas HTML de los campos del formulario por las correspondientes de la <em>taglib</em> para campos de formulario de Struts. Comprobar que efectivamente los datos se vuelven a colocar en los campos de formulario en caso de vuelta a la p&aacute;gina registro.jsp</p>
</div>

<a name="N10045"></a><a name="Uso+de+DynaActionForms+%28*%29"></a>
<h2 class="underlined_10">Uso de DynaActionForms (*)</h2>
<div class="section">
<p>El c&oacute;digo de los m&eacute;todos get/set del ActionForm creado en el primer ejercicio es bastante repetitivo. Sustituir el ActionForm por otro nuevo que sea un DynaActionForm (no borrar la clase creada en el primer ejercicio), lo que implicar&aacute;:</p>
<ol>
	
<li>Crear una clase que herede de <span class="codefrag">org.apache.struts.action.DynaActionForm</span>y tenga el m&eacute;todo <span class="codefrag">validate implementado en el primer ejercicio</span>
</li>
	
<li>Definir el DynaActionForm en el fichero struts-config.xml</li>
	
<li>Asociar el DynaActionForm a la acci&oacute;n <span class="codefrag">amigosStruts.acciones.FormRegistro</span> (dejar entre comentarios HTML la asociaci&oacute;n hecha en el ejercicio 1, para no tener que borrarla)</li>

</ol>
</div>

<p class="pageBreakAfter"></p>

</div>
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("<text>Last Published:</text> " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2006-2007 Depto. CCIA</div>
</div>
</body>
</html>
